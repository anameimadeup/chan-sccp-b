2016-04-18  ddegroot

	* [r6818] src/sccp_cli.c, src/sccp_pbx.c: Fix: stuck PBX channel
	  after using c->designator to build PBX channelName. Issue
	  reported by Valerio.

	* [r6817] src/sccp_channel.c: Fix: potential NULL pointer
	  dereference (minor)

2016-04-17  ddegroot

	* [r6816] src/pbx_impl/ast/ast.h, src/pbx_impl/ast/define.h,
	  src/sccp_hint.c: Fix: Prevent segfault when hint->callInfo is
	  NULL in sccp_hint_devstate_cb.

2016-04-16  ddegroot

	* [r6815] src/sccp_device.c, src/sccp_device.h: Enh: Report calling
	  function when executing sccp_dev_clean
	  Fix: Cancel channels connected to this device in reverse order,
	  when
	  running sccp_dev_clean. Which will hangup channels being
	  transfered in
	  a more logical fashion
	  
	  (Linked to '[Chan-sccp-b-discussion] sccp-chan-b goes in limbo
	  after rejected
	  transfer)' by Valerio).

	* [r6814] src/sccp_dllists.h: Fix: compile error when using
	  SCCP_LIST_TRAVERSE_BACKWARD_SAFE_BEGIN

	* [r6813] src/sccp_channel.c, src/sccp_cli.c, src/sccp_indicate.c,
	  src/sccp_pbx.c, src/sccp_rtp.c: Fix/Enh: Use channel->designator
	  instead of line->name + channel->callid, so
	  that we get uniform channel information everywhere
	  
	  (Linked to [Chan-sccp-b-discussion] sccp-chan-b goes in limbo
	  after rejected
	  transfer, by Valerio).

2016-04-11  ddegroot

	* [r6812] src/sccp_config_entries.hh: Fix: Removed
	  transfer,cfwdall,idivert from the ringout keymode in the default
	  softkeyset
	  Pressing transfer during ringout does not make a lot of sense,
	  and causes nasty side effects
	  Issue: sccp-chan-b goes in limbo after rejected transfer,
	  reported by Valerio

2016-04-08  ddegroot

	* [r6811] src/pbx_impl/ast106/ast106.c,
	  src/pbx_impl/ast108/ast108.c, src/pbx_impl/ast110/ast110.c,
	  src/pbx_impl/ast112/ast112.c, src/pbx_impl/ast113/ast113.c:
	  Enh/Fix: Copy DeviceState Mapping from ast111 to the other
	  asterisk version (CS_EXPERIMENTAL)

	* [r6810] src/pbx_impl/ast111/ast111.c, src/sccp_hint.c: Fix:
	  Enh/Fix: hint channelstate->extensionstate->devicestate mapping
	  (CS_EXPERIMENTAL) for asterisk-11

	* [r6809] src/pbx_impl/ast111/ast111.c, src/sccp_hint.c: Enh/Fix:
	  hint channelstate->extensionstate->devicestate mapping
	  (CS_EXPERIMENTAL)
	  Fix: DND <<busy>> processing on FreePBX causing issues. Issue
	  reported by Miguel ('[Chan-sccp-b-discussion] Dont Disturb issue
	  (30-03-2016)').
	  
	  Note: Needs further testing with --enable-experimental-mode and
	  change in ast111 need to be copied to other ast versions

2016-04-07  ddegroot

	* [r6808] src/sccp_features.c: Fix: pickup displayprompt + zipzip
	  when onhook

	* [r6807] src/sccp_channel.c, src/sccp_line.c, src/sccp_utils.c,
	  src/sccp_utils.h: Enh: move sccp_always_true / sccp_always_false
	  functions to sccp_utils.c

	* [r6806] src/sccp_channel.c, src/sccp_channel.h,
	  src/sccp_features.c, src/sccp_line.c, src/sccp_line.h: Fix: moved
	  isPickupAllowed / resetPickup and disallowPickup to sccp_line and
	  attach it to the linedevice instead of the channel
	  Fix: Adapt pickup/gpickup function to use the above function to
	  disable the pickup/gpickup functionality after the first try on a
	  channel
	  Fix: Reset the PickupAllowed status during channel cleanup
	  Fix: Clean DisplayPrompt during channel cleanup, to make sure any
	  display error messages get cleared

2016-04-06  ddegroot

	* [r6805] src/sccp_actions.c, src/sccp_config.c, src/sccp_device.c,
	  src/sccp_device.h, src/sccp_enum.in, src/sccp_softkeys.c: Enh:
	  use sccp_message_priority_t when sending
	  sccp_dev_displayprinotify, instead of 'arbitrary' value

	* [r6804] src/pbx_impl/ast108/ast108.c,
	  src/pbx_impl/ast110/ast110.c, src/pbx_impl/ast111/ast111.c,
	  src/pbx_impl/ast112/ast112.c, src/pbx_impl/ast113/ast113.c: Fix:
	  CallForwardAll + FreePBX. The calling party not to hear the
	  ringout sound.
	  Partial revert of a previous fix for the 'double callwaiting
	  tone' issue. Issue reported by miguel

	* [r6803] src/sccp_features.c: Fix: Temporary fix to make sure the
	  failed pickup displayprompt get's displayed to the user and not
	  clearer during hangup. Issue needs futher investigation later, to
	  make it possible to schedule a displayprompt with timeout,
	  without being overhauled later on. Issue reported by Miguel.

2016-04-05  ddegroot

	* [r6802] src/sccp_device.c: Fix: clear displayprompt only when
	  physically hanging up the receiver, instead of on onhook
	  indication. Issue noticed when handling gpickup/pickup on offhook
	  mode

	* [r6801] src/sccp_pbx.c: Fix: Prevent sccp_pbx_channel_allocate
	  from being called when the channel already has a channel->owner.
	  Assert (c->owner == NULL).

	* [r6800] src/sccp_features.c: Fix: typo in gpickup, hanging up
	  channel twice.

	* [r6799] src/sccp_channel.c, src/sccp_features.c: Fix:
	  sccp_channel_getEmptyChannel: we created two pbx channels in
	  offhook mode,
	  instead of re-using the channel that was already available ->
	  fixes hung
	  channel. Issue reported by Miguel
	  
	  Fix: side effect of previous fix is that module unload also
	  works.
	  
	  Fix: pickup/gpickup feature if no channel is available to pickup,
	  we should
	  hangup immediately and not schedule the hangup, to prevent
	  re-entrancy
	  problems, when the gpickup button is pressed again. Issue
	  reported by
	  Miguel,

2016-04-03  ddegroot

	* [r6798] src/sccp_callinfo.c, src/sccp_callinfo.h,
	  src/sccp_channel.c, src/sccp_hint.c, src/sccp_indicate.c: Enh:
	  Callinfo destructor should take a const pointer to a pointer to
	  callinfo, so it can free and null the pointer, refering to it

	* [r6797] src/sccp_channel.c: Fix deadcode warning in
	  sccp_channel_allocator (1)

	* [r6796] src/sccp_channel.c: Fix deadcode warning in
	  sccp_channel_allocator

2016-04-02  ddegroot

	* [r6795] src/sccp_channel.c: Fix: compile warning about
	  unitialized private_data

	* [r6794] src/define.h, src/sccp_channel.c, src/sccp_channel.h,
	  src/sccp_device.c, src/sccp_line.c: Enh: channel->line is
	  immutable during the channels existance, therefor
	  channel->musicclass is immutable / constant
	  channel->designator is immatbale / constant

	* [r6793] src/sccp_channel.c: Enh: revised sccp_channel_allocate

	* [r6792] src/sccp_actions.c: Fix: potential null dereference
	  (c->callid) if channel was not found

2016-04-01  ddegroot

	* [r6791] src/pbx_impl/ast108/ast108.c: Fix: faulty edit in
	  ast108.c

	* [r6790] src/pbx_impl/ast106/ast106.c,
	  src/pbx_impl/ast108/ast108.c, src/pbx_impl/ast110/ast110.c,
	  src/pbx_impl/ast111/ast111.c, src/pbx_impl/ast112/ast112.c,
	  src/pbx_impl/ast113/ast113.c: Fix compile warning about unused
	  variable

	* [r6789] src/sccp_features.c: Fix: compile issue on asterisk-1.6 /
	  asterisk-1.8 after last change

	* [r6788] src/sccp_features.c: Fix pickup dead-lock issue when
	  multiple phones are trying to pickup the same channel, reported
	  by Miguel.

2016-03-27  ddegroot

	* [r6787] aclocal.m4, configure: Enh: fix indented output line in
	  configure script about iconv library.

	* [r6786] autoconf/extra.m4, configure: Fix: configure warning
	  about RPMBUILD

	* [r6785] src/sccp_channel.c, src/sccp_channel.h: Enh: make some of
	  the channel variables constant, if they never have to change
	  during the life-time of the channel.

	* [r6784] src/pbx_impl/ast/ast.c, src/pbx_impl/ast106/ast106.c,
	  src/pbx_impl/ast108/ast108.c, src/pbx_impl/ast110/ast110.c,
	  src/pbx_impl/ast111/ast111.c, src/pbx_impl/ast112/ast112.c,
	  src/pbx_impl/ast113/ast113.c, src/sccp_actions.c,
	  src/sccp_appfunctions.c, src/sccp_channel.c, src/sccp_channel.h,
	  src/sccp_cli.c, src/sccp_conference.c, src/sccp_device.c,
	  src/sccp_features.c, src/sccp_indicate.c, src/sccp_management.c,
	  src/sccp_mwi.c, src/sccp_pbx.c, src/sccp_rtp.c: Enh: Renamed
	  c->getDevice_retained to c->getDevice, following the standard
	  rules of returning a retained device from a function, when
	  returning a
	  device.

	* [r6783] src/pbx_impl/ast106/ast106.c,
	  src/pbx_impl/ast108/ast108.c, src/pbx_impl/ast110/ast110.c,
	  src/pbx_impl/ast111/ast111.c, src/pbx_impl/ast112/ast112.c,
	  src/pbx_impl/ast113/ast113.c, src/sccp_channel.c,
	  src/sccp_channel.h, src/sccp_device.c, src/sccp_device.h,
	  src/sccp_pbx.c: Enh: make c->callid, c->passthrupartyid and
	  c->line constant during the lifetime of the channel
	  Enh: Added c->linedevice, which get's updated when changeing the
	  device assignment
	  Enh: Added c->getLineDevice / sccp_channel_getLineDevice()
	  Enh: Use c->getLineDevice
	  Enh: Remove debug version of sccp_channel_getDevice_retained

2016-03-26  ddegroot

	* [r6782] src/sccp_actions.c, src/sccp_channel.c,
	  src/sccp_device.c, src/sccp_enum.in, src/sccp_features.c,
	  src/sccp_indicate.c, src/sccp_pbx.c, src/sccp_protocol.h,
	  src/sccp_softkeys.c: Fix: starttone message, timeout should have
	  been tone direction. Fix: Call Forwarding problem with a CISCO
	  7962 Phone, reported by Miguel Alberto Sanz Pardo.

2016-03-25  ddegroot

	* [r6781] src/common.h, src/sccp_channel.h, src/sccp_device.c,
	  src/sccp_device.h, src/sccp_globals.h, src/sccp_line.h,
	  src/sccp_rtp.h: Enh: reorder struct to reduce memory usage
	  (pahole).

	* [r6780] src/sccp_line.c: Enh: always set the starttone timeout on
	  tones which have a limited time span. Fix: Check if retain
	  succeeded before callinf sccp_channel_endcall.

	* [r6779] src/sccp_refcount.c: Enh: debug print more of the
	  function name in for refcount debugging.

	* [r6778] src/sccp_actions.c, src/sccp_channel.c,
	  src/sccp_features.c, src/sccp_softkeys.c: Enh: always set the
	  starttone timeout on tones which have a limited time span

	* [r6777] src/pbx_impl/ast106/ast106.c,
	  src/pbx_impl/ast108/ast108.c, src/pbx_impl/ast110/ast110.c,
	  src/pbx_impl/ast111/ast111.c, src/pbx_impl/ast112/ast112.c,
	  src/pbx_impl/ast113/ast113.c, src/sccp_pbx.c, src/sccp_pbx.h:
	  Fix: sccp_channel refcount being off by one

2016-03-23  ddegroot

	* [r6776] src/sccp_device.c: Fix: sccp_dev_build_buttontemplate
	  7931. Patch provided by Jim Dossey.

	* [r6775] src/sccp_vector.h: Fix: potential null pointer
	  dereference

	* [r6774] src/sccp_mwi.c: Fix: potential null pointer dereference

	* [r6773] src/sccp_utils.c: Fix: null pointer dereference / faulty
	  assertion

	* [r6772] src/pbx_impl/ast106/ast106.c,
	  src/pbx_impl/ast108/ast108.c: Fix: compile warning (ast1.8 /
	  ast1.6.2)

	* [r6771] src/pbx_impl/ast110/ast110.c,
	  src/pbx_impl/ast111/ast111.c, src/pbx_impl/ast112/ast112.c,
	  src/pbx_impl/ast113/ast113.c: Fix:
	  sccp_wrapper_asterisk???_sched_del_ref, which should not have
	  been using a const sccp_channel_t *. Issue reported by Miguel.

	* [r6770] src/pbx_impl/ast106/ast106.c,
	  src/pbx_impl/ast108/ast108.c, src/pbx_impl/ast110/ast110.c,
	  src/pbx_impl/ast111/ast111.c, src/pbx_impl/ast112/ast112.c,
	  src/pbx_impl/ast113/ast113.c, src/sccp_refcount.c: Fix: remove
	  some comments, fix compilation against asterisk-1.6.2 and
	  asterisk-1.8 since changes in refcount system.

	* [r6769] src/sccp_actions.c: Fix: compile warnings. Reported by
	  Jim Dossey

	* [r6768] src/sccp_actions.c: Fix: handle_stimulus_linx when
	  resuming a call on a different line with the receiver offhook.
	  Patch provided by Jim Dosey.

	* [r6767] src/sccp_device.c: Fix: index 4 out of bounds for type
	  sccp_accessorystate_t [4]

2016-03-22  ddegroot

	* [r6766] src/Makefile.am, src/Makefile.in, src/Makefile.inc.am,
	  src/pbx_impl/Makefile.in, src/pbx_impl/ast/Makefile.in,
	  src/pbx_impl/ast106/Makefile.in, src/pbx_impl/ast108/Makefile.in,
	  src/pbx_impl/ast110/Makefile.in, src/pbx_impl/ast111/Makefile.in,
	  src/pbx_impl/ast112/Makefile.in, src/pbx_impl/ast113/Makefile.in,
	  src/pbx_impl/ast_announce/Makefile.in: Move sanitizer flags to
	  Makefile.inc.am

	* [r6765] autoconf/asterisk.m4, configure, configure.ac: Enh: allow
	  multiple sanitizers to be active

	* [r6764] src/define.h: Fix: sccp_mwi.c:647 left shift of 1 by 31
	  places cannot be represented in type 'int'

	* [r6763] src/sccp_refcount.c, src/sccp_refcount.h: Enh: change
	  refcount table alignment

	* [r6762] src/sccp_features.c: Fix: taking a channel reference
	  before executing pickup/gpickup.

	* [r6761] src/Makefile.am, src/Makefile.in, src/Makefile.inc.am,
	  src/pbx_impl/Makefile.in, src/pbx_impl/ast/Makefile.in,
	  src/pbx_impl/ast106/Makefile.in, src/pbx_impl/ast108/Makefile.in,
	  src/pbx_impl/ast110/Makefile.in, src/pbx_impl/ast111/Makefile.in,
	  src/pbx_impl/ast112/Makefile.in, src/pbx_impl/ast113/Makefile.in,
	  src/pbx_impl/ast_announce/Makefile.in: Fix: Move compilation flag
	  from src/Makefile.am to src/Makefile.inc.am

	* [r6760] src/pbx_impl/ast_announce/ast_announce.c: Fix
	  ast_announce compilation

	* [r6759] autoconf/asterisk.m4, configure: Enh: configure check for
	  multiple gcc sanitizers being active

	* [r6758] src/sccp_session.c: Enh: Remove unnecessary session lock

	* [r6757] src/sccp_device.c: Fix potential memory address overflow
	  when scanning for ast_db entry

	* [r6756] src/sccp_config.c, src/sccp_event.c, src/sccp_mwi.c,
	  src/sccp_utils.c: Use appropriate free, malloc and strdup calls

2016-03-21  ddegroot

	* [r6755] src/define.h, src/sccp_session.c: Fix: simplify some of
	  the lock taken / released in sccp_session.

	* [r6754] src/pbx_impl/ast/define.h, src/sccp_session.c: Fix:
	  session accept thread was polling to often.

	* [r6753] src/sccp_config.c, src/sccp_utils.c: Fix 'sccp reload'
	  because the buttonparser changed 2 weeks ago, which was causing a
	  full restart for all connected devices. Reported by Andy
	  Bradford.

2016-03-20  ddegroot

	* [r6752] src/sccp_threadpool.c: Fix spurious debug output

	* [r6751] src/sccp_device.c: Fix spurioud debug output

	* [r6750] src/chan_sccp.c, src/sccp_session.c: Fix: prevent new
	  connections during module unload by stopping the accept thread
	  early.
	  Fix: module unloading not releasing accept thread or taking
	  longer than necessary.

2016-03-19  ddegroot

	* [r6749] tools/gen_sccp_enum.awk: Fix: 'comparison of unsigned
	  expression >= 0 is always true'

	* [r6748] src/sccp_event.c, src/sccp_indicate.h,
	  src/sccp_session.c: Fix: 'comparison of unsigned expression >= 0
	  is always true'

	* [r6747] autoconf/extra.m4, configure, src/sccp_debug.c: Enh:
	  Increase number of warnings generated by compiler now that
	  sccp_refcount is cleaned up a little
	  Fix: duplicate decl-specified in sccp_debug

	* [r6746] src/chan_sccp.c, src/define.h,
	  src/pbx_impl/ast106/ast106.c, src/pbx_impl/ast108/ast108.c,
	  src/pbx_impl/ast110/ast110.c, src/pbx_impl/ast111/ast111.c,
	  src/pbx_impl/ast112/ast112.c, src/pbx_impl/ast113/ast113.c,
	  src/pbx_impl/pbx_impl.h, src/sccp_actions.c, src/sccp_channel.c,
	  src/sccp_channel.h, src/sccp_conference.c, src/sccp_conference.h,
	  src/sccp_device.c, src/sccp_device.h, src/sccp_devstate.c,
	  src/sccp_event.c, src/sccp_hint.c, src/sccp_line.c,
	  src/sccp_line.h, src/sccp_pbx.c, src/sccp_refcount.c,
	  src/sccp_refcount.h, src/sccp_session.c, src/sccp_softkeys.c:
	  Revised: sccp_refcount_release to take a pointer to a pointer to
	  the object being release
	  When it returns it will Nullify the pointer it received by
	  reference, which
	  means we can guarantee that the pointer owned by the caller is
	  always null
	  after it has been release. No more need for this awkward 'data =
	  sccp_refcount_release(data)'
	  call, instead this can be just 'sccp_refcount_release(&data)'
	  Revised: sccp_refcount_refreplace in the same manner.

2016-03-18  ddegroot

	* [r6745] aclocal.m4, autoconf/acinclude.m4, configure: Fix:
	  Include AX_CHECK_LINK_FLAG and AX_APPEND_LINK_FLAGS m4 macro's

	* [r6744] autoconf/extra.m4, configure, src/Makefile.am,
	  src/Makefile.in, src/Makefile.inc.am, src/pbx_impl/Makefile.in,
	  src/pbx_impl/ast/Makefile.in, src/pbx_impl/ast106/Makefile.in,
	  src/pbx_impl/ast108/Makefile.in, src/pbx_impl/ast110/Makefile.in,
	  src/pbx_impl/ast111/Makefile.in, src/pbx_impl/ast112/Makefile.in,
	  src/pbx_impl/ast113/Makefile.in,
	  src/pbx_impl/ast_announce/Makefile.in: Use SUPPORTED_CFLAGS and
	  SUPPORTED_LDFLAGS in Makefile.inc.am

	* [r6743] autoconf/extra.m4, configure, src/chan_sccp.c,
	  src/sccp_devstate.c, src/sccp_devstate.h, src/sccp_hint.c,
	  src/sccp_line.c: Fix: contional compile without realtime and
	  devstate
	  Enh: Disable section relocation for now.

	* [r6742] aclocal.m4, autoconf/asterisk.m4, autoconf/extra.m4,
	  configure, configure.ac: Fix: cleanup / reindent m4 macros
	  Fix: enable section relocation by default, except for
	  apple/darwin

	* [r6741] Makefile.in, aclocal.m4, autoconf/acinclude.m4,
	  autoconf/asterisk.m4, autoconf/extra.m4, configure, configure.ac,
	  contrib/gen_sccpconf/Makefile.in, doc/Makefile.in,
	  src/Makefile.am, src/Makefile.in, src/config.h.in,
	  src/pbx_impl/Makefile.in, src/pbx_impl/ast/Makefile.in,
	  src/pbx_impl/ast106/Makefile.in, src/pbx_impl/ast108/Makefile.in,
	  src/pbx_impl/ast110/Makefile.in, src/pbx_impl/ast111/Makefile.in,
	  src/pbx_impl/ast112/Makefile.in, src/pbx_impl/ast113/Makefile.in,
	  src/pbx_impl/ast_announce/Makefile.in, src/sccp_netsock.c,
	  tools/bootstrap.sh: Fix: cleaned up configure output
	  Enh: Added --enable-strip as a configure option (off by default).
	  When
	  enabled it will strip the chan_sccp.so binary but leave a copy of
	  the debug
	  symbols in the .debug directory for gdb to use
	  Enh: Enable using compiler section relocation by default (added
	  --disable-section-relocation
	  configure flag to negate this). Using section-relocation results
	  in substantial size reduction
	  of the generated chan_sccp.so library

	* [r6740] src/sccp_config.c, src/sccp_netsock.c,
	  src/sccp_netsock.h: Enh: flush resolved ip-address after 'sccp
	  reload' to make sure we are getting to the new ipaddress if the
	  fqdn changed

	* [r6739] src/sccp_cli.c, src/sccp_config_entries.hh,
	  src/sccp_netsock.c, src/sccp_netsock.h, src/sccp_rtp.c: Enh:
	  Reinstate externhost and externrefresh
	  Enh: Added externhost information to 'sccp show global'
	  Fix: sccp_netsock_getExternalAddr / __netsock_resolve_first_af
	  Enh: caching both ipv4 and ipv6 resolve ip-addresses if running
	  in dual mode

2016-03-17  ddegroot

	* [r6738] src/sccp_rtp.c: Fix: updateNatRemotePhone simplification
	  / revert 6736

	* [r6737] src/sccp_netsock.c: Enh: implemented resolving externhost

	* [r6736] src/sccp_rtp.c: Fix rtp connection through NAT when
	  externip is to be used

	* [r6735] src/sccp_codec.c[ADD]: Fix: upload sccp_codec.c

	* [r6734] src/sccp_debug.c, src/sccp_debug.h: Enh: One more static
	  array to be moved and declared extern

	* [r6733] Makefile.in,
	  conf/tftp/SEP0000000000.cnf.xml_797x_template,
	  conf/tftp/SEP0000000000.cnf.xml_annotated, configure,
	  configure.ac, contrib/gen_sccpconf/Makefile.in, doc/Makefile.in,
	  src/Makefile.am, src/Makefile.in, src/Makefile.inc.am,
	  src/pbx_impl/Makefile.in, src/pbx_impl/ast/Makefile.in,
	  src/pbx_impl/ast106/ast106.c, src/pbx_impl/ast108/ast108.c,
	  src/pbx_impl/ast110/ast110.c, src/pbx_impl/ast111/ast111.c,
	  src/pbx_impl/ast112/ast112.c, src/pbx_impl/ast113/ast113.c,
	  src/pbx_impl/ast_announce/Makefile.in, src/sccp_channel.c,
	  src/sccp_codec.h, src/sccp_protocol.c, src/sccp_protocol.h,
	  src/sccp_utils.c, src/sccp_utils.h: Moved static tables from
	  header files to source files to reduce binary size (because
	  static arrays in include files get duplicated).
	  Moved skinny_codec related functions from sccp_utils.c to
	  sccp_codec.c

	* [r6732] src/sccp_actions.c, src/sccp_protocol.h: Remove UnknownVG
	  message which was only added to research and falsely declared
	  'new message'
	  This Reduces the size of the chan_sccp.so by as much as 2 MB
	  because the message arrays had to be expanded to incorporate this
	  message as 0xff00.

	* [r6731] src/sccp_refcount.c: Remove static test object taking up
	  memory and space. Replaced by malloc/free.

2016-03-16  ddegroot

	* [r6730] src/sccp_actions.c, src/sccp_channel.c, src/sccp_rtp.c:
	  Enh: clarify rtp out during a call with nat translation.

2016-03-11  ddegroot

	* [r6729] conf/sccp.conf.annotated, src/sccp_actions.c,
	  src/sccp_cli.c, src/sccp_globals.h, src/sccp_line.c,
	  src/sccp_pbx.c, src/sccp_utils.c: Enh: extended line button
	  subscriptionId definition to support
	  button = line, <line>[@(|+|=)cid_num[,cid_name][#label][!options]
	  
	  button = line,98099@+12:Phone2#ButtonLabel!silent ; append
	  cidnum:'12' and cidname:'Phone2' to line-cid with label
	  'ButtonLabel', don't ring when dialed directly
	  button = line,98099@=12:Phone2!silent ; overwrite line-cid
	  instead of appending to line-cid (solves the first party of the
	  issue reported by Jeffrey)
	  button = line,98099@12:Phone2@ButtonLabel!silent ; same as the
	  previous line (backward compatibility)
	  
	  IssueMail: 'BLF and shared lines questions'
	  Reported by: Jeffrey Otterson

2016-03-05  ddegroot

	* [r6727] src/sccp_device.c, src/sccp_device.h, src/sccp_utils.h:
	  Revert previous commit

	* [r6726] src/sccp_device.c, src/sccp_device.h, src/sccp_utils.h:
	  Fix: compilation without iconv support

	* [r6725] src/sccp_protocol.h: Added list of potential candidates
	  for SKINNY_PHONE_FEATURES_ bits

2016-02-29  ddegroot

	* [r6724] contrib/gen_sccpconf/gen_sccpconf.h: Fix: gen_sccpconf
	  compilation

	* [r6723] src/sccp_device.c: Fix: Remove use of
	  sccp_dev_cleardisplay / ClearDisplay SCCP-MSG, which does not
	  seem to be supported on most sccp phones, causing errors in the
	  phone log, has been replaced with clearprompt message instead.

2016-02-28  ddegroot

	* [r6722] debian/rules: Include advanced-features when compiling
	  for debian

	* [r6716] ChangeLog, configure, configure.ac: Fix: configure.ac
	  remnants (again)

	* [r6711] src/pbx_impl, src/pbx_impl/ast, src/pbx_impl/ast106,
	  src/pbx_impl/ast108, src/pbx_impl/ast110, src/pbx_impl/ast111,
	  src/pbx_impl/ast112, src/pbx_impl/ast113,
	  src/pbx_impl/ast_announce: Fixup svn:ignore

	* [r6708] src/pbx_impl/ast112/ast112.c: Fixup:
	  src/pbx_impl/ast112/ast112.c

	* [r6707] src/pbx_impl/ast106/ast106.c,
	  src/pbx_impl/ast108/ast108.c, src/pbx_impl/ast110/ast110.c,
	  src/pbx_impl/ast111/ast111.c, src/pbx_impl/ast112/ast112.c,
	  src/pbx_impl/ast113/ast113.c: Enh: Enable requesting rtp
	  openreceive from phone when we get a PROD request from the other
	  channel side.
	  'Prodding' indicates that the other party is willing and able to
	  process inband rtp from this moment forth.

	* [r6706] src/sccp_channel.c, src/sccp_refcount.h: Fix: Remove
	  WITHREF / GETWITHREF example in sccp_channel.c

	* [r6705] configure, configure.ac: Fix: conf????? remnant directory
	  left behind after running configure

2016-02-27  ddegroot

	* [r6704] src/sccp_actions.c: Enh: fix double call waiting tone
	  (out of band and inband), by signaling the remote side that we
	  are able to receive inband from this moment forth (using a so
	  called channel PROD). Issue originally reported by Anatoli.
	  Tested and Checked by Anatoli and Pavel.

	* [r6703] src/sccp_rtp.c: Fix: sccp_rtp_updateNatRemotePhone to
	  support NAT for both ipv4 and ipv6. Deadcode issue reported by
	  Coverity. Issue reported by Dan Huynh.

	* [r6702] conf/sccp.conf.annotated, conf/sccp.conf.freepbx,
	  conf/sccp.conf.minimal, src/sccp_config_entries.hh: Fix:
	  providing a sensible default value for general:disallow/allow,
	  being ulaw/alaw, which should be available on any phone and pbx.
	  Issue reported by Jeffrey.

2016-02-26  ddegroot

	* [r6701] src/sccp_rtp.c: Revert changes in logic to
	  sccp_rtp_updateNatRemotePhone. NAT Issue reported by Dan Huynh

	* [r6700] src/sccp_device.c: Fix: sccp_dev_build_buttontemplate for
	  7931. Issue reported by Riten Jaiswal

2016-02-25  ddegroot

	* [r6699] src/sccp_atomic.h: Fix fallback atomic macro

	* [r6694] src/sccp_vector.h: Re-Fix memory leak in vector make_room
	  function. Reported by hhornung

	* [r6693] src/sccp_utils.c: Revert __strcpy back to
	  sccp_copy_string

	* [r6692] src/sccp_utils.c: Use __strcpy in this case

2016-02-24  ddegroot

	* [r6691] src/sccp_event.c: Fix: check for null pointer
	  dereference.

	* [r6690] src/sccp_session.c: Enh: suppress coverity warning, by
	  not using pointer arithmatic when copying from incoming session
	  buffer.

	* [r6689] src/define.h, src/sccp_utils.c: Improved define of
	  dangerous string functions by aborting compilation.

	* [r6688] src/sccp_session.c: Fix: message dissection for spcp
	  refering to wrong table.

	* [r6687] src/sccp_mwi.c, src/sccp_utils.c: Fix: compiler warning.

	* [r6686] src/sccp_config.c: Fix:memory leak.

	* [r6685] src/sccp_vector.h: Fix: potential memory leak (pretty
	  unlikely, but ok).

	* [r6684] src/pbx_impl/ast106/ast106.c,
	  src/pbx_impl/ast108/ast108.c, src/pbx_impl/ast110/ast110.c,
	  src/pbx_impl/ast111/ast111.c, src/pbx_impl/ast112/ast112.c,
	  src/pbx_impl/ast113/ast113.c, src/sccp_channel.c: Fix: buffer
	  overrun/bounds when printing 'parked at'

	* [r6683] src/sccp_softkeys.c: Fix: null pointer check before using
	  line

	* [r6682] src/sccp_features.c: Fix: null pointer check before use

	* [r6681] src/sccp_event.c: Fix: null pointer check before use

	* [r6680] src/sccp_session.c: Fix: Message Size bounds check. Fix:
	  check recv_len before using result to prevent passing on tainted
	  buffer.

	* [r6679] src/sccp_actions.c: Fix: mid bounds check

	* [r6678] src/define.h: Fix: compiler warning about redefinition

	* [r6677] src/define.h, src/pbx_impl/ast111/ast111.c: Fixes:
	  __use_snprintf_instead_of_sprintf__ report by Dan Huynh
	  Revert: #6676
	  Commit PR:#288 (by Marcello)

	* [r6676] src/define.h: Fix: Disabled
	  __use_snprintf_instead_of_sprintf__ for now. Report by Dan Huynh

2016-02-23  ddegroot

	* [r6675] src/sccp_hint.c: Enh: extend hint updates to match
	  complex aggregated hints, and continue updating after the first
	  match, there might be multiple hints that match our line.

	* [r6674] src/sccp_callinfo.c, src/sccp_debug.h: Enh: debug
	  category callinfo added

	* [r6673] ., contrib/gen_sccpconf, doc, tools/gen_sccp_enum.awk:
	  Enh: Update svn:ignore. Fix: gen_sccp_enum unused return value of
	  snprintf.

	* [r6672] ., autoconf, conf, conf/database_updates, conf/ldap,
	  conf/tftp, conf/tftp/Desktops, conf/tftp/Desktops/320x196x4,
	  conf/tftp/Desktops/320x212x12, conf/tftp/Desktops/320x212x16,
	  conf/tftp/Desktops/640x480x24, conf/tftp/Desktops/800x600x16,
	  contrib, contrib/asterisk_patches, contrib/gen_sccpconf,
	  contrib/phone_screenshot, debian, debian/source, doc, src,
	  src/define.h, src/pbx_impl, src/pbx_impl/ast,
	  src/pbx_impl/ast106, src/pbx_impl/ast108, src/pbx_impl/ast110,
	  src/pbx_impl/ast111, src/pbx_impl/ast112, src/pbx_impl/ast113,
	  src/pbx_impl/ast_announce, src/sccp_actions.c, src/sccp_debug.c,
	  tools: Enh: Update svn:ignore. Enh: Extend list of unsafe string
	  functions

2016-02-22  ddegroot

	* [r6671] src/sccp_cli.c, src/sccp_config_entries.hh,
	  src/sccp_device.c, src/sccp_softkeys.c: Enh: use Redial Menu has
	  become a standard feature, which does not require
	  '--enable-advanced-features' any more.

	* [r6670] src/sccp_hint.c: Enh: removed experimental mode from
	  setting devstate_hint_dialplan.

	* [r6669] src/sccp_appfunctions.c: Fix: comma insertion when
	  returning multiple values from dialplan functions.

	* [r6668] src/sccp_mwi.c: Enh: Enabled some extra debugging in
	  sccp_mwi. to figure out the event flow.

2016-02-21  ddegroot

	* [r6667] src/sccp_channel.c: Enh/Fix: Only close rtpPorts if
	  requested to do so (KeepPortOpen = FALSE)

	* [r6666] src/define.h, src/pbx_impl/pbx_impl.h,
	  src/sccp_actions.h, src/sccp_mwi.c, tools/gen_sccp_enum.awk: Enh:
	  Finished Removal of __BEGIN_EXTERN__ in favour __BEGIN_C_EXTERN__

	* [r6665] src/pbx_impl/ast106/ast106.c,
	  src/pbx_impl/ast108/ast108.c, src/pbx_impl/ast110/ast110.c,
	  src/pbx_impl/ast111/ast111.c, src/pbx_impl/ast112/ast112.c,
	  src/pbx_impl/ast113/ast113.c: Future Fix: make sure rtp is active
	  when receiving CONNECTED_LINE and PROD event. Proding happens
	  when the remote side has started sending/receiving rtp, which
	  would require our side to participate as well. Currently this new
	  code is only active when compiled with
	  --enable-experimental-mode. BugReports: #264/#265/#271

2016-02-20  ddegroot

	* [r6664] src/sccp_device.h, src/sccp_devstate.h: Complete
	  transition to using __BEGIN_C_EXTERN__. Complete transition of
	  setting SCCP_API and SCCP_CALL in all header files.

	* [r6663] src/pbx_impl/pbx_impl.c, src/sccp_appfunctions.h,
	  src/sccp_cli.h, src/sccp_conference.h, src/sccp_config.h,
	  src/sccp_event.h, src/sccp_featureButton.h, src/sccp_features.h,
	  src/sccp_hint.h, src/sccp_indicate.h, src/sccp_line.h,
	  src/sccp_management.h, src/sccp_mwi.h, src/sccp_protocol.h,
	  src/sccp_refcount.h, src/sccp_rtp.h, src/sccp_softkeys.h,
	  src/sccp_threadpool.h, src/sccp_utils.h: Complete transition to
	  using __BEGIN_C_EXTERN__. Complete transition of setting SCCP_API
	  and SCCP_CALL in all header files.

	* [r6662] README, README.in: Fix README's

	* [r6661] README, autoconf/extra.m4, configure: Enh: Update
	  generation of BUILD_USER

	* [r6660] src/chan_sccp.c: Fix snprintf SCCP_VERSIONSTR. Reported
	  by hhornung

	* [r6659] src/sccp_utils.c: Fix: assertion

2016-02-19  ddegroot

	* [r6658] src/common.h, src/sccp_cli.c, src/sccp_config.c,
	  src/sccp_globals.h, src/sccp_pbx.c, src/sccp_utils.c,
	  src/sccp_utils.h: Enh: Change parseComposedId parsing and
	  returning results by ref. First step before changing the
	  SubscriptionId / Suffix and Callerid issue reported by Jeffrey
	  Otterson.

	* [r6657] README, README.md: Update: README and README.md files

	* [r6656] NEWS, README, README.md, src/chan_sccp.c, src/define.h,
	  src/pbx_impl/ast/define.h, src/pbx_impl/ast106/ast106.c,
	  src/pbx_impl/ast108/ast108.c, src/pbx_impl/ast110/ast110.c,
	  src/pbx_impl/ast111/ast111.c, src/pbx_impl/ast112/ast112.c,
	  src/pbx_impl/ast113/ast113.c, src/sccp_actions.c,
	  src/sccp_appfunctions.c, src/sccp_channel.c, src/sccp_cli.c,
	  src/sccp_conference.c, src/sccp_config.c, src/sccp_debug.c,
	  src/sccp_device.c, src/sccp_hint.c, src/sccp_management.c,
	  src/sccp_refcount.c, src/sccp_utils.c, src/sccp_utils.h: Enh:
	  Implement safer version of atoi, called sccp_atoi
	  Enh: Use safer equivalents for strcat, sprintf, strcpy and atoi
	  Enh: Prevent future use of strcat, sprintf, strcpy and atoi
	  Update: NEWS / README / README.md files

2016-02-18  ddegroot

	* [r6655] src/sccp_actions.c: Fix: pbx_assert

	* [r6654] src/Makefile.in, src/Makefile.inc.am,
	  src/pbx_impl/Makefile.in, src/pbx_impl/ast/Makefile.in,
	  src/pbx_impl/ast106/Makefile.in, src/pbx_impl/ast108/Makefile.in,
	  src/pbx_impl/ast110/Makefile.in, src/pbx_impl/ast111/Makefile.in,
	  src/pbx_impl/ast112/Makefile.in, src/pbx_impl/ast113/Makefile.in,
	  src/pbx_impl/ast_announce/Makefile.in: Enh: Use abs_builddir
	  instead of .

	* [r6653] src/pbx_impl/ast/define.h: Update SCANBUILD Defined for
	  use with clang-check

	* [r6652] src/sccp_cli.c: Enh: Remove never read variable setting

	* [r6651] src/sccp_actions.c: Enh: use assertions instead of null
	  pointer checks for function paramater known to always exist.
	  Assertions can be compiled away, if wanted, but allow compiler to
	  know what should be there.

	* [r6649] autoconf/acinclude.m4, configure: Enh: set default
	  PBX_ETC folder to /etc/asterisk
	  Enh: cleanup PBX search path by removing trailing slash from path
	  (if provided)

	* [r6647] src/Makefile.am, src/Makefile.in, src/sccp_utils.h: Fix:
	  BSD Compilation (double define)
	  Fix: BSD Linking (Linked does not know how to handle '-ldl')

	* [r6644] ChangeLog, autoconf/acinclude.m4, configure,
	  src/define.h: Fix: backup swap functions if not provided by
	  native functions (Like FreeBSD)
	  Fix: make SED function calls in configure.ac POSIX compliant (BSD
	  compatibily)

2016-02-17  ddegroot

	* [r6640] src/sccp_channel.c: Fix: compile warning about unused
	  function return value in sccp_channel.c

2016-02-15  ddegroot

	* [r6630] src/sccp_config.c, src/sccp_hint.c, src/sccp_line.c,
	  src/sccp_line.h: Use SCCP_MAX_EXTENSION instead of
	  AST_MAX_EXTENSION

	* [r6629] src/sccp_config.c: Fix: having hotline_exten defined in
	  sccp.conf caused reset of all device on every reload.

	* [r6628] src/sccp_session.c: Fix: removed socket error message,
	  when it was already handled. Issue reported by Pavel

	* [r6627] src/sccp_features.c: Cleanup: remove unused include

	* [r6626] contrib/gen_sccpconf/gen_sccpconf.h: Fix: gen_sccpconf
	  generator to include jbflag defaults

	* [r6625] src/sccp_indicate.c: Roll back of CallHistoryDisposition
	  patch

	* [r6623] src/sccp_features.c: Fix update phonebook received calls
	  when using pickup/gpickup

2016-02-14  ddegroot

	* [r6622] autoconf/asterisk.m4, configure, configure.ac: Fix:
	  configure script leaving behind temporary directory

	* [r6621] src/pbx_impl/ast110/ast110.c: Fix asterisk-10 compile
	  issue. Reported by hhornung.

	* [r6620] Makefile.am, Makefile.in: Fix: Makefile.am to install
	  sccp.conf if not already available

	* [r6619] .gitignore, Makefile.am, Makefile.in, NEWS, README.md,
	  autoconf/acinclude.m4, autoconf/asterisk.m4, autoconf/extra.m4,
	  configure, contrib/llvm-scan-build, debian/rules,
	  src/Makefile.am, src/Makefile.in, src/chan_sccp.c,
	  src/chan_sccp.h, src/common.h, src/config.h.in,
	  src/define.h[ADD], src/pbx_impl/Makefile.am,
	  src/pbx_impl/Makefile.in, src/pbx_impl/ast/ast.c,
	  src/pbx_impl/ast/ast.h, src/pbx_impl/ast/define.h,
	  src/pbx_impl/ast106/ast106.c, src/pbx_impl/ast106/ast106.h,
	  src/pbx_impl/ast108/ast108.c, src/pbx_impl/ast108/ast108.h,
	  src/pbx_impl/ast110/ast110.c, src/pbx_impl/ast110/ast110.h,
	  src/pbx_impl/ast111/ast111.c, src/pbx_impl/ast111/ast111.h,
	  src/pbx_impl/ast112/ast112.c, src/pbx_impl/ast112/ast112.h,
	  src/pbx_impl/ast113/ast113.c, src/pbx_impl/ast113/ast113.h,
	  src/pbx_impl/ast_announce/ast_announce.c,
	  src/pbx_impl/pbx_impl.c, src/pbx_impl/pbx_impl.h,
	  src/sccp_actions.c, src/sccp_actions.h, src/sccp_appfunctions.c,
	  src/sccp_appfunctions.h, src/sccp_atomic.h, src/sccp_callinfo.c,
	  src/sccp_callinfo.h, src/sccp_channel.c, src/sccp_channel.h,
	  src/sccp_cli.c, src/sccp_codec.h[ADD], src/sccp_conference.c,
	  src/sccp_config.c, src/sccp_config.h, src/sccp_config_entries.hh,
	  src/sccp_debug.c[ADD], src/sccp_debug.h[ADD], src/sccp_device.c,
	  src/sccp_device.h, src/sccp_devstate.c, src/sccp_dllists.h,
	  src/sccp_enum.in, src/sccp_event.c, src/sccp_event.h,
	  src/sccp_featureButton.c, src/sccp_features.c,
	  src/sccp_features.h, src/sccp_globals.c[ADD],
	  src/sccp_globals.h[ADD], src/sccp_hint.c, src/sccp_indicate.c,
	  src/sccp_line.c, src/sccp_line.h, src/sccp_management.c,
	  src/sccp_mwi.c, src/sccp_mwi.h, src/sccp_netsock.c[ADD],
	  src/sccp_netsock.h[ADD], src/sccp_pbx.c, src/sccp_pbx.h,
	  src/sccp_protocol.c, src/sccp_protocol.h, src/sccp_refcount.c,
	  src/sccp_refcount.h, src/sccp_rtp.c, src/sccp_rtp.h,
	  src/sccp_session.c[ADD], src/sccp_session.h[ADD],
	  src/sccp_socket.c[DEL], src/sccp_socket.h[DEL],
	  src/sccp_softkeys.c, src/sccp_softkeys.h, src/sccp_threadpool.c,
	  src/sccp_threadpool.h, src/sccp_utils.c, src/sccp_utils.h,
	  src/sccp_vector.h, tools/gen_sccp_enum.awk: Merge current git
	  master into svn trunk, includes feature/modularize_reduce_include

	* [r6611] autoconf/check_raii.m4, configure: Fix: ancient compiler
	  warning

	* [r6610] src/chan_sccp.c, src/sccp_protocol.h, src/sccp_socket.c,
	  src/sccp_utils.c, src/sccp_utils.h: Enh/Fix: skinny message id
	  boundary checks during message parsing (old version caused issues
	  with clang-3.8).

	* [r6609] ChangeLog, autoconf/check_atomics.m4,
	  autoconf/check_raii.m4, autoconf/extra.m4, configure,
	  configure.ac, debian/control, debian/rules: Update debian package
	  build rules
	  Show warning (in red) at configure end if compiler is outdated

2016-02-12  ddegroot

	* [r6608] src/sccp_atomic.h: Fix: always define CAS32_TYPE.
	  Reported by hhornung.

	* [r6607] src/chan_sccp.c, src/sccp_socket.c: Fix: set socket
	  options should happen before binding to the socket. Socket
	  keepalive is not being used.

	* [r6606] src/sccp_atomic.h, src/sccp_conference.c: Fix:
	  Replacement implementation of atomic functions, using asterisk
	  atomic functions before falling back on local implementation.
	  Fix: Local atomic fallback implementation uses trylock instead of
	  lock to prevent running into a deadlock situation.

2016-02-09  ddegroot

	* [r6605] src/sccp_pbx.c: Prevent compiler warning about not using
	  refurn value from Atomic incr/decr functions (in locking/fallback
	  mode).

2016-02-08  ddegroot

	* [r6604] configure, configure.ac, src/Makefile.am,
	  src/Makefile.in, tools/gen_sccp_enum.awk: Make call to awk during
	  make more posix compatible. Required to generate sccp_enum.h and
	  sccp_enum.c. Issue reported by Miguel.

	* [r6603] src/Makefile.am, src/Makefile.in: Building sccp_enum.?
	  only once.

	* [r6602] src/Makefile.am, src/Makefile.in: Fix code sccp_enum.?
	  generation required during build process. Reported by Miguel Sanz

2016-02-07  ddegroot

	* [r6601] conf/database_updates/update_mysql_v4.sql,
	  conf/database_updates/update_mysql_v5.sql,
	  conf/database_updates/update_postgresql.sql: Sync/Update/Fix the
	  database update scripts

2016-02-06  ddegroot

	* [r6600] debian/rules: Update debian ./configure command

2016-02-05  ddegroot

	* [r6599] Makefile.am, Makefile.in, autoconf/acinclude.m4,
	  configure, contrib/gen_sccpconf/Makefile.in, doc/Makefile.in,
	  src/Makefile.am, src/Makefile.in, src/pbx_impl/Makefile.in,
	  src/pbx_impl/ast/Makefile.in, src/pbx_impl/ast106/Makefile.in,
	  src/pbx_impl/ast108/Makefile.in, src/pbx_impl/ast110/Makefile.in,
	  src/pbx_impl/ast111/Makefile.in, src/pbx_impl/ast112/Makefile.in,
	  src/pbx_impl/ast113/Makefile.in,
	  src/pbx_impl/ast_announce/Makefile.in: Fix: configure giving out
	  warning. Enhancement: make load/unload/reload

	* [r6598] Makefile.in, autoconf/extra.m4, configure,
	  contrib/gen_sccpconf/Makefile.in, doc/Makefile.in,
	  src/Makefile.am, src/Makefile.in, src/pbx_impl/Makefile.in,
	  src/pbx_impl/ast/Makefile.in, src/pbx_impl/ast106/Makefile.in,
	  src/pbx_impl/ast108/Makefile.in, src/pbx_impl/ast110/Makefile.in,
	  src/pbx_impl/ast111/Makefile.in, src/pbx_impl/ast112/Makefile.in,
	  src/pbx_impl/ast113/Makefile.in,
	  src/pbx_impl/ast_announce/Makefile.in, tools/gen_sccp_enum.awk:
	  Replaced gawk-extension dependencies from gen_sccp_enum.awk.
	  Made it work under the Posix version of awk.
	  Switched the configure dependency from gawk to posix compliant
	  version of awk
	  Issue reported by Niklas.

	* [r6597] autoconf/extra.m4, configure: Hard Dependency on gawk is
	  now checked within configure script. Reported by Niklas.
	  Will look into remvoing the dependency on the awk-extension
	  provided by gawk, so it will run cleanly using the POSIX awk
	  version.

2016-02-04  ddegroot

	* [r6596] src/sccp_socket.c: Typo: r6595:
	  SCCP_LIST_REMOVE_LIST(session) should have
	  SCCP_LIST_REMOVE_CURRENT(list). Reported by hhornung.

	* [r6595] src/sccp_socket.c: Fix: Need to remove session from the
	  Glob(sessions) list before calling destroy_session to prevent use
	  after free

2016-02-03  ddegroot

	* [r6594] src/sccp_socket.c: Fix: sccp_destroy_session causing
	  segfault on sccp_free(s)

	* [r6593] src/sccp_utils.c: Fix: out-of-bound array check added

	* [r6592] src/sccp_event.h: Fix: Change number of SCCP_EVENT types

	* [r6591] src/sccp_event.c: Fix: prevent overrunning
	  subscriptions[i] array, when event was not matched i++ would
	  still have been executed by the for loop.

	* [r6590] src/sccp_cli.c: Fix: Out of bounds access binstr is
	  defined as length 41.

	* [r6589] src/sccp_config.c: Fix: unintialized value

	* [r6588] src/sccp_cli.c: Fix:memory leak, by breaking out of
	  outerlook, as not to call strdup twice

	* [r6587] src/sccp_cli.c: Fix:memory leak, by breaking out of
	  outerlook, as not to call strdup twice

	* [r6586] src/chan_sccp.c: Fix: resource leak

	* [r6585] src/sccp_socket.c: Fix: unterminated string error. Fix: 2
	  resource leaks.

	* [r6584] src/sccp_hint.c: Fix memory leak

2016-02-02  ddegroot

	* [r6583] src/sccp_device.h: Enh: Use the appropriate enum type for
	  d->skinny_type

	* [r6582] src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast.h: Indent:
	  line up sccp_wrapper_asterisk_channel_read struct entries.
	  Externalize the enum declaration.

	* [r6581] src/chan_sccp.h, src/common.h, src/sccp_protocol.h: Enh:
	  Renamed __BEGIN_EXTERN__ to __BEGIN_C_EXTERN__

	* [r6580] autoconf/acinclude.m4, configure,
	  tools/gen_sccp_enum.awk: Fix: configure warning
	  Fix: compile warning in sccp_enum.c when returning uint32_t as
	  enum

2016-02-01  ddegroot

	* [r6579] autoconf/extra.m4, configure: Fix: autoconf check for
	  compiler -std=gnu... support

	* [r6578] src/Makefile.am, src/Makefile.in, src/Makefile.inc.am,
	  src/pbx_impl/Makefile.in, src/pbx_impl/ast/Makefile.in,
	  src/pbx_impl/ast106/Makefile.in, src/pbx_impl/ast108/Makefile.in,
	  src/pbx_impl/ast110/Makefile.in, src/pbx_impl/ast111/Makefile.in,
	  src/pbx_impl/ast112/Makefile.in, src/pbx_impl/ast113/Makefile.in,
	  src/pbx_impl/ast_announce/Makefile.in: Cleanup:
	  src/Makefile.inc.am

	* [r6577] src/sccp_hint.c: Fix: potential null pointer dereferences

	* [r6576] src/pbx_impl/ast/ast.h: Fix: redefinition warning

	* [r6575] src/sccp_mwi.c: Fix: potential null pointer dereferences

	* [r6574] src/sccp_actions.c, src/sccp_threadpool.c: Fix: potential
	  null pointer dereferences

	* [r6573] src/sccp_channel.c: Fix: potential null pointer
	  dereference

	* [r6572] autoconf/acinclude.m4, autoconf/extra.m4,
	  contrib/llvm-scan-build: Fix: check compiler support for
	  -isystem, before using it
	  Fix: check compiler support for -std, before using it
	  Fix: update contrib/llvm-scan-build script

	* [r6571] src/sccp_pbx.c: Enh: switch versions on sccp_pbx_call

	* [r6570] src/sccp_conference.c: Enh: Change CS_EXPERIMENTAL to
	  unused/unimplemented

	* [r6569] src/sccp_config.c: Enh: Remove unused piece of code

	* [r6568] src/sccp_line.c: Fix: missing '\!' in sccp_line. Reported
	  by hhornung.

	* [r6567] src/Makefile.am, src/Makefile.in, src/sccp_line.c,
	  src/sccp_mwi.c, src/sccp_pbx.c, src/sccp_refcount.c: Fix: check
	  memory allocation, produce error output if not

	* [r6566] configure, configure.ac, src/Makefile.am,
	  src/Makefile.in, src/config.h.in, tools/gen_sccp_enum.awk: Fix:
	  configure leaving behind a temporary directory
	  Fix: gen_sccp_enum.awk script taking paramater from command line

	* [r6565] src/Makefile.am, src/Makefile.in: Fix: revision.h update
	  after 60 minutes

	* [r6564] src/sccp_socket.c: Fix: check memory allocation, produce
	  error output if not

	* [r6563] src/sccp_softkeys.c: Fix: check memory allocation,
	  produce error output if not

	* [r6562] src/Makefile.am, src/Makefile.in: Fix: update revision.h
	  using abs_top_builddir instead of abs_builddir

	* [r6561] contrib/gen_sccpconf/gen_sccpconf.c,
	  contrib/gen_sccpconf/gen_sccpconf.h: Fix: contrib/gen_sccpconf
	  compilation based on the new include files

2016-01-31  ddegroot

	* [r6560] ChangeLog, configure, src/Makefile.am, src/Makefile.in:
	  Enh: Re-add the install script using libtool instead to
	  install-sh to make sure the new library get's loaded using
	  ldconfig after installation

	* [r6559] autoconf/acinclude.m4, autoconf/asterisk.m4, configure,
	  configure.ac, contrib/gen_sccpconf/Makefile.am,
	  contrib/gen_sccpconf/Makefile.in,
	  contrib/gen_sccpconf/gen_sccpconf.c,
	  contrib/gen_sccpconf/gen_sccpconf.h, doc/00_Index.doc,
	  doc/10_What_Is_Chan_SCCP.doc,
	  doc/20_Building_and_Installation_Guide.doc,
	  doc/30_Setup_Guide.doc, doc/35_How_To.doc,
	  doc/40_New_Features.doc, doc/50_Frequently_Asked_Questions.doc,
	  doc/55_Reporting_Issues_Problems.doc,
	  doc/60_Supported_Operating_Systems.doc,
	  doc/70_Sources_Explained.doc, doc/80_Consulted_Documentation.doc,
	  doc/90_Developers_Guide.doc, doc/Makefile.am, doc/Makefile.in,
	  src/chan_sccp.c, src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast.h,
	  src/pbx_impl/ast/define.h, src/pbx_impl/ast106/ast106.c,
	  src/pbx_impl/ast106/ast106.h, src/pbx_impl/ast108/ast108.c,
	  src/pbx_impl/ast108/ast108.h, src/pbx_impl/ast110/ast110.c,
	  src/pbx_impl/ast110/ast110.h, src/pbx_impl/ast111/ast111.c,
	  src/pbx_impl/ast111/ast111.h, src/pbx_impl/ast112/ast112.c,
	  src/pbx_impl/ast112/ast112.h, src/pbx_impl/ast113/ast113.c,
	  src/pbx_impl/ast113/ast113.h,
	  src/pbx_impl/ast_announce/Makefile.am,
	  src/pbx_impl/ast_announce/Makefile.in,
	  src/pbx_impl/ast_announce/ast_announce.c,
	  src/pbx_impl/ast_announce/ast_announce.h,
	  src/pbx_impl/pbx_impl.c, src/sccp_callinfo.c, src/sccp_channel.h,
	  src/sccp_conference.c, src/sccp_conference.h, src/sccp_config.h,
	  src/sccp_config_entries.hh, src/sccp_devstate.h,
	  src/sccp_enum.in, src/sccp_featureButton.h, src/sccp_features.h,
	  src/sccp_hint.h, src/sccp_indicate.c, src/sccp_indicate.h,
	  src/sccp_labels.h, src/sccp_management.h, src/sccp_pbx.h,
	  src/sccp_protocol.h, src/sccp_refcount.h, src/sccp_rtp.h,
	  src/sccp_socket.h, src/sccp_softkeys.h, src/sccp_threadpool.h,
	  src/sccp_utils.h: Fix: Removed svn '$Revision: $' and '$Date: $'
	  entries from source files. This used to cause a recompile of
	  files after commit to repostories without any major change, for
	  example after running bootstrapping

	* [r6558] configure, configure.ac, src/Makefile.am,
	  src/Makefile.in, src/Makefile.inc.am, src/pbx_impl/Makefile.in,
	  src/pbx_impl/ast/Makefile.in, src/pbx_impl/ast106/Makefile.in,
	  src/pbx_impl/ast108/Makefile.in, src/pbx_impl/ast110/Makefile.in,
	  src/pbx_impl/ast111/Makefile.in, src/pbx_impl/ast112/Makefile.in,
	  src/pbx_impl/ast112/ast112.c, src/pbx_impl/ast112/ast112.h,
	  src/pbx_impl/ast113/Makefile.in, src/pbx_impl/ast113/ast113.h,
	  src/pbx_impl/ast_announce/Makefile.in, src/pbx_impl/pbx_impl.c,
	  src/sccp_enum.c[DEL], src/sccp_enum.h[DEL]: Fix: building in
	  'build' subdirectory
	  Fix: remove generated sccp_enum.h / sccp_enum.c from repostory to
	  prevent conflicting versions

	* [r6557] src/sccp_event.c: Fix: type / new enum inclusion

	* [r6556] src/Makefile.in, src/Makefile.inc.am[ADD],
	  src/pbx_impl/Makefile.in, src/pbx_impl/ast/Makefile.in,
	  src/pbx_impl/ast106/Makefile.in, src/pbx_impl/ast106/ast106.c,
	  src/pbx_impl/ast106/ast106.h, src/pbx_impl/ast108/Makefile.in,
	  src/pbx_impl/ast108/ast108.c, src/pbx_impl/ast108/ast108.h,
	  src/pbx_impl/ast110/Makefile.in, src/pbx_impl/ast110/ast110.c,
	  src/pbx_impl/ast110/ast110.h, src/pbx_impl/ast111/Makefile.in,
	  src/pbx_impl/ast111/ast111.c, src/pbx_impl/ast111/ast111.h,
	  src/pbx_impl/ast112/Makefile.in, src/pbx_impl/ast112/ast112.c,
	  src/pbx_impl/ast112/ast112.h, src/pbx_impl/ast113/Makefile.in,
	  src/pbx_impl/ast113/ast113.c, src/pbx_impl/ast113/ast113.h,
	  src/pbx_impl/ast_announce/Makefile.in: Fix: Continuation of
	  previous revision. After moving ast??? files to their new homes,
	  the includes needed to be updated & simplified

	* [r6555] ChangeLog, Makefile.am, Makefile.in,
	  autoconf/config.rpath[ADD], autoconf/extra.m4, configure,
	  configure.ac, contrib/gen_sccpconf/.indent.pro[ADD],
	  contrib/gen_sccpconf/Makefile.in, doc/Makefile.in,
	  src/Makefile.am, src/Makefile.in, src/chan_sccp.c,
	  src/chan_sccp.h, src/common.h, src/pbx_impl/Makefile.am[ADD],
	  src/pbx_impl/Makefile.in[ADD], src/pbx_impl/ast/Makefile.am[ADD],
	  src/pbx_impl/ast/Makefile.in[ADD], src/pbx_impl/ast/ast.c,
	  src/pbx_impl/ast/ast.h, src/pbx_impl/ast/ast106.c[DEL],
	  src/pbx_impl/ast/ast106.h[DEL], src/pbx_impl/ast/ast108.c[DEL],
	  src/pbx_impl/ast/ast108.h[DEL], src/pbx_impl/ast/ast110.c[DEL],
	  src/pbx_impl/ast/ast110.h[DEL], src/pbx_impl/ast/ast111.c[DEL],
	  src/pbx_impl/ast/ast111.h[DEL], src/pbx_impl/ast/ast112.c[DEL],
	  src/pbx_impl/ast/ast112.h[DEL],
	  src/pbx_impl/ast/ast112_announce.c[DEL],
	  src/pbx_impl/ast/ast112_announce.h[DEL],
	  src/pbx_impl/ast/ast113.c[DEL], src/pbx_impl/ast/ast113.h[DEL],
	  src/pbx_impl/ast/define.h, src/pbx_impl/ast106[ADD],
	  src/pbx_impl/ast106/Makefile.am[ADD],
	  src/pbx_impl/ast106/Makefile.in[ADD],
	  src/pbx_impl/ast106/ast106.c[CPY],
	  src/pbx_impl/ast106/ast106.h[CPY], src/pbx_impl/ast108[ADD],
	  src/pbx_impl/ast108/Makefile.am[ADD],
	  src/pbx_impl/ast108/Makefile.in[ADD],
	  src/pbx_impl/ast108/ast108.c[CPY],
	  src/pbx_impl/ast108/ast108.h[CPY], src/pbx_impl/ast110[ADD],
	  src/pbx_impl/ast110/Makefile.am[ADD],
	  src/pbx_impl/ast110/Makefile.in[ADD],
	  src/pbx_impl/ast110/ast110.c[CPY],
	  src/pbx_impl/ast110/ast110.h[CPY], src/pbx_impl/ast111[ADD],
	  src/pbx_impl/ast111/Makefile.am[ADD],
	  src/pbx_impl/ast111/Makefile.in[ADD],
	  src/pbx_impl/ast111/ast111.c[CPY],
	  src/pbx_impl/ast111/ast111.h[CPY], src/pbx_impl/ast112[ADD],
	  src/pbx_impl/ast112/Makefile.am[ADD],
	  src/pbx_impl/ast112/Makefile.in[ADD],
	  src/pbx_impl/ast112/ast112.c[CPY],
	  src/pbx_impl/ast112/ast112.h[CPY], src/pbx_impl/ast113[ADD],
	  src/pbx_impl/ast113/Makefile.am[ADD],
	  src/pbx_impl/ast113/Makefile.in[ADD],
	  src/pbx_impl/ast113/ast113.c[CPY],
	  src/pbx_impl/ast113/ast113.h[CPY],
	  src/pbx_impl/ast_announce[ADD],
	  src/pbx_impl/ast_announce/Makefile.am[ADD],
	  src/pbx_impl/ast_announce/Makefile.in[ADD],
	  src/pbx_impl/ast_announce/ast_announce.c[ADD],
	  src/pbx_impl/ast_announce/ast_announce.h[ADD],
	  src/pbx_impl/pbx_impl.c, src/pbx_impl/pbx_impl.h,
	  src/sccp_actions.c, src/sccp_actions.h, src/sccp_appfunctions.c,
	  src/sccp_appfunctions.h, src/sccp_atomic.h, src/sccp_callinfo.c,
	  src/sccp_callinfo.h, src/sccp_channel.c, src/sccp_channel.h,
	  src/sccp_cli.c, src/sccp_cli.h, src/sccp_cli_table.h,
	  src/sccp_conference.c, src/sccp_conference.h, src/sccp_config.c,
	  src/sccp_config.h, src/sccp_device.c, src/sccp_device.h,
	  src/sccp_devstate.c, src/sccp_devstate.h, src/sccp_dllists.h,
	  src/sccp_enum.c, src/sccp_enum.h, src/sccp_event.c,
	  src/sccp_event.h, src/sccp_featureButton.c,
	  src/sccp_featureButton.h, src/sccp_features.c,
	  src/sccp_features.h, src/sccp_hint.c, src/sccp_hint.h,
	  src/sccp_indicate.c, src/sccp_indicate.h, src/sccp_labels.h,
	  src/sccp_line.c, src/sccp_line.h, src/sccp_management.c,
	  src/sccp_management.h, src/sccp_mwi.c, src/sccp_mwi.h,
	  src/sccp_pbx.c, src/sccp_pbx.h, src/sccp_protocol.c,
	  src/sccp_protocol.h, src/sccp_refcount.c, src/sccp_rtp.c,
	  src/sccp_socket.c, src/sccp_socket.h, src/sccp_softkeys.c,
	  src/sccp_softkeys.h, src/sccp_threadpool.c,
	  src/sccp_threadpool.h, src/sccp_utils.c, src/sccp_utils.h,
	  src/sccp_vector.h, tools/bootstrap.sh, tools/gen_sccp_enum.awk,
	  tools/versioncheck: Enh/Fix:
	  - Create Makefile.am per subdirectory
	  - Handle each subdir as a sub-library
	  - Combine the subdir libraries into the final resulting:
	  chan_sccp.so during the final linking step
	  - Use simple path for file inclusion
	  
	  Benefits:
	  - Clear sepearions between modules (There are still a couple of
	  asterisk in the libsccp module, which should be cleaned up)
	  - Reduced re-compilation when little has changed
	  - Speed up during compilation
	  - Slightly reduced size of the resulting binary
	  - Future Potential to run for example the libsccp module
	  standalone (if the current dependencies can be cleaned up)
	  - Since Automake 1.4 we got warnings because of crossing
	  directory boundaries during automake. This is fixed by splitting
	  the makefiles
	  - The sublibrary Makefile.am file are simple and easy to
	  maintain. The focus only on theor own directory

2016-01-30  ddegroot

	* [r6554] src/chan_sccp.c, src/chan_sccp.h, src/sccp_config.c,
	  src/sccp_config.h, src/sccp_threadpool.c, src/sccp_utils.c: Use
	  static predefined string to generation memory allocation error
	  debug output (safe space and create uniformity)

	* [r6553] src/sccp_enum.c, src/sccp_enum.h, src/sccp_enum.in,
	  tools/gen_sccp_enum.awk: Enh: Introduction of enum and strenum,
	  reducing the size of produced sccp_enum.c when the 2str/2val
	  functions are never called.

	* [r6552] src/sccp_refcount.c: Fix: buffer overflow in sccp_show
	  refcount

2016-01-29  ddegroot

	* [r6551] src/chan_sccp.c, src/sccp_callinfo.c,
	  src/sccp_callinfo.h, src/sccp_config.c, src/sccp_config.h,
	  src/sccp_refcount.c, src/sccp_refcount.h, src/sccp_threadpool.c,
	  src/sccp_threadpool.h, src/sccp_utils.c, src/sccp_utils.h: Use
	  constructor/destructor method to add/remove tests during module
	  loading.

	* [r6550] src/sccp_enum.c, src/sccp_enum.h, src/sccp_enum.in,
	  tools/gen_sccp_enum.awk: Fix: gen_sccp_enum generation for
	  bitfields with a #ifdef entry failed

	* [r6549] src/sccp_atomic.h, src/sccp_conference.c,
	  src/sccp_refcount.c, src/sccp_refcount.h: Fix/Enh: Reset refcount
	  object type order to what it was previously (To prevent ordering
	  issue, reported by Zaim).
	  Fix: atomic locked fallback macro's to prevent shadow warning.
	  Fix: constConferencePtr warning when using atomic fallback mode.
	  Cleanup: Replaced 'x' variable name with more accurate 'hash'.
	  Fix/Enh: refcount test framework, to improve coverage of
	  retain/release behaviour when multithread.
	  Fix: refcount test framework remove sleeps during multithreading
	  test.

2016-01-28  ddegroot

	* [r6548] src/sccp_vector.h: Enh: only use our local implementation
	  of sccp_vector.h to prevent future incompatibilities.

	* [r6547] src/sccp_refcount.c: Fix: include asterisk/cli.h to fix
	  compile error

	* [r6546] aclocal.m4, autoconf/extra.m4, configure, configure.ac,
	  src/Makefile.am, src/config.h.in, src/sccp_device.c,
	  src/sccp_device.h, src/sccp_utils.c, src/sccp_utils.h: Enh:
	  Detect ICONV library better (both libiconv and the version from
	  libc)
	  Enh: Only start one instance of iconv during module loading.
	  Provide synchronized use

	* [r6545] src/sccp_refcount.c: Fix: clang warning about
	  cast-alignment, using union trick to force alignement

	* [r6544] src/sccp_features.c: Fix: clang compile time warning
	  about always true (tautological compare).

	* [r6543] src/sccp_refcount.c, src/sccp_refcount.h: Fix: errornous
	  removal of SCCP_REF_EVENT before sccp_event is reasy. Report by
	  Hhornung.

	* [r6542] src/sccp_socket.c: Fix: s->designator should be a little
	  longer, to display long ipv6 addresses completely

	* [r6541] src/sccp_cli.c, src/sccp_refcount.c, src/sccp_refcount.h:
	  Enh: provide CLI_AMI output for sccp show refcount, to make it
	  easier to perform refcount checks using AMI scripting.
	  Enh: Include to option to display or suppress refcount lines,
	  according to inuse status of the object (for example when a
	  device is offhook).
	  
	  CLI: sccp show refcount [show|supress]
	  sccp show refcount
	  sccp show refcount show
	  sccp show refcount suppress
	  
	  AMI: SCCPShowRefcount [inuse:<show|suppress>]
	  Example:
	  Action: SCCPShowRefcount\r\n
	  InUse: show\r\n
	  \r\n\r\n

	* [r6540] src/sccp_vector.h: Enh: ast 11 ast_vector.h is not
	  compatible to ast > 12)

	* [r6539] src/sccp_mwi.c: Enh: Output debug info when the sccp_mwi
	  module is started/stopped.

	* [r6538] ChangeLog, Makefile.in, autoconf/acinclude.m4,
	  autoconf/asterisk.m4, configure, doc/Makefile.in,
	  src/Makefile.am, src/Makefile.in, src/config.h.in,
	  src/sccp_vector.h[ADD]: Enh: Added a copy of ast_vector.h as
	  sccp_vector.h for backward compatibility (ast < 12), for later
	  use (i.e. sccp_event)
	  Enh: Consider the asterisk include path to be a System library
	  using -isystem /usr/include/asterisk instead of
	  -I/usr/include/asterisk
	  - This way we do not get compile time warnings about potential
	  issues within the asterisk binaries.
	  - This will be remedied by the asterisk group if they are
	  actually deemed hardfull by them, there is not much we can do
	  about them.
	  - This does still mean that our object files will still be
	  matched against their headers though.

	* [r6537] src/sccp_socket.c: Enh: Minor cleanup (debug entry, use
	  pbx_log, maxWaitTime should be int instead of double)

	* [r6536] src/sccp_actions.c: Enh: Minor cleanup (indentation / old
	  debug entry)

2016-01-27  ddegroot

	* [r6535] src/chan_sccp.c, src/sccp_cli.c: Fix: printout of
	  endianness

2016-01-26  ddegroot

	* [r6534] src/sccp_event.c: Fix: Reimplementation of revision 6528,
	  to check realloc result before using it.

	* [r6533] src/sccp_cli.c, src/sccp_event.c: Fix: Revert of revision
	  6528. Reported by Niklas.

2016-01-25  ddegroot

	* [r6532] src/sccp_channel.c, src/sccp_pbx.c: Fix: make shure
	  scheduled events return 0 when exiting, so that the event is
	  cancelled. Take and Release and extra ref during when returning
	  from a scheduled event to re-check if the object still exists.
	  Release both the scheduled obj reference and the locally takes
	  reference, before exiting the scheduled function.

	* [r6531] src/sccp_pbx.c: Fix: digittimeout without a number added
	  causes a refcount off by one issue for chanels -> correction.

	* [r6530] src/sccp_actions.c, src/sccp_device.c, src/sccp_enum.c,
	  src/sccp_enum.h, src/sccp_enum.in: Fix: Prevent new registration
	  from overhauling a device which is currently still being cleaned,
	  causing the refcount to be increased by 1 after registratin
	  finished. Added a new skinny_registrationstate to signal device
	  being cleaned, to hold off a new registration.

	* [r6529] src/sccp_device.c: Fix: 7931 in dev_build_buttontemplate.
	  Issue raised by Niklas Larsson.

	* [r6528] src/sccp_event.c: Fix: Check returned pointer during
	  realloc before.

2016-01-20  ddegroot

	* [r6527] src/chan_sccp.h, src/sccp_cli.c, src/sccp_device.c,
	  src/sccp_mwi.c, src/sccp_mwi.h: Fix: mwi issues reported by
	  modulis
	  - module load/unload causing inaccurate mwi counts because of
	  event handling (Updateing before counting).
	  This caused logic inversion when a lot of devices where
	  registering at the same time, makeing for inaccurate mwi counts
	  on display and cli
	  - Forced mwi recount after device is registered completely (Fixup
	  for the previous inversion, bit of an ugly crutch (should be
	  revised)).
	  - Used device->lineButtons instead of walking through all device
	  buttons (mwi_check).
	  - Cleaned up sccp_mwi_setMWILineStatus
	  - Cleaned up sccp_mwi_check

	* [r6526] src/sccp_pbx.c: Fix: refcount on digittimeout

	* [r6525] src/sccp_device.c: Applied Patch #22: Allow background
	  and ringtone setting on >7941 phones. Supplied by Niklas Larsson

2016-01-19  ddegroot

	* [r6524] src/sccp_device.c: Fix: Compile warning about shadow
	  variable

2016-01-16  ddegroot

	* [r6523] src/sccp_channel.c, src/sccp_pbx.c: Fix: timeout handling
	  on scheduled hangup, forcing release of channel.

	* [r6522] src/pbx_impl/ast/ast.c, src/sccp_channel.c,
	  src/sccp_pbx.c: Fix: timeout handling on scheduled hangup,
	  preventing calling sccp_channel_stop_and_deny_scheduled_tasks
	  multiple times.

	* [r6521] src/sccp_actions.c, src/sccp_device.c,
	  src/sccp_protocol.h: Enh: Print debug when sending background
	  image to device. Print Device2User result to debug log (debug:
	  action|message|device).

	* [r6520] src/sccp_actions.c, src/sccp_device.c, src/sccp_device.h,
	  src/sccp_enum.c, src/sccp_enum.h, src/sccp_enum.in,
	  src/sccp_protocol.h: Enhancement:
	  Added SCCP_BUTTONTYPE_ABBRDIAL device template type
	  Fill up the device template with Abbreviated Dial Buttons
	  When there are more Speeddials then screen/addon positions, they
	  will be assigned to Abbreviated Dial Buttons

2016-01-11  ddegroot

	* [r6519] src/pbx_impl/ast/ast.c: Enh: Added obsolete flag to
	  sccp_wrapper_asterisk_featureMonitor

	* [r6518] Makefile.am, configure.ac, doc/Makefile.in,
	  src/Makefile.in, src/sccp_enum.h, src/sccp_enum.in,
	  src/sccp_featureButton.c, src/sccp_features.c,
	  src/sccp_management.c, src/sccp_pbx.c: Merge feature/monitor into
	  git-svn

2016-01-10  ddegroot

	* [r6517] conf/tftp/Desktops/320x196x4/Chan-SCCP-b.png[ADD],
	  conf/tftp/Desktops/320x196x4/Chan-SCCP-b_thumb.png[ADD],
	  conf/tftp/Desktops/320x196x4/List.xml,
	  conf/tftp/Desktops/320x212x12/Chan-SCCP-b.png[ADD],
	  conf/tftp/Desktops/320x212x12/Chan-SCCP-b_thumb.png[ADD],
	  conf/tftp/Desktops/320x212x12/List.xml,
	  conf/tftp/Desktops/320x212x16[ADD],
	  conf/tftp/Desktops/320x212x16/Chan-SCCP-b.png[ADD],
	  conf/tftp/Desktops/320x212x16/Chan-SCCP-b_thumb.png[ADD],
	  conf/tftp/Desktops/320x212x16/List.xml[ADD],
	  conf/tftp/Desktops/640x480x24[ADD],
	  conf/tftp/Desktops/640x480x24/Chan-SCCP-b.png[ADD],
	  conf/tftp/Desktops/640x480x24/Chan-SCCP-b_thumb.png[ADD],
	  conf/tftp/Desktops/640x480x24/List.xml[ADD],
	  conf/tftp/Desktops/800x600x16[ADD],
	  conf/tftp/Desktops/800x600x16/Chan-SCCP-b.png[ADD],
	  conf/tftp/Desktops/800x600x16/Chan-SCCP-b_thumb.png[ADD],
	  conf/tftp/Desktops/800x600x16/List.xml[ADD]: Enh: New/Modern
	  example desktop/background file created by Benjamin Busch
	  (Thanks)

	* [r6516] conf/tftp/Desktops/320x196x4/Chan-SCCP-b.png[DEL],
	  conf/tftp/Desktops/320x196x4/Chan-SCCP-b_old.png[CPY],
	  conf/tftp/Desktops/320x196x4/Chan-SCCP-b_old_thumb.png[CPY],
	  conf/tftp/Desktops/320x196x4/Chan-SCCP-b_thumb.png[DEL],
	  conf/tftp/Desktops/320x212x12/Chan-SCCP-b.png[DEL],
	  conf/tftp/Desktops/320x212x12/Chan-SCCP-b_old.png[CPY],
	  conf/tftp/Desktops/320x212x12/Chan-SCCP-b_old_thumb.png[CPY],
	  conf/tftp/Desktops/320x212x12/Chan-SCCP-b_thumb.png[DEL]:
	  Moved/Renamed old Desktop samples to old

	* [r6515] src/pbx_impl/ast/ast.c: Fix: Compile warning for
	  sccp_wrapper_asterisk_featureMonitor hen compiling against
	  asterisk-12-branch

	* [r6514] src/sccp_management.c: Fix: Compile warning for
	  ast_hook_send_action when compiling against asterisk-1.6

	* [r6513] src/sccp_management.c: Fix: Compile warning for
	  ast_hook_send_action when compiling against asterisk-1.6

	* [r6512] src/pbx_impl/ast/ast.c,
	  src/pbx_impl/ast/ast112_announce.c, src/pbx_impl/ast/ast113.c:
	  Fix: compilation against asterisk-trunk instead of
	  asterisk-13-branch. They differ in the returntype and cleanup of
	  ast_channel_callid and related functions

	* [r6511] Makefile.in, autoconf/acinclude.m4, autoconf/asterisk.m4,
	  autoconf/extra.m4, configure, contrib/gen_sccpconf/Makefile.in,
	  doc/Makefile.in, src/Makefile.am, src/Makefile.in,
	  src/config.h.in: Enh: (autoconf) Added debug output to m4
	  CS_CHECK_AST_TYPEDEF macro
	  Fix: (autoconf) Use AC_EGREP_CPP instead of AC_EGREP_HEADER,
	  which allows multiple dependent header to be added, before
	  performing the grep function
	  Enh: (autoconf) Added check for used compiler sanitizers during
	  asterisk build
	  Enh: (automake) Use the same sanitizers for chan-sccp-b as
	  asterisk
	  Enh: (autoconf) Added check for callid typedef (changed from
	  struct to typedef in asterisk-trunk)

	* [r6510] src/sccp_socket.c: Fix: SCCP_SETSOCKETOPTION using
	  globally declared tv instead of locally declared mytv.

2016-01-09  ddegroot

	* [r6509] autoconf/asterisk.m4, configure, src/chan_sccp.h,
	  src/pbx_impl/ast/define.h: Fix: asterisk_register_file /
	  asterisk_file_version detection (asterisk-trunk)
	  Enh: move SCCP_FILE_VERSION definition to pbx_impl/ast/define.h

2016-01-08  ddegroot

	* [r6508] src/pbx_impl/ast/ast112_announce.c: Fix:
	  ASTERISK_FILE_VERION call changed in asterisk trunk

	* [r6507] src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast106.c,
	  src/pbx_impl/ast/ast106.h, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast108.h, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast110.h, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast111.h, src/pbx_impl/ast/ast112.c,
	  src/pbx_impl/ast/ast112.h, src/pbx_impl/ast/ast113.c,
	  src/pbx_impl/ast/ast113.h, src/pbx_impl/ast/define.h,
	  src/sccp_actions.c, src/sccp_appfunctions.c, src/sccp_channel.c,
	  src/sccp_cli.c, src/sccp_conference.c, src/sccp_config.c,
	  src/sccp_device.c, src/sccp_devstate.c, src/sccp_features.c,
	  src/sccp_hint.c, src/sccp_line.c, src/sccp_management.c,
	  src/sccp_refcount.c, src/sccp_socket.c, src/sccp_softkeys.c,
	  src/sccp_utils.c, src/sccp_utils.h: Enh: calling strdup instead
	  of ast_strdup(a) not supported anymore by asterisk
	  trunk. Replaced all instances with pbx_strdup(a), which points to
	  ast_strdup in
	  define.h

	* [r6506] autoconf/asterisk.m4, configure, src/chan_sccp.h,
	  src/config.h.in, src/pbx_impl/ast/define.h: Fix: Asterisk trunk
	  does not provide ast_register_file_version /
	  ast_unregister_file_version any more, added test
	  for this condition to configure and adapted chan_sccp.h
	  accordingly.

	* [r6505] src/sccp_channel.c, src/sccp_rtp.c: Fix: moved debug
	  logging with regard to used ip-address and port to
	  startMediaTransmission, so that it always get's shown even when
	  it has
	  not been altered by nat. (Requested by Marcello)

2016-01-05  ddegroot

	* [r6504] autoconf/extra.m4, configure, src/chan_sccp.h,
	  src/config.h.in: Fix: big / little endian use in chan_sccp.h.
	  Issue Reported by Kai Schmitz on Powerpc spe/e500

	* [r6503] src/sccp_socket.c: Enh: removal of unused socketopions:
	  TCP_THIN_LINEAR_TIMEOUTS and TCP_THIN_DUPACK. causing warning on
	  powerpcspe

2016-01-04  ddegroot

	* [r6502] src/sccp_socket.c: Fix: debug output when dissecting
	  incoming packet. Reported by Kai Schmitz

2015-12-28  ddegroot

	* [r6501] src/sccp_actions.c: Fix: boundscheck in
	  sccp_handle_soft_key_event. Issue Reported by Ahmed Zaim

	* [r6500] src/sccp_actions.c: Fix: Small Speeddial button fix for
	  immediate mode. Patch by Pavel

2015-12-14  ddegroot

	* [r6495] contrib/gen_sccpconf/gen_sccpconf.c,
	  contrib/gen_sccpconf/gen_sccpconf.h: Fix: gen_sccpconf
	  compilation

	* [r6492] src/pbx_impl/ast/ast.c: Switching back to automon instead
	  of automixmon, so that sccp_management.c
	  AMI event moniring works again.

2015-12-13  ddegroot

	* [r6491] src/sccp_mwi.c: Fix: skip updating voicemail msgcount
	  when pbx_app_inboxcount/event returns -1. Issue reported by Jozef
	  Maticky

	* [r6490] src/sccp_channel.c: Fix: audio issue reported by Jozef
	  Maticky when using speeddial.

2015-12-12  ddegroot

	* [r6489] src/sccp_channel.c: Fix: Reordered sccp_channel_newcall
	  to make 69XX and SCCPPhone (android) work in immediate/offhook
	  rtp mode again. Reported by Pavel.

2015-12-11  ddegroot

	* [r6488] autoconf/acinclude.m4, configure: Fix: issue when running
	  configure as non-root and you don't have enough rights to read
	  /etc/asterisk/asterisk.conf -> issue NOTICE and continue
	  searching.

	* [r6487] autoconf/acinclude.m4, configure: Fix: Prevent a faulty
	  etc/asterisk/asterisk.conf file from being parsed and causing
	  link errors down the line (should be backported).
	  Issue reported by Raymond Guzman.

2015-12-10  ddegroot

	* [r6486] src/sccp_cli.c, src/sccp_management.c: Enh: Implemented
	  CLI: sccp remove line <devicename> <linename>
	  Enh: Check if addButton call succeeded
	  Enh: Run sccp_device_check_update, which will cleanup device and
	  run device restart if necessary
	  Todo: Implement remove functionality for AMI call as well

	* [r6485] src/common.h, src/sccp_cli.c, src/sccp_config.c,
	  src/sccp_config.h, src/sccp_device.h, src/sccp_management.c:
	  Issue: using 'sccp add line [devicename] [linename], causes
	  segfault
	  Enh: use non-anonymous struct for sccp_buttonconfig_list
	  Enh: declare a type for sccp_buttonconfig_list as
	  sccp_buttonconfig_list_t
	  Enh: use new sccp_buttonconfig_list_t in device struct
	  Enh: pass buttonconfig as sccp_buttonconfig_list_t* instead of
	  void* in sccp_config_checkButton / sccp_config_addButton
	  Fix: sccp_cli.c / sccp_management.c when calling
	  sccp_config_addButton, a pointer to the buttonconfig should be
	  passed in, not the device
	  
	  (Issue reported by Cody-Miller)

2015-12-10  marcelloceschia

	* [r6484] src/sccp_rtp.c: fixes compile issue when compiling
	  without video support; issue reported by Ray

2015-12-09  ddegroot

	* [r6483] src/sccp_actions.c: Revert r6462. Issue reported by Dan
	  Huynh and Anatoli

2015-12-08  ddegroot

	* [r6482] src/sccp_actions.c, src/sccp_pbx.c, src/sccp_protocol.h:
	  Fix/Upd: ServerRes Message to format protocolversion>17 responses
	  correctly
	  Enh: Update comment in sccp_pbx.c

2015-12-07  ddegroot

	* [r6481] src/sccp_channel.c, src/sccp_protocol.c: Enh: Suppress
	  callinfo logging when not required/requested via sccp debug

	* [r6480] src/sccp_enum.c, src/sccp_enum.h, src/sccp_enum.in,
	  src/sccp_event.c, tools/gen_sccp_enum.awk: Fix: enum bitflag
	  issue, producing incorrect representations for the actual value

	* [r6479] src/sccp_config.c: Fix: when reloading sccp.conf the nat
	  status should only be restored to current status if it was
	  originally set to auto and remains to be set to auto. In a future
	  revision we should split the setting and the actual state, so
	  that this recovery is not required.

2015-12-06  ddegroot

	* [r6478] src/sccp_features.c: Added implementation reference note
	  to sccp_feat_monitor, to clarify flow of events

	* [r6477] src/sccp_config.c: Fix: Remove warning about context
	  missing when losing sccp.conf

	* [r6476] src/sccp_config.c, src/sccp_management.c: Enh: Only warn
	  when a specific dialplan context cannot be found, during a reload
	  (not during initial module load, because we cannot be sure the
	  dialplan has finished loading at that time).
	  Fix: Don't append '\r\n' wenn concatenating string in
	  __sccp_manager_hookresult

	* [r6475] src/sccp_management.c, src/sccp_management.h: Enh/Fix:
	  use thread local storage instead of gcc nested function/clang
	  blocks in sccp_manager_action2str
	  - Supported by older gcc versions
	  - Does not require special compiler functionality
	  - Prevents module load issue when asterisk was compiled with gcc
	  and chan-sccp-b with clang -> not supporting blocksruntime in
	  asterisk
	  - Cleaner implementation without ifdef blocks

	* [r6474] ChangeLog, src/pbx_impl/ast/ast106.c,
	  src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/ast112.c,
	  src/pbx_impl/ast/ast113.c, src/pbx_impl/pbx_impl.h,
	  src/sccp_rtp.c: Enh: Refactored wrapper_rtp_audio_create and
	  wrapper_rtp_video_create into wrapper-createRtpInstance, adapted
	  sccp_rtp.c accordingly (step 3 finished).

2015-12-05  ddegroot

	* [r6473] src/sccp_device.c: Fix: remove warning about going to
	  delete device (could be misinterpreted by users)

	* [r6472] src/sccp_hint.c: Revert accidental inclusion of
	  outstanding hint patch in previous commit

	* [r6471] src/pbx_impl/ast/ast111.c, src/sccp_hint.c: Enh:
	  Refactored implmentation of
	  sccp_wrapper_asterisk111_create_rtpInstance(constDevicePtr d,
	  sccp_channel_t * c, sccp_rtp_t *rtp) (experimental-mode only),
	  allowing one single function to create multiple kinds of
	  rtp_server_instances.

	* [r6470] src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast106.c,
	  src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/ast112.c,
	  src/pbx_impl/ast/ast113.c, src/sccp_actions.c,
	  src/sccp_channel.c, src/sccp_features.c, src/sccp_indicate.c,
	  src/sccp_rtp.c, src/sccp_rtp.h, src/sccp_softkeys.c: Enh: renamed
	  sccp_rtp_t.rtp to sccp_rtp_t.instance, preventing ackward
	  definitions like rtp->rtp or c->rtp.audio.rtp but have
	  rtp->instance and
	  c->rtp.audio.instance instead
	  Enh: added sccp_rtp_type_t to sccp_rtp_t so that we can later
	  make
	  sccp_rtp_t opaque. The type can be passed on into the pbx_impl
	  later, to
	  prevent having to tell it seperatly what rtp type passing,
	  allowing
	  refactoring ast_wrapper_create_audio_server to
	  ast_wrapper_create_rtp_server

	* [r6469] src/sccp_actions.c, src/sccp_channel.c, src/sccp_rtp.c,
	  src/sccp_rtp.h, src/sccp_softkeys.c: Enh: Refactored
	  sccp_rtp_createAudioServer / sccp_rtp_createVideoServer out in
	  favor of sccp_rtp_createServer (step 2)

	* [r6468] src/sccp_enum.c, src/sccp_enum.h, src/sccp_enum.in,
	  src/sccp_rtp.c: Fix: renamed sccp_sccp_rtp_type_t to
	  sccp_rtp_type_t (sccp_enum.in)
	  Enh: Refactored sccp_rtp_createAudioServer /
	  sccp_rtp_createVideoServer (step 1)

	* [r6467] src/sccp_rtp.c: Fix: regression cause by r6460. Issue
	  reported by Andy Bradford.

2015-12-04  ddegroot

	* [r6466] src/sccp_actions.c: Fix: Suppress phonebook entry when
	  looking at remote call on shared line

	* [r6465] src/sccp_protocol.h: Enh: Added
	  CallHistoryDispositionMessage to protocol (2)

	* [r6464] src/sccp_device.c, src/sccp_device.h: Enh: Added
	  CallHistoryDispositionMessage to protocol
	  Enh: Added sendCallHistoryDisposition message build function

	* [r6463] src/sccp_enum.c, src/sccp_enum.h, src/sccp_enum.in,
	  tools/gen_sccp_enum.awk: Enh: Added skinny_CallHistoryDisposition
	  enum
	  Fix: enum_str2intval should return a uint32_t to allow for bigger
	  enum values

	* [r6462] src/sccp_actions.c: Fix memory leak

2015-12-03  ddegroot

	* [r6461] src/chan_sccp.h: Fix: byteswap inclusion (non x86)

	* [r6460] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c,
	  src/pbx_impl/pbx_impl.h, src/sccp_channel.c, src/sccp_rtp.c,
	  src/sccp_rtp.h, src/sccp_softkeys.c: Enh: Update call to
	  sccp_rtp_createAudioServer to include device
	  Enh: Pass-on device from sccp_rtp_createAudioServer to
	  iPbx.rtp_audio_create(d, c)
	  Enh: Update sccp_rtp_createVideoServer to follow the same pattern
	  as sccp_rtp_createAudioServer

	* [r6459] src/sccp_management.c: Fix: Asterisk-162:
	  ast_hook_send_action not available

	* [r6458] src/sccp_actions.c, src/sccp_protocol.c: Cleanup: remove
	  sccp_dump_msg from several locations.

	* [r6457] src/sccp_config.c, src/sccp_device.c: Fix: set nat status
	  back when reload sccp.conf and nothing has changed (3). Device
	  restart issue with auto nat detection, reported by Pavel.

	* [r6456] src/sccp_actions.c, src/sccp_device.c: Fix: reset
	  nat=auto during device cleanup/unregister, so that we can
	  re-evalute it's nat status during registration (2). Device
	  restart issue with auto nat detection, reported by Pavel.

	* [r6455] src/sccp_actions.c, src/sccp_device.c: Fix: reset
	  nat=auto during device cleanup/unregister, so that we can
	  re-evalute it's nat status during registration. Device restart
	  issue with auto nat detection, reported by Pavel.

2015-12-02  ddegroot

	* [r6454] Makefile.am, Makefile.in, NEWS, debian/changelog: Update
	  NEWS and changelog to allow build rpm/release from trunk
	  directory

	* [r6453] Makefile.am, Makefile.in, autoconf/extra.m4, configure,
	  tools/chan-sccp-b.spec: Updated 'make rpm' command and
	  tools/chan-sccp-b.spec file (Thank Steven)

	* [r6451] autoconf/extra.m4, configure: Fix removal of '-g' CFLAGS
	  option in autoconf/extra.m4 (so that -grecord-gcc-switches does
	  not get corrupted into recordcc-switches by accident)

2015-12-01  ddegroot

	* [r6449] src/chan_sccp.h: Use compiled buildin functions for
	  byteswap when available by renaming the replacement functions

	* [r6448] src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c: When using UI64FMT it should be
	  accompanied by casting using ULONG

	* [r6447] autoconf/extra.m4, configure: Remove use of
	  -ffunction-sections / --gc-sections from configure script

	* [r6446] autoconf/asterisk.m4, configure: Cat config.log on remote
	  server when ast_version.h cannot be compiled by configure (OBS)

	* [r6445] src/pbx_impl/ast/ast.c: Enh: Remove notice when parsing
	  dial options

	* [r6444] src/sccp_protocol.c: Fix: Moved
	  sccp_protocol_sendRegisterAckV11 to orignal location
	  (accidentally moved).

	* [r6443] src/chan_sccp.c, src/sccp_actions.c, src/sccp_actions.h,
	  src/sccp_enum.c, src/sccp_enum.h, src/sccp_enum.in,
	  src/sccp_protocol.c, src/sccp_protocol.h: Enh: Added support for
	  PortRequestMessage, PortReponseMessage and PortCloseMessage
	  
	  Working on using these to get the RTP port from the device,
	  before actually
	  opening rtp reception. This will allow us to use the ip:port
	  information during
	  bridging, but postponing the activation of rtp flow to the latest
	  stage
	  possible (when codec type has been established. When using
	  direcrtp we need
	  to know the peer ip:port early, so that we do now have to change
	  source
	  addresses during bridging.

	* [r6442] src/sccp_rtp.c, src/sccp_utils.c, src/sccp_utils.h: Fix:
	  rename and inline socket_equals to sccp_socket_equals

	* [r6441] src/sccp_rtp.c, src/sccp_utils.c: Fix: socket_equals
	  function returning TRUE in almost all cases, which was definitly
	  not correct. Enh:Updated comments sccp_rtp (spelling mistakes and
	  clarifications)

2015-11-30  ddegroot

	* [r6440] src/sccp_pbx.c: ExpFix: callforward handling during
	  incoming call on shared line (Based on remark by Marcello).

2015-11-29  ddegroot

	* [r6439] src/sccp_actions.c: Fix: Remove Experimental flag

2015-11-28  ddegroot

	* [r6438] src/sccp_actions.c: Fix: We should use
	  sccp_device_getActiveChannel instead of
	  sccp_channel_retain(d->active_channel). We should move
	  d->active_channel to d->privateData->active_channel, to make
	  direct interaction not possible anymore.

	* [r6437] src/sccp_actions.c: Enh: Revised version of speeddial
	  handling to cover all possible channel->states

	* [r6436] src/sccp_channel.c, src/sccp_refcount.c: Enh: Report
	  issue when having problems during module unload
	  Fix: Refcount issue when entering digits in immediate mode caused
	  by sched_replace_ref instead of sched_add_ref (This would keep an
	  extra channel retained).

	* [r6435] src/chan_sccp.c: Enh: Only dump_msg when debug level
	  includes message

	* [r6434] src/sccp_refcount.c, src/sccp_refcount.h: Fix/Enh: When
	  unloading the module and when we have any left over reference
	  (indicating a problem), they should nevertheless be cleaned up in
	  order of priority to prevent any alarms being raised by cleaning
	  up references.

	* [r6433] src/sccp_pbx.c: Enh: show channel designator insteal of
	  callid.

	* [r6432] src/sccp_refcount.c: Fix: refcount cleanup during module
	  stop

	* [r6431] src/sccp_actions.c, src/sccp_channel.c: Remove unused
	  variable
	  Check if hold when handling speeddial succeeded or return error

	* [r6430] src/sccp_actions.c, src/sccp_device.c: Fix: stop
	  digittimeout when redialing number
	  Enh: cleanup usused source code
	  Enh: Remark out some debug log statements

	* [r6429] src/sccp_refcount.c: Enhancement: sccp_refcount cleans up
	  unused objects[hash] entries when
	  after removing an object and the hash entry is empty, instead of
	  allocating when
	  needed but freeing only at module unload. The old behaviour
	  looked like a
	  memory leak, which was not really the case.
	  
	  Updated refcount test to make sure that retain/release and
	  cleanup works
	  correctly even in cases of over allocation of the hash table by
	  inserting
	  5000 elements.

	* [r6428] src/chan_sccp.c, src/sccp_actions.c, src/sccp_callinfo.c,
	  src/sccp_channel.c, src/sccp_device.c, src/sccp_devstate.c,
	  src/sccp_event.c, src/sccp_hint.c, src/sccp_mwi.c,
	  src/sccp_refcount.c, src/sccp_socket.c, src/sccp_softkeys.c,
	  src/sccp_threadpool.c, src/sccp_utils.c: Enhancements:
	  - Use sccp_calloc(size, count) instead of sccp_malloc + memset
	  - Use sizeof *variable instead of sizeof(type) in sccp_malloc /
	  sccp_calloc (following the idiom of SIZEOF_TO_VARIABLES)

	* [r6427] src/sccp_channel.c: Fix: allow transfer of channel on
	  hold (again) when line is not shared). Set displayprompt on
	  transfer failure to indicate what went wrong.

2015-11-27  ddegroot

	* [r6426] src/sccp_callinfo.c, src/sccp_callinfo.h: Enh: Update
	  implementation of sccp_callinfo_copyByKey. Extend unittest to
	  include test of sccp_callinfo_copyByKey to verify behaviour.

	* [r6425] src/sccp_protocol.c: Enh: Remark out sccp_dump_msg from
	  sccp_protocol.c

2015-11-26  ddegroot

	* [r6424] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c: Enh: Add
	  stoptone when we receive asterisk prod indication. Fixes issue
	  reported/tested by Anatoli and Pavel.

	* [r6423] src/sccp_config.c, src/sccp_device.c, src/sccp_utils.c:
	  Enh: Change debuglevel on some logging

	* [r6422] src/sccp_channel.c: Enh: Make transfer_on_hangup valid
	  from more channel states

2015-11-25  ddegroot

	* [r6421] src/sccp_actions.c, src/sccp_channel.c, src/sccp_pbx.c:
	  Fix: digittimeout / invaluid nummer when using speeddial to
	  trasnfer a call (issue could have popped up in other use cases as
	  well). Reported by Cody.

2015-11-23  ddegroot

	* [r6420] src/sccp_config.c, src/sccp_enum.c,
	  tools/gen_sccp_enum.awk: Fix: skip empty default button entry,
	  when loading sccp.conf

	* [r6419] autoconf/acinclude.m4, configure: Detect old asterisk-11
	  version with broken asterisk.pc pkg-config file and
	  correct it retro-actively. Issue reported by Jeffrey Otterson.

	* [r6418] ChangeLog, Makefile.in, autoconf/extra.m4, configure:
	  Fix: Add space after libxml cflag. Reported by Jeffrey Otterson

2015-11-20  ddegroot

	* [r6417] src/sccp_featureButton.c: Enh: Clarify that the
	  config->button.feature.status value consist of three parts by
	  using the hex representation.

	* [r6416] src/sccp_actions.c, src/sccp_device.c,
	  src/sccp_indicate.c: Fix: Toggle between showing/hiding remote
	  channel information when (shared)line button is pressed and there
	  is a CONNECTED call on a remote Device
	  Enh: Sort Remote Device Indication functions in sccp_device.c
	  Enh: Remove some old commented lines from sccp_indicate.c

	* [r6415] src/sccp_device.c, src/sccp_device.h,
	  src/sccp_indicate.c: Enh: Added device->indicate->remoteConnected
	  and Moved implementation of remote connected indication from
	  sccp_indicate.c to sccp_device.c
	  Enh: Sorted/Regrouped device->indicate functions

	* [r6414] src/sccp_actions.c, src/sccp_channel.c,
	  src/sccp_device.c: Fix: refcount issue when observing remote call
	  on shared line
	  Fix: remove sccp_dev_setActiveLine whem observinc remote call on
	  shared line, line is not really active, just visible.
	  
	  Reported by Pavel.

	* [r6413] src/sccp_management.c, src/sccp_management.h: Fix:
	  clang-3.7+ compilation blocks call requires cast to be accepted
	  by ami hooks function.
	  Fix: clang-3.8+ Passing a local variable is converted to const if
	  not tagged with __block storage qualifier
	  Enh: Changed sccp_manager_action2char to return an allocated char
	  *, which needs to be freed (only if returning success)

	* [r6411] src/sccp_management.c, src/sccp_management.h: Enh:
	  Reenable possible use of sccp_manager_action2pbx_str.

	* [r6410] src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast106.c,
	  src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/ast112.c,
	  src/pbx_impl/ast/ast113.c, src/pbx_impl/pbx_impl.h: Enh:
	  Implement iPbx.getFeatureExtension according to the function name
	  (not only usable to get automon / autmixmon).
	  Enh: Use iPbx.getFeatureExtension appropriately to get the
	  automixmon dtmf sequence.

	* [r6408] src/pbx_impl/ast/ast.c, src/sccp_actions.c,
	  src/sccp_device.c, src/sccp_features.c, src/sccp_features.h: Enh:
	  use automixmon instead of automon (pbx_impl/ast/ast.c)
	  Fix: call sccp_feat_monitor with and without a channel (REQUESTED
	  State)
	  Enh: Show Requested state in DisplayMessage (sccp_device.c)

2015-11-19  ddegroot

	* [r6407] ChangeLog, autoconf/acinclude.m4, autoconf/check_raii.m4,
	  configure, src/config.h.in: Fixes #283: setting PBX_VARLIB.
	  Reported by lynt-smitka.
	  Fixes sccp_manager_action2pbx_str by adding GCC_NESTED or
	  CLANG_BLOCK if found.

	* [r6406] src/sccp_pbx.c: Revert further change to sccp_pbx_call,
	  causing phones not to ring on incoming call. Reported by Pavel.

	* [r6405] src/sccp_pbx.c: Revert accidental change to
	  sccp_pbx_call, causing phones not to ring on incoming call.
	  Reported by Pavel.

2015-11-18  ddegroot

	* [r6404] src/pbx_impl/ast/ast106.c, src/sccp_actions.c,
	  src/sccp_config_entries.hh, src/sccp_pbx.c,
	  tools/gen_sccp_enum.awk: Fix: sccp_actions.c log output when
	  pressing feature button and no arguments have been set
	  Fix: gen_sccp_enum.awk (exists and 2str) for bitfield enums with
	  0 value
	  Fix: sccp_pbx.c: duplicate call to sccp_feat_changed during
	  hangup handling
	  Enh: add monitor button to default softkeysets in 'connected'
	  keymode
	  Enh: implemented asterisk16_getFeatureExtension

	* [r6403] src/pbx_impl/ast/ast.c: Fix: Restructured
	  sccp_wrapper_asterisk_featureMonitor

	* [r6402] src/pbx_impl/ast/ast.c: Enh: Restructured
	  sccp_wrapper_asterisk_featureMonitor

	* [r6401] src/pbx_impl/ast/ast.c: Fix: call features not always
	  unlocked when requesting automixmon / mixmon. Causing sporadic
	  hangs/locks when requesting to monitor a call. Reported by Cody
	  Miller-Kelly.

	* [r6400] src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast.h,
	  src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c: Partial
	  Retrackion of patch 6398: removing the dialstring 'video='
	  addition.
	  which would result in multiple ways to perform the same action.
	  We opted for
	  the Channel() method only.
	  
	  Set(Channel(video=off)) will be forwarded to the remote channel
	  instance once, by
	  adding _SCCP_VIDEO_MODE=off to the current channel for you
	  Alternatively you can set(SCCP_VIDEO_MODE=off) yourselves in the
	  dialplan.
	  
	  Both deliver the same functionality.
	  
	  Issue reported by Cody Miller-Kelly.

2015-11-17  ddegroot

	* [r6399] src/sccp_pbx.c: Fix: debug logging in sccp_pbx_call.

	* [r6398] autoconf/extra.m4, configure, src/config.h.in,
	  src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast.h,
	  src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c,
	  src/sccp_channel.c: Enhancement:
	  Interpret channel variable:SCCP_VIDEO_MODE (off/user/auto)
	  
	  When CHANNEL(video=???) is set it will also add variable
	  '_SCCP_VIDEO_MODE'
	  with the same value to the call, so that this state can be picked
	  up by the
	  other side.
	  
	  Also added Dial option video=??? as in
	  Dial(SCCP/1234/video=off,20,W), to only
	  change the video mode on one side of the call.
	  
	  This will allow you to activate or suppress video both on
	  incoming and outcoming
	  calls by using one of these additional dialplan options.

	* [r6397] src/sccp_indicate.c: Fix: sccp_indicate hold should check
	  if openreceive was initialized (\!SCCP_RTP_STATUS_INACTIVE), and
	  not if it was actually realized, may have been in progress

	* [r6396] src/sccp_channel.c, src/sccp_pbx.c: Enh: update counting
	  of c->subscribers. Fix: sccp_channel_setDevice when used from
	  sccp_channel_allocate, it should set default values if no device
	  provided.

2015-11-16  ddegroot

	* [r6395] src/sccp_pbx.c: Added reworked version of sccp_pbx_call
	  (only active if compiled with --enabled-experimental-mode).
	  
	  Contains:
	  improved sharedline handling
	  - calculate c->subscribers correctly (also used when handling
	  sccp_softkey_onhook, to define behaviour)
	  - handle dnd and callforward after calculating c->subscribers
	  - use asterisk local channel to resolve forward, which obsoletes:
	  * sccp_channel_callforward
	  * sccp_channel_end_forwarding_channel
	  * c->parentChannel
	  * masquerading in sccp_pbx_answer

	* [r6394] src/pbx_impl/ast/ast106.h: Fix asterisk-1.6.2 compilation

2015-11-15  ddegroot

	* [r6393] src/sccp_line.c: Fix: No need to walk through the
	  l->device list to lookup first.

	* [r6392] src/sccp_line.c, src/sccp_utils.c, src/sccp_utils.h: Fix:
	  reduceCodecSet and combineCodecSets. Added Unittests for both
	  functions to verify behaviour. Issue reported by Modulis

	* [r6391] src/sccp_actions.c, src/sccp_mwi.c: Enh: use
	  feature_addToDatabase instead of directly calling ast_db_put.
	  Change debug prefix level

2015-11-13  ddegroot

	* [r6390] src/sccp_enum.c, src/sccp_enum.in: Enh: Update RingType
	  Strings so they can be set using 'ringer='

	* [r6389] src/sccp_line.c, src/sccp_mwi.c, src/sccp_mwi.h: Fix
	  spurious mwi error during module unload, by implementing
	  sccp_mwi_unsubscribeMailbox

2015-11-12  ddegroot

	* [r6388] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c,
	  src/sccp_actions.c, src/sccp_channel.c, src/sccp_channel.h,
	  src/sccp_pbx.c, src/sccp_softkeys.c: Fix: revised/refactored the
	  scheduled digittimeout, hangup system.
	  Fixes:refcount issue created by fix in 6384, which revealed the
	  schedule issue.
	  
	  Note: Because of the returned value of ast_sched_add_ref (-1 for
	  now schedule and > 0 for a new schedule_id), most of the checks
	  needed to be fixed (as well).
	  Scheduler id's start at 0, which negated most of the checks when
	  testing for it, delivering different results on the first call
	  (on newly started astereisk)
	  then compared to later calls.

	* [r6387] src/pbx_impl/ast/ast.c: Fix: Compilation on ast1.6.2

	* [r6386] src/pbx_impl/ast/ast.c: Fix: Compilation on ast1.6.2

	* [r6385] src/sccp_hint.c: Enh: refactor
	  sccp_hint_handleFeatureChangeEvent.

	* [r6384] src/sccp_pbx.c: Fix: indicate invalid number after
	  firstdigittimeout interval ends.

	* [r6383] src/sccp_config.c: Fix: initialize variable. memcpy
	  structure content, instead of assignment.

	* [r6382] src/pbx_impl/ast/ast.c: Fix compilation on asterisk-10

2015-11-11  ddegroot

	* [r6381] src/pbx_impl/ast/ast.c: Fix: compile issue with
	  asterisk-1.8 and below.

	* [r6380] ChangeLog, autoconf/extra.m4, configure: Fix #261:
	  Suspend adding '-Wl,-gc-sections' on OSX. Reported by Alexander
	  Ocheretin.

	* [r6379] src/sccp_channel.c: Fix #261: compile issue on OS-X.
	  Reported by Alexander Ocheretin.

	* [r6378] src/pbx_impl/ast/ast.c, src/sccp_protocol.c,
	  src/sccp_protocol.h: Fix: Set(REDIRECTING(orig-??, i). Issue
	  Reported by Cody Miller-Kelly.

	* [r6377] src/sccp_channel.c: Enh: reorder set called party so that
	  we only call sccp_callinfo_setter once

	* [r6376] src/pbx_impl/ast/ast111.h, src/pbx_impl/ast/ast112.h,
	  src/pbx_impl/ast/ast113.h, src/pbx_impl/ast/define.h: Enh: Added
	  pbx_channel_redirecting_effective_orig

	* [r6375] src/sccp_indicate.c: Fix: displaymessage with orig_called
	  number/name during RINGING (typo). Reported by Cody.

	* [r6374] src/chan_sccp.c: Fix: release of GLOB(hotline)->line.
	  Reported by Cody Miller.

	* [r6373] src/chan_sccp.c: Fix: PreUnload releasing hotline->line

	* [r6372] src/sccp_cli.c, src/sccp_config.c: Module load warning on
	  tests. Cleanup tabs in sccp_cli.c.

2015-11-10  ddegroot

	* [r6371] src/chan_sccp.c, src/sccp_config.c, src/sccp_config.h:
	  Enh: started adding unittests to sccp_config.

2015-11-09  ddegroot

	* [r6367] src/sccp_indicate.c: Enh: OFFHOOK indication

	* [r6366] src/sccp_conference.c: Fix: conference + asterisk-13
	  hangup when a normal participant hangs up the conference should
	  continue.

	* [r6365] src/sccp_actions.c: Fix: sccp_handle_EnblocCallMessage to
	  make sure scheduled digittimeout is cancelled.

	* [r6364] src/sccp_features.c: Fix: don't mix conference and meetme
	  indications

	* [r6363] src/sccp_protocol.c, src/sccp_protocol.h: Fix:
	  EnblocMessages V22 comes in two different flavours (packed(797x)
	  and unpacked (8945)), this needs to be handled seperately to
	  gather the correct lineInstance.

2015-11-08  ddegroot

	* [r6361] src/sccp_rtp.c: Fix: directrtp with nat=auto

2015-11-07  ddegroot

	* [r6358] src/pbx_impl/ast/ast106.h, src/pbx_impl/ast/ast108.h,
	  tools/versioncheck: Fix compile warnings when used outside of svn
	  repository. Fix compile warning for empty definition of
	  ast_bridge_lock in asterisk < 10

	* [r6357] contrib/gen_sccpconf/gen_sccpconf.c: Fix: empty
	  SCCP_REVISION string (when compiling outside svn repository)

	* [r6352] contrib/gen_sccpconf/gen_sccpconf.c,
	  contrib/gen_sccpconf/gen_sccpconf.h: Fix building gen_sccpconf

	* [r6348] src/sccp_conference.c: Fix: conference endcall ordering
	  during onhook event. Reported by Rafal.

	* [r6347] src/chan_sccp.c, src/sccp_callinfo.c,
	  src/sccp_callinfo.h: Enh: Added test cases to sccp_callinfo

2015-11-06  ddegroot

	* [r6346] src/chan_sccp.h, src/pbx_impl/ast/ast.h: Enh: check
	  defines before including

	* [r6345] src/sccp_indicate.c: Enh: Suppress remote (double)
	  indication of conference using shared line where phone is already
	  part of the conference.

2015-11-05  ddegroot

	* [r6344] src/sccp_config.c, src/sccp_enum.c, src/sccp_enum.h,
	  tools/gen_sccp_enum.awk: Enh: enum_all_entries should return
	  const char *

2015-11-04  ddegroot

	* [r6343] src/sccp_socket.h: Fix compiler warning about inlining

	* [r6342] autoconf/extra.m4, configure: Fixing compile warnings
	  when using gcc < 4.3.

2015-11-03  ddegroot

	* [r6341] src/sccp_features.c: Fix: removal of double ast_channel
	  unlock.

	* [r6340] src/sccp_actions.c, src/sccp_channel.c,
	  src/sccp_channel.h, src/sccp_features.c, src/sccp_features.h,
	  src/sccp_pbx.c, src/sccp_softkeys.c: Enh:
	  - Introduction of sccp_channel_getEmptyChannel as a seperate
	  function.
	  - sccp_channel_newcall, uses sccp_channel_getEmptyChannel to
	  allocate and setup a channel to call softswitch on.
	  
	  It allows other functions like gpickup to only request an empty
	  (dummy) channel,
	  instead of actually going through sccp_channel_newcall ->
	  softswitch,
	  for a channel that will be masqueraded out anyway.
	  
	  Tested by Pavel and Benjamin.

	* [r6339] src/sccp_channel.c: Fix: sccp_channel_transfer_cancel
	  should check if it can retain the channel it's going to try and
	  release. Move sccp_channel_transfer_cancel to an earlier location
	  to prevent sccp_channel_transfer_cancel being called twice
	  (masquaraded channel -> hangup -> destroy ->
	  sccp_channel_transfer_cancel.

	* [r6338] src/chan_sccp.c, src/chan_sccp.h, src/sccp_actions.c: Fix
	  'sccp set debug' repeating a value already set. Fix check on
	  refurn value of sccp_device_buttonIndex2lineInstance. Fix inline
	  quailifier check for older compilers

2015-11-02  ddegroot

	* [r6337] src/chan_sccp.c, src/chan_sccp.h: Fix duplicate symbol
	  declaration. Patch provided by Alexander Ocheretin (#260)

	* [r6336] src/chan_sccp.c, src/sccp_hint.c: Change inline to
	  gcc_inline, to prevent warnings on really old gcc compilers

2015-11-01  ddegroot

	* [r6335] autoconf/extra.m4, configure, src/common.h,
	  src/sccp_channel.c, src/sccp_conference.c: Enh: Use cc
	  -std=gnu11, keep fallback to -std=gnu98 if necessary

	* [r6334] src/sccp_enum.c, tools/gen_sccp_enum.awk: Enh: Schrink
	  size of sccp_enum.c generated output, by reusing strings if
	  possible

	* [r6333] autoconf/extra.m4, configure: Enh: Make the compiler
	  remove dead/unused code during linking stange

	* [r6332] src/chan_sccp.c, src/chan_sccp.h, src/pbx_impl/ast/ast.c,
	  src/pbx_impl/ast/ast.h, src/pbx_impl/ast/ast106.c,
	  src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/ast112.c,
	  src/pbx_impl/ast/ast113.c, src/sccp_callinfo.c,
	  src/sccp_callinfo.h, src/sccp_channel.c, src/sccp_channel.h,
	  src/sccp_device.c, src/sccp_device.h, src/sccp_line.c,
	  src/sccp_line.h, src/sccp_management.c, src/sccp_management.h,
	  src/sccp_utils.c, src/sccp_utils.h: Dead Code/Unused Functions
	  remarked out (first step before later removal).

	* [r6331] src/chan_sccp.c, src/chan_sccp.h, src/sccp_cli.c,
	  src/sccp_hint.c, src/sccp_socket.c: Fix locking issue when
	  running a (quick) sequence of 'sccp reload file xxx'-s. During a
	  reload hint lineStateUpdates should be suspended.

	* [r6330] src/sccp_actions.c: Fix: make intercpt work on newer
	  devices with shared line, should show onhookstealable instead of
	  starting a new call, when another call is already active on the
	  shared line.

	* [r6329] src/sccp_callinfo.c: Fix: sccp_callinfo_copyCtor to
	  include all of the content except the lock (changed the builtup
	  of the structure to make that obvious). Issue involving remote
	  indication, which showed this reported by Rafal.

	* [r6328] ChangeLog, Makefile.am, Makefile.in,
	  contrib/gen_sccpconf/Makefile.in, doc/Makefile.in: Eng: make
	  coverage

	* [r6327] src/Makefile.in, src/sccp_channel.c: remove comment

	* [r6326] src/sccp_channel.c: Renamed a weird variable name

	* [r6325] conf/mysql-v5.sql: Fix: added comment about setting
	  group_concat_max_len in my.cnf for mysql-v5 users (with addons).
	  Reported by Cody

	* [r6324] conf/sccp.conf.annotated, src/sccp_config.c,
	  src/sccp_config_entries.hh: Fix: sccp.conf.annotated content in
	  regard to softkeysets. Reported by Rafal.

2015-10-31  ddegroot

	* [r6323] src/sccp_utils.c: Enh: Extended the ACL / permit_deny
	  tests to include invalid format checks, error checking and IPv6
	  addresses

	* [r6322] src/sccp_refcount.c, src/sccp_utils.c: Enh: Simplify test
	  cases

	* [r6321] src/chan_sccp.c, src/sccp_cli.c, src/sccp_features.c,
	  src/sccp_threadpool.c, src/sccp_threadpool.h: Enh: Move cli
	  threadpool test case to sccp_threadpool.c. Fix:
	  sccp_threadpool_shuttingdown to be set per threadpool (multiple
	  allowed). Fix: threadpool grow/shrink by amount. Extend test
	  cases to test create/destroy/addWork/grow/shrink

	* [r6320] src/chan_sccp.c, src/sccp_cli.c, src/sccp_refcount.c,
	  src/sccp_refcount.h, src/sccp_utils.c: Moved cli based test to
	  sccp_refcount using the TEST_FRAMEWORK

	* [r6319] src/sccp_actions.c, src/sccp_device.c, src/sccp_device.h,
	  src/sccp_line.c, src/sccp_protocol.h: Fix: Old Devices (7960)
	  sending buttonIndex instead of lineInstance in OnHook and KeyPad
	  Messages, using new buttonIndex2lineInstance convertor function.
	  Fixes: #281. Reported by Jonas Wilkening

2015-10-30  ddegroot

	* [r6318] src/sccp_actions.c: Fix: Older devices send buttonIndex
	  instead of lineInstance in the onhook message. Maybe newer
	  devices as well (research).

	* [r6317] src/sccp_channel.c, src/sccp_channel.h, src/sccp_line.c,
	  src/sccp_line.h: Enh: Added find functions
	  sccp_line_by_buttonIndex and
	  sccp_channel_byButtonIndex_and_callid.

	* [r6316] src/sccp_cli.c: Fix: CLI output for accessoryState

	* [r6315] src/sccp_protocol.c: Add support for protocol version 8
	  (7912)

	* [r6314] src/sccp_indicate.c: Enh: Check linedevice_find inline

	* [r6313] src/sccp_refcount.c: Fix: compiler about constness when
	  configured with --enable-refcount-debug

	* [r6312] src/sccp_protocol.c, src/sccp_protocol.h: Fix:
	  sendCallInfoV3 for lower protocol level phones. Issue reported by
	  Jonas Wilkening.

	* [r6311] src/sccp_indicate.c, src/sccp_pbx.c: Fix compile when
	  running without conference support

	* [r6310] src/sccp_channel.c, src/sccp_conference.c,
	  src/sccp_features.c, src/sccp_indicate.c: Fix conference-join
	  feature when used in offhook mode. Issue reported by Pavel.
	  Requires previous 'holdconf' keymode in softkey, will fallback to
	  default value if not supplied.

	* [r6309] conf/sccp.conf.annotated: Show use of holdconf in example
	  file

	* [r6308] src/sccp_config.c, src/sccp_config_entries.hh,
	  src/sccp_enum.c, src/sccp_enum.h, src/sccp_enum.in,
	  src/sccp_protocol.c: Added new keymode 'holdconf' required to be
	  able to indicate a conference on
	  hold, while having a potential call which could be joined to the
	  conference.
	  This keymode should only be use on a moderator device.

	* [r6307] src/sccp_indicate.c: Fix: Shared lines not showing 'in
	  use' on other handsets. Reported by Steven Haigh

	* [r6306] src/sccp_actions.c, src/sccp_conference.c,
	  src/sccp_config.c, src/sccp_socket.c: Fix (false) warnings about
	  local variable shadowing global declarations when using gcc <=
	  4.8

	* [r6305] src/common.h, src/sccp_refcount.c, src/sccp_utils.c: Enh:
	  Added expects callflow to reduce cost of conditions in refcount
	  and sccp_copy_string.

	* [r6304] src/sccp_socket.c, src/sccp_socket.h: Enh: inline is_IPv?
	  function. Reduce number of calls to socket_cleanup_timedout.

	* [r6303] src/sccp_cli.c: Fix: show multiple channel info in sccp
	  show line dealing with shared line. Reported by Steven.

2015-10-28  ddegroot

	* [r6302] src/chan_sccp.c, src/sccp_cli.c: Fix: 'sccp debug'
	  completetion, Added 'sccp debug off', 'sccp debug' should not
	  include 'none' when reporting curren state. Issue reported by
	  Pavel.

	* [r6301] src/sccp_conference.c, src/sccp_features.c,
	  src/sccp_pbx.c: Fix conference resume during joining with
	  multiple partners already present.

	* [r6300] src/pbx_impl/ast/ast111.c, src/sccp_callinfo.c: Fix
	  locking issue in sccp_callinfo, caused when copying over the
	  locking state. Reported by Rafal

	* [r6299] src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c: Added
	  AST_CONTROL_TRANSFER entry to sccp_wrapper_asterisk???_indicate

	* [r6298] src/pbx_impl/ast/ast.c: Fix phonebook entry on attended
	  call transfer. Reported by Frederic.

	* [r6297] src/pbx_impl/ast/ast.c, src/sccp_hint.c,
	  src/sccp_indicate.c: Revert of previous change in sccp_indicate,
	  whereby the callinfo ended up being send after
	  sccp_device_sendcallstate. Issue reported/Tested by Pavel.
	  Move of sccp_indication called by CONTROL_CONNECTED_LINE_UPDATE
	  to the connectedline_update function.

2015-10-27  ddegroot

	* [r6296] src/sccp_callinfo.c, src/sccp_hint.c: Fix (reentrant)
	  locking issue in sccp_callinfo by switching to rwlocks (hint
	  events are updated in a seperated thread using an event, and most
	  callinfo events are read events when dealing with hint.

	* [r6295] debian/rules: Enable video / conference and advanced in
	  debian/ubuntu builds

2015-10-25  ddegroot

	* [r6294] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/define.h, src/sccp_conference.c: Suppress
	  Cast-Align Warning when using clang and asterisk <= 10 by
	  replacing AST_STRING_FIELD_ALLOCATION macro. Fix rtpGetUs /
	  rtpGetThem function on asterisk <= 1.8 (inaccurate cast, using
	  locale variable instead). Fix warning about using the wrong flags
	  on conference bridge_join

	* [r6293] src/sccp_config_entries.hh: Extend useRedialMenu help
	  text

	* [r6292] src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/ast112.c,
	  src/pbx_impl/ast/ast113.c: Fix previous change. When handling
	  AST_CONTOL_CONNECTED_LINE we should not call sccp_indicate at
	  all.

	* [r6291] src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/ast112.c,
	  src/pbx_impl/ast/ast113.c: Fix: Connected_Line_Update before
	  channel has been answered, should indicate PROGRESS not
	  CONNECTED. Partial Fix for CallerID issue reported by Frederic.

	* [r6290] src/sccp_actions.c, src/sccp_pbx.c: Fix:Prevent offhook
	  dialing from indicating CHANNELSTATE_DIGITSFOLL after
	  CHANNELSTATE_DIALING. (Issue reported by Frederic, where offhook
	  dialing and enblock/redial do different things).

	* [r6289] src/sccp_protocol.c: Enh: include more information in
	  sendCallInfo debug

	* [r6288] src/sccp_cli.c: Fix: CLI-COMMAND 'sccp set' should return
	  error when given unknown parameter. Enh:Included debug in
	  CLI:'sccp set' as one of it's accepted parameters. Reported and
	  Requested from Pavel.

	* [r6287] src/sccp_callinfo.c: Fix: sccp_callinfo dtor locking
	  order on destroy when using asterisk-1.8, It does not allow us to
	  destroy mutex while locked

2015-10-24  ddegroot

	* [r6286] src/sccp_hint.c: Fix: Remove lineState state entry when a
	  line is detached. Fixes issue when using 'sccp show hint
	  lineState'.

2015-10-23  ddegroot

	* [r6285] src/sccp_hint.c: Fix: potential segfault

	* [r6284] src/sccp_hint.c: Fix: hint update displayMessage.
	  Enh:When indicating DND on protocolVersion > 15 phones include
	  the text '(DND)'

	* [r6283] src/sccp_conference.c: Update conference structure order
	  to fill holes

	* [r6282] src/sccp_channel.c, src/sccp_conference.c,
	  src/sccp_conference.h, src/sccp_features.c, src/sccp_indicate.c:
	  Fix: conference join, leaving the moderator with audio. Reported
	  by Rafal and Pavel.

	* [r6281] src/sccp_protocol.c: Enh: Re-enable setting callInstance
	  in sendCallInfoV3 (1)

	* [r6280] src/sccp_protocol.c: Enh: Re-enable setting callInstance
	  in sendCallInfoV3

	* [r6279] src/sccp_features.c, src/sccp_features.h, src/sccp_pbx.c,
	  src/sccp_softkeys.c: Enh: Reduce steps in pickup/gpickup. Cleanup
	  none used code. Fix: gpickup in immediate mode (Reported by
	  Pavel).

	* [r6278] src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast.h,
	  src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c: Enh: Remove
	  duplicate code by moving dial option parsing to seperate helper
	  function

2015-10-22  ddegroot

	* [r6277] src/sccp_channel.c, src/sccp_conference.c,
	  src/sccp_config_entries.hh: - Added newcall to connconf menu
	  - hold/resume conference indication should set
	  CONNECTEDCONFERENCE
	  - after join a little wait time is need before linking up bridge
	  channels for new participants

	* [r6276] src/sccp_conference.c, src/sccp_indicate.c: Fix: using
	  conference on shared line
	  Fix: Suppress remote indications when conference is used on
	  shared line
	  - Fix: set CONNECTEDCONFERENCE indication on channel being
	  masqueraded out, to prevent announcing channel to remote shared
	  line members.
	  Fix: refcount causing conference not to be cleaned up
	  Fix: suspend participant from bridge before kicking the channel,
	  allows conference to continue in the meantime
	  Fix: playback to participant channel in seperate thread so that
	  conference does not have to wait.
	  
	  Issue(s) reported by Rafal & Pavel

	* [r6275] src/sccp_pbx.c: Fix: adding digittimeoutchar

	* [r6274] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c,
	  src/pbx_impl/pbx_impl.h, src/sccp_actions.c, src/sccp_channel.c,
	  src/sccp_features.c, src/sccp_indicate.c, src/sccp_pbx.c,
	  src/sccp_softkeys.c: Fix: rewrite / integration of pickup /
	  gpickup
	  Enhancement: callinfo exchange during pickup
	  Enhancement: better locking during pickup
	  Enhancement: failure handling / error reporting
	  Enhancement: pbx_impl get/set callerid function use
	  PBX_CHANNEL_TYPE instead of sccp_channel_t, so that they can be
	  called on foreign channel type if necessary
	  Fix: for immediate mode, dealing with 's' extension and
	  sccp_channel_new_call (Patch provided by Pavel).

2015-10-20  ddegroot

	* [r6273] src/sccp_indicate.c: Fix: empty callplane (without
	  callinfo) during CALLWAITING and in remote_indications. Reported
	  by Rafal.

	* [r6272] src/sccp_actions.c, src/sccp_softkeys.c: Fix: redial
	  using redialInformation.lineinstance when dialing.

	* [r6271] src/sccp_protocol.c: Fix: 7921 callinfo display. Reported
	  by Rafal.

2015-10-19  ddegroot

	* [r6270] src/sccp_features.c, src/sccp_pbx.c: Fix: directed pickup
	  when using modeanswer=off

	* [r6269] src/sccp_conference.c: Enh: Speed up conference handling,
	  by using RWLIST for conference->participants. Cleanup CallerID
	  information for the initial conference moderator.

	* [r6268] src/pbx_impl/ast/ast112_announce.c,
	  src/pbx_impl/ast/ast113.c, src/sccp_conference.c: Fix: conference
	  kick announcement on foreign channels drivers. Fix
	  conference_resume locking issue (also prevented conference join
	  to hangup). cleanup announcement channel driver. Kick issue
	  reported by Rafal.

	* [r6267] src/sccp_hint.c: Fix: Hint issues during
	  progress/proceeding. Reported and Patched by Pavel Troller.

2015-10-19  marcelloceschia

	* [r6266] src/sccp_socket.c: Merge commit
	  '1847a62f6880d5cc40f0ffcd825c479603b3e910'
	  
	  * commit '1847a62f6880d5cc40f0ffcd825c479603b3e910':
	  fixes retain issue in sccp_session_getDevice

	* [r6265] src/chan_sccp.c: Merge commit
	  '2f3b7afc8728c5281bdf3fdc0b604da5d8c51892'
	  
	  * commit '2f3b7afc8728c5281bdf3fdc0b604da5d8c51892':
	  fix spelling

2015-10-18  ddegroot

	* [r6264] src/pbx_impl/ast/ast106.h, src/pbx_impl/ast/ast108.h,
	  src/pbx_impl/ast/define.h, src/sccp_conference.c: Fix: conference
	  issue(s) when running with asterisk-13. Reported by Rafal
	  Jurczak.

	* [r6263] src/pbx_impl/ast/ast110.c: Fix: compile warning (ast-10)

	* [r6262] autoconf/extra.m4, configure: Fix: grep error on stdout
	  from configure

2015-10-17  ddegroot

	* [r6261] src/sccp_features.c: Fix: Remove onhook action during
	  directed picku (with modeanswer=on)

	* [r6260] src/common.h, src/sccp_appfunctions.c,
	  src/sccp_conference.c, src/sccp_conference.h,
	  src/sccp_features.c: Enhancements: privatised conference structs.
	  Constified sccp_conference.c. Renamed
	  sccp_conference_partificpant to sccp_participant.

2015-10-16  ddegroot

	* [r6259] src/sccp_line.c: Release line when last device leaves ->
	  freeing the line

	* [r6258] src/sccp_hint.c: Fix: line refcount issue in sccp_hint.c
	  (follow up for rev 6256)

	* [r6257] src/sccp_dllists.h: Enh: Replaced SCCP_LIST_FIND with
	  cheaper version

	* [r6256] src/sccp_hint.c: Fix: line refcount issue.

	* [r6255] src/sccp_device.c, src/sccp_softkeys.c: Fix: Error
	  message about Destruction of device->privateData Lock.
	  Enh: Reduce softkey logging

	* [r6254] src/sccp_hint.c: Fix: DND callinfo needed a calltype to
	  be presented correctly. Reported by Steve Hanselman.

	* [r6253] src/sccp_callinfo.c, src/sccp_callinfo.h,
	  src/sccp_channel.c, src/sccp_hint.c, src/sccp_protocol.c,
	  src/sccp_protocol.h: Fix: callInstance number displayed in
	  callplane. Reported by Pavel Troller.

	* [r6252] src/sccp_cli.c, src/sccp_line.c: Fix: Correct line
	  statistics (Active & Held Channel Count)

	* [r6251] src/sccp_appfunctions.c, src/sccp_cli.c,
	  src/sccp_config_entries.hh, src/sccp_management.c: Fix: DND not
	  cycling by defaultr. Issue reported by Steve Hanselman.

	* [r6250] src/sccp_conference.c, src/sccp_features.c: Fix: double
	  definition warning. Fix: shadow warning

2015-10-15  ddegroot

	* [r6249] src/sccp_device.c: Fix: switch speaker off on older
	  devices when onhook is indicated

	* [r6248] autoconf/asterisk.m4, autoconf/extra.m4, configure,
	  configure.ac, src/common.h, src/config.h.in: Cleanup
	  configure/autoconf. Added check to see if we are running in
	  scan-build/ccc-analyzer. Added define for NONENULL attribute
	  check when using ccc-analyzer

	* [r6247] src/Makefile.am, src/Makefile.in: Enhancement: Update
	  Makefile.am

	* [r6246] Makefile.am, Makefile.in, src/Makefile.am,
	  src/Makefile.in, tools/autorevision: Update: autorevision

	* [r6245] src/sccp_actions.c, src/sccp_actions.h,
	  src/sccp_softkeys.c, src/sccp_utils.c: Enhancement:
	  checked/corrected sccp_action.c function for potential calls with
	  null pointers

2015-10-14  ddegroot

	* [r6244] src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast106.h: Fix
	  asterisk 1.6.2 compilation

	* [r6243] src/sccp_pbx.c: Fix dial timeout without a number.
	  Reported by Niklas Larsson.

	* [r6242] src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast112.c,
	  src/pbx_impl/ast/ast113.c, src/pbx_impl/ast/define.h: Fixes the
	  sporadic issue where an ast_channel is still shown in 'core show
	  channels' after hangup has finished (hangup cli function does not
	  have any effect). Finally found the cause in stasis/snapshot
	  being taken before having set the c->owner and not updating the
	  snapshow when adding rtp_server to the channel. Reported by
	  Niklas Larsson (references #205 references #107)

	* [r6241] src/chan_sccp.c, src/pbx_impl/ast/ast.c: Fix compilation
	  against asterisk-1.6.2

	* [r6240] src/sccp_device.c: Fix indicate->onhook

2015-10-13  ddegroot

	* [r6239] src/sccp_pbx.c: Fix dialtone issue when taken offhook and
	  using endcall button (also happens when resuming a call).
	  Reported by Dan Huynh.

	* [r6238] src/sccp_line.c: Provide starttone with lineInstance and
	  callid possible

	* [r6237] src/sccp_indicate.c: Use d->indicate->onhook to handle
	  onhook indication

	* [r6236] src/sccp_features.c, src/sccp_softkeys.c: Provide
	  starttone with lineInstance and callid possible

	* [r6235] src/sccp_device.c: Check activeChannel during
	  indicate->onhook

	* [r6234] src/sccp_atomic.h, src/sccp_channel.c: Fix cancelling
	  scheduled task being executed twice. Added ATOMIC_FETCH. Prevent
	  onhook indication being send by sccp_channel_cleanup, when this
	  state is already active.

	* [r6233] src/sccp_channel.c: Fix compile warning.

	* [r6232] contrib/llvm-scan-build: Expand the number of checks run
	  during llvm-scan-build

	* [r6231] contrib/llvm-scan-build, src/pbx_impl/ast/define.h,
	  src/sccp_callinfo.c, src/sccp_channel.c, src/sccp_conference.c,
	  src/sccp_device.c, src/sccp_devstate.c, src/sccp_pbx.c,
	  src/sccp_protocol.c, src/sccp_refcount.c, src/sccp_utils.c: Added
	  define for pbx_assert. Pass -DSCANBUILD in llvm-scan-build.
	  Renamed assert and ast_assert to pbx_assert in all functions

	* [r6230] src/sccp_conference.c: Fix null pointer dereference
	  (static analysis)

	* [r6229] src/sccp_refcount.c: Fix potential null pointer
	  dereference (static analysis)

	* [r6228] src/sccp_dllists.h: Fix potential null pointer
	  dereference (static analysis)

	* [r6227] src/sccp_channel.c: Fix potential null pointer
	  dereference (static analysis)

	* [r6226] src/sccp_pbx.c: Fix potential null pointer dereference of
	  linedevice->device where d was available (static analysis)

	* [r6225] src/sccp_line.c: Fix potential null pointer dereference
	  (static analysis)

	* [r6224] src/sccp_actions.c: Fix potential null pointer
	  dereference (static analysis)

	* [r6223] src/sccp_appfunctions.c: Fix Out-of-bound array access
	  (static analysis)

	* [r6222] src/sccp_indicate.c: Fix potential null pointer
	  dereference of linedevice->lineInstance (static analysis)

2015-10-12  ddegroot

	* [r6221] src/sccp_conference.c: Preliminary fix for
	  sccp_conference refcount. More testing/checking required

	* [r6220] src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/ast112.c,
	  src/pbx_impl/ast/ast113.c, src/sccp_hint.c: Fix Conditional jump
	  or move depends on uninitialised value (valgrind)

	* [r6219] src/chan_sccp.c, src/sccp_actions.c, src/sccp_channel.c,
	  src/sccp_cli.c, src/sccp_conference.c, src/sccp_device.c,
	  src/sccp_devstate.c, src/sccp_featureButton.c,
	  src/sccp_features.c, src/sccp_protocol.c, src/sccp_refcount.c,
	  src/sccp_softkeys.c, src/sccp_threadpool.c: Remove include
	  entries when not needed (anymore)

	* [r6218] src/chan_sccp.h, src/common.h, src/pbx_impl/ast/ast.h,
	  src/pbx_impl/ast/ast106.h, src/pbx_impl/ast/ast108.h,
	  src/pbx_impl/ast/ast110.h, src/pbx_impl/ast/ast111.h,
	  src/pbx_impl/ast/ast112.h, src/pbx_impl/ast/ast112_announce.h,
	  src/pbx_impl/ast/ast113.h, src/pbx_impl/ast/define.h,
	  src/pbx_impl/ast/include_asterisk_autoconfig.h,
	  src/pbx_impl/pbx_impl.h, src/sccp_actions.h,
	  src/sccp_appfunctions.h, src/sccp_atomic.h, src/sccp_callinfo.h,
	  src/sccp_channel.h, src/sccp_cli.h, src/sccp_conference.h,
	  src/sccp_config.h, src/sccp_device.h, src/sccp_devstate.h,
	  src/sccp_dllists.h, src/sccp_enum.h, src/sccp_event.h,
	  src/sccp_featureButton.h, src/sccp_features.h, src/sccp_hint.h,
	  src/sccp_indicate.h, src/sccp_labels.h, src/sccp_line.h,
	  src/sccp_management.h, src/sccp_mwi.h, src/sccp_pbx.h,
	  src/sccp_protocol.h, src/sccp_refcount.h, src/sccp_rtp.h,
	  src/sccp_socket.h, src/sccp_softkeys.h, src/sccp_threadpool.h,
	  src/sccp_utils.h: Use #pragma once instead of classic include
	  guards -> speeds up gcc and clang compilation.

	* [r6217] ChangeLog, autoconf/extra.m4, configure, configure.ac,
	  src/config.h.in: Revised the lib/debug path when stripping
	  symbols. Use pragma once instead of classic include guards

2015-10-11  ddegroot

	* [r6216] src/sccp_cli.c: Fix CLI device restart/reset

	* [r6215] src/sccp_conference.c: Fix conference explit release of
	  participant

	* [r6214] src/sccp_softkeys.c: Fix DND Softkey handling. Reported
	  by Benjamin Bush.

	* [r6213] src/sccp_softkeys.c: Fix 'private' softkey segfault

	* [r6212] src/sccp_features.c: Fix pickup feature (Channel Needs to
	  be set to UP in time). Enhance CallInfo Exchange on pickup

	* [r6211] src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast111.h, src/pbx_impl/ast/ast112.h,
	  src/pbx_impl/ast/ast113.h, src/pbx_impl/ast/define.h: Fix compile
	  issue with asterisk < v10

	* [r6210] src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast.h,
	  src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/ast112.c,
	  src/pbx_impl/ast/ast113.c, src/sccp_channel.c: Fix callinfo
	  exchange during transfer. Moved
	  sccp_wrapper_asterisk???_connectedline implementation to
	  pbx_impl/ast/ast.c to reduce code duplication. Fix transfer
	  callinfo completion. Issue Reported by Benjamin Bush.

2015-10-10  ddegroot

	* [r6209] src/sccp_channel.c, src/sccp_protocol.c: Fix transfer
	  callinfo. Reported by Benjamin Bush

	* [r6208] aclocal.m4, autoconf/config.guess, autoconf/config.sub,
	  autoconf/install-sh, configure, src/config.h.in: bootstrapped

	* [r6207] autoconf/extra.m4, configure: Fix iconv library. Fix
	  enable-optimization to strip binaries

	* [r6206] autoconf/extra.m4, configure, configure.ac,
	  src/sccp_callinfo.c: Fix libiconv / libexecinfo issue on Linux,
	  after correction on BSD. Fix compile warning when initializing
	  callinfo on older compilers

	* [r6205] conf/sccp.conf.minimal: Correct sccp.conf.minimal

	* [r6204] src/sccp_config.c: Correct module loading/reloading error
	  message

	* [r6203] src/chan_sccp.c, src/pbx_impl/ast/ast106.c,
	  src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/ast112.c,
	  src/pbx_impl/ast/ast113.c: Decline loading the chan_sccp module
	  when no sccp.conf can be found

	* [r6202] Makefile.in, autoconf/extra.m4, configure,
	  contrib/gen_sccpconf/Makefile.in, doc/Makefile.in,
	  src/Makefile.am, src/Makefile.in: Fixes to compile cleanly on
	  FreeBSD 10.X and produce a loadable module. Reported by Don Beal.

	* [r6201] aclocal.m4, autoconf/acinclude.m4, autoconf/config.guess,
	  autoconf/config.sub, autoconf/extra.m4, autoconf/install-sh,
	  configure, src/Makefile.am, src/config.h.in, src/sccp_callinfo.c,
	  src/sccp_utils.c: Fixes to compile cleanly on FreeBSD 10.X and
	  produce a loadable module. Reported by Don Beal.

	* [r6200] src/sccp_channel.c, src/sccp_cli.c, src/sccp_rtp.c,
	  src/sccp_rtp.h: Corrections after merging feature/constpointer
	  pull request from github

2015-10-10  marcelloceschia

	* [r6199] .travis.yml, Makefile.in, autoconf/extra.m4, configure,
	  configure.ac, contrib/gen_sccpconf/Makefile.in, doc/Makefile.in,
	  src/Makefile.am, src/Makefile.in, src/chan_sccp.c,
	  src/chan_sccp.h, src/common.h, src/config.h.in,
	  src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast.h,
	  src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c,
	  src/pbx_impl/ast/define.h, src/pbx_impl/pbx_impl.h,
	  src/sccp_actions.c, src/sccp_actions.h, src/sccp_appfunctions.c,
	  src/sccp_atomic.h[CPY], src/sccp_callinfo.c[ADD],
	  src/sccp_callinfo.h[ADD], src/sccp_channel.c, src/sccp_channel.h,
	  src/sccp_cli.c, src/sccp_conference.c, src/sccp_conference.h,
	  src/sccp_config.c, src/sccp_device.c, src/sccp_device.h,
	  src/sccp_devstate.c, src/sccp_devstate.h, src/sccp_dllists.h,
	  src/sccp_enum.c, src/sccp_enum.h, src/sccp_enum.in,
	  src/sccp_event.c, src/sccp_event.h, src/sccp_featureButton.c,
	  src/sccp_featureButton.h, src/sccp_features.c,
	  src/sccp_features.h, src/sccp_hint.c, src/sccp_indicate.c,
	  src/sccp_indicate.h, src/sccp_line.c, src/sccp_line.h,
	  src/sccp_lock.h[DEL], src/sccp_management.c, src/sccp_mwi.c,
	  src/sccp_mwi.h, src/sccp_pbx.c, src/sccp_protocol.c,
	  src/sccp_protocol.h, src/sccp_refcount.c, src/sccp_refcount.h,
	  src/sccp_rtp.c, src/sccp_rtp.h, src/sccp_socket.c,
	  src/sccp_socket.h, src/sccp_softkeys.c, src/sccp_softkeys.h,
	  src/sccp_threadpool.c, src/sccp_threadpool.h, src/sccp_utils.c,
	  src/sccp_utils.h, tools/versioncheck: Merge branch 'develop'

2015-10-08  ddegroot

	* [r6198] src/sccp_config.c: Fix enum parsing (1).

	* [r6197] src/sccp_rtp.c: Added nat examples documentation to
	  sccp_rtp.c

	* [r6196] src/sccp_config.c, src/sccp_config_entries.hh: Fix enum
	  parsing. Removing Deprecated Flag from device-nat setting

	* [r6195] src/sccp_channel.c, src/sccp_rtp.c: Removed EXPERIMENTAL
	  Flag from Fix for nat issue. Reported and Tested by Dan Huynh.

	* [r6194] src/pbx_impl/ast/ast108.c: Fixed the hangup issue,
	  reported by Andreas Rebensdorf, causing issues with 'group()'
	  being stuck. Does have a potential side effect when using
	  conference with foreign channels (researching)

	* [r6193] src/sccp_actions.c, src/sccp_channel.c, src/sccp_rtp.c,
	  src/sccp_rtp.h: Fix for nat issue (Wrapped)

2015-10-01  ddegroot

	* [r6192] conf/sccp.conf.annotated, conf/sccp.conf.minimal[ADD]:
	  Updated sccp.conf annotated and minimal

	* [r6191] autoconf/extra.m4, configure: Fix configure indentation

	* [r6190] src/sccp_rtp.c: Fix compiler warning about discarding
	  constness

2015-09-30  ddegroot

	* [r6189] autoconf/extra.m4,
	  conf/tftp/SEP0000000000.cnf.xml_annotated, configure,
	  configure.ac: Allow setting CFLAG without overwrite

	* [r6188] src/sccp_threadpool.c: Removed exit() from source

	* [r6187] src/sccp_actions.c, src/sccp_hint.c, src/sccp_refcount.c,
	  src/sccp_refcount.h: Fix compile warnings wenn compiling with
	  --disable-debug and --enable-video. Fix compile warning about
	  returning void * const pointer from refcount class.

2015-09-19  ddegroot

	* [r6186] src/sccp_hint.c: Fix: typo in sccp_hint

2015-09-11  ddegroot

	* [r6185] src/chan_sccp.c, src/pbx_impl/ast/ast.h,
	  src/sccp_actions.c, src/sccp_actions.h, src/sccp_enum.c,
	  src/sccp_enum.h, src/sccp_enum.in, src/sccp_protocol.h:
	  Enhancement: Renamed WifiMessage to LocationInfoMessage. Skinny
	  protocol updates for enums. Added Opus codec.

	* [r6184] src/sccp_actions.c: Prevent segfault when handling
	  softkey_event without a valid event value (out of bounds) (v2).
	  Issues caused using VG224. Reported by Ahmet Zaim.

2015-09-10  ddegroot

	* [r6183] src/chan_sccp.c, src/sccp_protocol.h: Enh: New Unknown
	  Message with message id=0xFF00. Discovered by Ahmet Zaim.

	* [r6182] src/sccp_socket.c: Revert: Don't allow broken/unknown
	  message though.

	* [r6181] conf/tftp/XMLDefault.cnf.xml: Added new entries to
	  XMLDefault, provided by Alexander Kholod

2015-09-09  ddegroot

	* [r6180] src/sccp_protocol.h: Enhancement: Completed skinny codec
	  list

	* [r6179] src/sccp_protocol.h: Enhancement/Fix: Added ulaw/g729
	  modem codecs to protocol used by VG224 as one of it's
	  capabilities. Reported by Ahmet Zaim

	* [r6178] src/sccp_actions.c: Fix: Prevent segfault when handling
	  softkey_event without a valid event value (out of bounds). Issues
	  caused using VG224. Reported by Ahmet Zaim.

2015-09-08  ddegroot

	* [r6177] src/sccp_protocol.h, src/sccp_socket.c: Cleanup after
	  adding new 0x0157 message

	* [r6176] src/sccp_actions.c, src/sccp_protocol.h: Print Wifi
	  Message when debug is set to device

	* [r6175] src/chan_sccp.c, src/sccp_actions.c, src/sccp_actions.h,
	  src/sccp_protocol.h, src/sccp_socket.c: Added new SCCP Message to
	  deal with WifiMessage(157) sent by Wireless devices like 792X
	  using newer firmware.

2015-09-07  ddegroot

	* [r6174] src/sccp_socket.c: Show messageId of oversize messages in
	  debug output

2015-09-06  ddegroot

	* [r6173] src/sccp_device.c, src/sccp_enum.c, src/sccp_enum.h,
	  src/sccp_enum.in, src/sccp_socket.c: Added device type 577 for
	  7926. Requested by Kholod Alexander.

	* [r6172] src/sccp_utils.c: Replace ast_std_... functions with
	  sccp_... versions

2015-08-31  ddegroot

	* [r6170] contrib/gen_sccpconf/gen_sccpconf.h: Fix gen_sccpconf.h

2015-08-29  ddegroot

	* [r6169] conf/ldap[ADD], conf/ldap/asterisk.sccp.ldif[ADD],
	  conf/ldap/asterisk.sccp.schema[ADD]: Experimental ldap realtime
	  schema file

	* [r6167] Makefile.am, Makefile.in, NEWS, src/Makefile.in: Update
	  Makefile for small v in release number. Remove old V4.2 tag

2015-08-29  marcelloceschia

	* [r6162] .gitignore, .version, configure, configure.ac,
	  src/chan_sccp.c, src/chan_sccp.h, src/common.h,
	  src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast.h,
	  src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c,
	  src/sccp_actions.c, src/sccp_appfunctions.c, src/sccp_channel.c,
	  src/sccp_channel.h, src/sccp_cli.c, src/sccp_conference.c,
	  src/sccp_config.c, src/sccp_config_entries.hh, src/sccp_device.c,
	  src/sccp_device.h, src/sccp_devstate.c, src/sccp_devstate.h,
	  src/sccp_enum.c, src/sccp_enum.h, src/sccp_enum.in,
	  src/sccp_event.h, src/sccp_featureButton.c, src/sccp_features.c,
	  src/sccp_hint.c, src/sccp_indicate.c, src/sccp_labels.h,
	  src/sccp_line.c, src/sccp_line.h, src/sccp_management.c,
	  src/sccp_mwi.h, src/sccp_pbx.c, src/sccp_protocol.c,
	  src/sccp_protocol.h, src/sccp_refcount.c, src/sccp_refcount.h,
	  src/sccp_rtp.c, src/sccp_rtp.h, src/sccp_socket.h,
	  src/sccp_softkeys.c, src/sccp_utils.c, src/sccp_utils.h,
	  tools/bootstrap.sh, tools/gen_sccp_enum.awk: Merge pull request
	  #264 from marcelloceschia/develop
	  
	  Develop

	* [r6161] .travis.yml: add slack notification

2015-08-27  ddegroot

	* [r6160] src/sccp_enum.c, src/sccp_softkeys.c,
	  tools/gen_sccp_enum.awk: Fix sccp_enum generator, exists function
	  had two return values

2015-08-26  ddegroot

	* [r6159] src/sccp_cli.c, src/sccp_device.c, src/sccp_softkeys.c:
	  Fix device softkeyset fixup after removing a whole softkeyset
	  from the config file, without re-defining the devices softkeyset
	  entry. This caused a segfault after sccp reload when using the
	  device. Reported/Tested by Nikola Ciprich

2015-08-06  ddegroot

	* [r6158] conf/sccp.conf.annotated, src/sccp_config.c,
	  src/sccp_config_entries.hh: Update sccp.conf sample file
	  generatation (sccp config generate ...). Updated version of
	  sccp.conf.annotated

	* [r6157] conf/mysql-v5.sql: Fix trigger in sql sample file so that
	  it will also work on older versions of mysql-v5

2015-07-26  ddegroot

	* [r6156] ChangeLog, autoconf/extra.m4, configure, configure.ac:
	  Fix: Check if libbfd is installed before linking against it

	* [r6155] src/sccp_utils.c: Fix sccp_utils/sccp_do_backtrace when
	  libbfd is not available. Reported by Nikola.

	* [r6154] src/sccp_utils.c: Enhancement: Improved
	  sccp_do_backtrace() output

	* [r6153] src/sccp_pbx.c: Fix: sccp_pbx_hangup (check if line was
	  found before using it, null pointer dereference)

	* [r6152] src/sccp_actions.c, src/sccp_actions.h,
	  src/sccp_channel.c, src/sccp_device.c, src/sccp_dllists.h,
	  src/sccp_line.c, src/sccp_softkeys.c: Fix: make SCCP_LIST_FIND
	  traverse the list more carefully by retaining and checking result
	  for every step. Adapt other source to use new SCCP_LIST_FIND.
	  Fix: sccp_handle_keypad when parsing older devices

	* [r6151] src/sccp_refcount.h: Use sccp_do_backtrace

	* [r6150] src/sccp_cli.c, src/sccp_refcount.c: Use
	  sccp_do_backtrace

	* [r6149] src/chan_sccp.h: Add: Detection of LibBFD. Add:
	  sccp_do_backtrace() function

	* [r6148] Makefile.in: Add: Detection of LibBFD. Add:
	  sccp_do_backtrace() function

	* [r6147] autoconf/asterisk.m4, autoconf/extra.m4, configure,
	  configure.ac, contrib/gen_sccpconf/Makefile.in, doc/Makefile.in,
	  src/Makefile.am, src/Makefile.in, src/config.h.in,
	  src/pbx_impl/ast/ast.h, src/pbx_impl/ast/define.h,
	  src/sccp_utils.c, src/sccp_utils.h: Add: Detection of LibBFD.
	  Add: sccp_do_backtrace() function

2015-07-06  ddegroot

	* [r6145] src/sccp_actions.c: Fix: racecondition => check refcount
	  during SCCP_LIST_FIND before running compare.

	* [r6144] src/sccp_actions.c, src/sccp_channel.c,
	  src/sccp_device.c, src/sccp_dllists.h, src/sccp_line.c,
	  src/sccp_protocol.c: Fix: racecondition => check refcount during
	  SCCP_LIST_FIND before running compare.

	* [r6143] src/sccp_config.c: Fix: potential null pointer
	  dereference when regcontext is an empty string

	* [r6142] src/sccp_utils.c: Enhancement: assert pointers before
	  running sccp_copy_string

	* [r6141] src/pbx_impl/ast/ast106.c: Fix compile issue against
	  asterisk-1.6.2

2015-06-20  ddegroot

	* [r6140] src/sccp_conference.c: Fix: moderator partyName and
	  Number in ConfList

2015-06-18  marcelloceschia

	* [r6139] .gitignore, src/chan_sccp.h, src/pbx_impl/ast/ast113.c,
	  src/sccp_actions.c, src/sccp_channel.c, src/sccp_cli.c,
	  src/sccp_config_entries.hh, src/sccp_device.c, src/sccp_line.c,
	  src/sccp_line.h, src/sccp_pbx.c: revert merge request

	* [r6138] .gitignore, src/chan_sccp.h, src/pbx_impl/ast/ast113.c,
	  src/sccp_actions.c, src/sccp_channel.c, src/sccp_cli.c,
	  src/sccp_config_entries.hh, src/sccp_device.c, src/sccp_line.c,
	  src/sccp_line.h, src/sccp_pbx.c: Merge pull request #260 from
	  dkgroot/move_dev_pref_to_line_pref
	  
	  move dev preferences to line preferences

2015-06-17  ddegroot

	* [r6137] src/sccp_hint.c: Fix: typo

2015-06-16  ddegroot

	* [r6136] conf/mysql-v5.sql, conf/postgres.sql: Fix: Removed Line
	  Contraint from buttonconfig table (postregsql/mysql-v5).

2015-06-15  ddegroot

	* [r6135] NEWS, debian/changelog: Update NEWS / ChangeLog

	* [r6130] .version: Update version number

	* [r6129] tools/versioncheck: Fix versioncheck script to include
	  the correct Branch

	* [r6128] conf/mysql-v5.sql: Enhancement: Added trigger to check
	  sccpline when adding a line to buttonconfig

	* [r6127] src/Makefile.in, src/common.h: Enhancement: reorder
	  common.h

2015-06-14  ddegroot

	* [r6126] conf/postgres.sql: Fix: Added Contraint for
	  buttonconfig.name to require sccpline.name entry if
	  buttonconfig.type is set to 'line'

2015-06-13  ddegroot

	* [r6125] autoconf/extra.m4, configure: Enhancement: Default enable
	  use of ccache when found in path (to disable use :
	  --without-ccache).

	* [r6124] src/sccp_config.c: Fix: skip empty mailbox entries during
	  config parsing. Issue reported by Pavel Troller.

	* [r6123] src/chan_sccp.c, src/sccp_socket.c: Fix: Warning about
	  setting socket option COS. Enhanced sccp_set_socketoption
	  function generate error messages only in case the option is
	  supported by the platform in questin.

2015-06-12  ddegroot

	* [r6122] src/sccp_line.c, src/sccp_utils.c, src/sccp_utils.h: Fix:
	  Warning about alignment cast potential source for unaligned
	  access.

	* [r6121] autoconf/acinclude.m4, configure: Fix: detection of
	  -fstack-protector support by compiler. Returned a warning instead
	  of error when not available on platform.

	* [r6120] src/chan_sccp.h, src/pbx_impl/ast/ast.c,
	  src/pbx_impl/ast/ast.h, src/sccp_config.c, src/sccp_socket.c:
	  Enhancement: change tos/cos type size to uint8_t instead of
	  uint16_t (max value for tos and cos is 255).

	* [r6119] src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast.h,
	  src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c,
	  src/sccp_protocol.c, src/sccp_socket.c: Fix: handling of cos/tos
	  values explicit uint16_t casting (preventing unaligned access)

	* [r6118] src/sccp_actions.c, src/sccp_config.c,
	  src/sccp_config_entries.hh: Fix: reduce/remove warnings.
	  Requested by Pavel

2015-06-11  ddegroot

	* [r6117] src/sccp_actions.c: Fix: speeddial with blf handling for
	  newer devices. Reported by Pavel and Niklas.

2015-06-09  ddegroot

	* [r6116] src/sccp_config.c: Fix old style declaration (missing
	  void)

	* [r6115] src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c: Fix
	  compile warning about missing declaration

	* [r6114] ChangeLog, Makefile.in, autoconf/acinclude.m4,
	  autoconf/asterisk.m4, autoconf/extra.m4, configure, configure.ac,
	  contrib/gen_sccpconf/Makefile.in, doc/Makefile.in,
	  src/Makefile.am, src/Makefile.in, src/config.h.in: Fix: addition
	  of compile warning flags. Enabled a couple more compiler
	  warnings. Added the intention to enable a few others. Update
	  ChangeLog. Replaced old m4 compiler flags checking macro

	* [r6113] src/sccp_event.c: Fix: natural alignment for
	  sccp_event_subscriptions -> elements rearranged.

	* [r6112] src/sccp_config.c, src/sccp_config_entries.hh: Fix:
	  natural alignment for SCCPConfigOption -> offsize and offsetof
	  elements reversed in order.

	* [r6111] src/sccp_softkeys.c: Fix: natural alignment for
	  sccp_softkeyMap_cb -> elements rearranged.

	* [r6110] src/chan_sccp.c, src/chan_sccp.h: Fix: natural alignment
	  for sccp_global_vars -> elements rearranged. Removed unused
	  GLOB(protocolversion)

	* [r6109] src/sccp_conference.c, src/sccp_conference.h: Fix:
	  natural alignment for sccp_conference -> elements rearranged.
	  Make sure playback.lock lies on a natural boundary.

	* [r6108] src/chan_sccp.h, src/sccp_config_entries.hh: Fix: natural
	  alignment for softKeySetConfiguration /sccp_device / sccp_line
	  entries -> elements rearranged.

	* [r6107] src/sccp_dllists.h, src/sccp_threadpool.c: Fix: natural
	  alignment for sccp_dllists entries -> elements rearranged
	  (removed unnecessary padding. Fix: alignment of
	  sccp_threadpool_thread to align naturally.

	* [r6106] src/chan_sccp.h, src/sccp_device.c: Fix: natural
	  alignment for sccp_device_t / access to messageStackLock caused
	  alignment trap issues on sparc/alpha/arm ->rearranged

	* [r6105] conf/sccp.conf: Fix: sccp.conf example for dnd

2015-06-06  marcelloceschia

	* [r6104] src/sccp_actions.c: change digit handling offhook, fixes
	  issue on 79[4|6]0

2015-06-05  marcelloceschia

	* [r6103] src/sccp_device.c: fix speedial button issue

2015-05-29  ddegroot

	* [r6100] conf/sqlite3.sql: Fix: sccpdeviceconfig view in
	  sqlite3.sql example file

	* [r6099] src/sccp_config.c: Fix: parsing default value from
	  realtime with NULL column -> call datatype_parser to clear
	  value(s). Reported by Modulis.

2015-05-28  ddegroot

	* [r6098] src/sccp_cli.c: Extended cli output on sccp reload, to
	  show that minor changes have been applied (if there where any)

2015-05-27  ddegroot

	* [r6097] src/sccp_actions.c, src/sccp_protocol.h: Fix:
	  UpdateCapabilities on protocolVersion <= 15 phones

2015-05-26  ddegroot

	* [r6096] src/sccp_config_entries.hh, src/sccp_line.c,
	  src/sccp_mwi.c: Fix: mailbox/mwi config parsing

2015-05-25  ddegroot

	* [r6095] src/pbx_impl/ast/ast.c, src/sccp_actions.c: Fix: segfault
	  when calling monitor feature without monitor feature extension
	  being set. Cleanup download mediastatus handling

2015-05-24  ddegroot

	* [r6094] src/sccp_actions.c, src/sccp_cli.c, src/sccp_protocol.h:
	  Fix: UpdateCapabilities with Protocol >= V16 Should be handled
	  like UpdateCapabilitiesV2

2015-05-21  ddegroot

	* [r6093] ChangeLog: Update ChangeLog

2015-05-20  ddegroot

	* [r6092] src/sccp_actions.c: Fix: compile warning about unused
	  functions. Reported by Cody Miller-Kelly

	* [r6091] src/sccp_actions.c, src/sccp_protocol.h: Cleanup: remove
	  unused codecParams_t. Enhancement: audioCodec Dissection for
	  UpdateCapabilities

2015-05-19  ddegroot

	* [r6090] src/chan_sccp.c, src/sccp_actions.c, src/sccp_actions.h,
	  src/sccp_cli.c, src/sccp_protocol.h: Fix:
	  UpdateCapabilitiesV3Message (reinserting unknown field).
	  Enhancement: Display of UpdateCapabilities Messages.

	* [r6089] src/sccp_protocol.h: Fix: UpdateCapabilities Message.
	  Reported by Jim & Marco

2015-05-18  ddegroot

	* [r6088] src/pbx_impl/ast/ast113.c: Enhancement: Added comments
	  about getting remote perr codecs

2015-05-17  ddegroot

	* [r6087] src/sccp_protocol.h: Fix: DialedNumber Message

	* [r6086] src/sccp_protocol.h: Enhancement: Clarify
	  CallInfoDynamicMessage

	* [r6085] src/sccp_actions.c, src/sccp_protocol.h: Enhancement:
	  Extend the dissection of UpdateCapabilitiesMessages (v2)

	* [r6084] src/chan_sccp.c, src/sccp_actions.c, src/sccp_actions.h,
	  src/sccp_protocol.h: Enhancement: Extend the dissection of
	  UpdateCapabilitiesMessages

2015-05-16  ddegroot

	* [r6083] src/sccp_protocol.h: Enhancement: Added Skinny Conference
	  Messages

	* [r6082] src/sccp_actions.c, src/sccp_protocol.c,
	  src/sccp_protocol.h: Enhancement: Integrated ForwardStat Message

	* [r6081] src/sccp_actions.c, src/sccp_protocol.c,
	  src/sccp_protocol.h: Reversion of revision 6074.

2015-05-13  ddegroot

	* [r6080] src/sccp_featureButton.c: Fix: Feature Buttong
	  Index->Instance Regression. Reported by Marco Paland

2015-05-12  ddegroot

	* [r6079] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c: Fix: Remove
	  Experimental from pbx_impl/ast/ast???.c for video and nat auto
	  detection. Video handling is still covered by CS_SCCP_VIDEO

	* [r6078] src/sccp_management.c, src/sccp_management.h:
	  Enhancement: Added sccp_manager_action2pbx_str function (for
	  later use) (implemented using gcc-nested / clang-blocks / based
	  on sample provided by Marcello)

	* [r6077] src/sccp_conference.c, src/sccp_conference.h: Fix: Copy
	  Calling/Called Party Information before Masquerading the Call and
	  pushing it into the Conference Bridge. Fixes issue with showing
	  '~~s~~' as conference participant, when dealing with foreign
	  channels and dialing via macro. Reported by Cody Miller-Kelly.

2015-05-11  ddegroot

	* [r6076] src/chan_sccp.h, src/sccp_conference.c,
	  src/sccp_device.c: Enhancement: Added
	  d->hasEnhancedIconMenuSupport to specify which device supports w
	  Embedded Icons in XML messages

	* [r6075] src/sccp_conference.c, src/sccp_protocol.h: Fix:
	  Conference, removed error message where it did not belong.
	  Enhancement: Add definition for StartMediaFailureDetectionMessage

	* [r6074] src/sccp_actions.c, src/sccp_protocol.c,
	  src/sccp_protocol.h: Enhancement: Integreated FormatStat Message
	  Fixed FormatStat Message Using Parameter of Wrong Message
	  Updated Capabilities Messages
	  - Added confResource_t struct (UpdatedCapabilities)
	  - Added payload_t struct used by audioCap_t (UpdatedCapabilities)
	  Added Conference / Participant Message Definitions

	* [r6073] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c,
	  src/pbx_impl/pbx_impl.h, src/sccp_conference.c: Fix: Conference
	  Playback Channel -> Caused a Segfault on Hangup. Reported by
	  Jesus Tovar.

	* [r6072] src/sccp_actions.c, src/sccp_enum.in,
	  src/sccp_protocol.h: Enhancement: Use SKINNY_MEDIASTATUS when
	  dealing with MediaTransmissionAck's. Enhancement: Initialize data
	  string when dealing with DeviceToUserData Messages

	* [r6071] src/sccp_device.c, src/sccp_device.h, src/sccp_enum.in,
	  src/sccp_protocol.h: Enhancement: Replace Unknown Fields in
	  CallStateMessage

2015-05-10  ddegroot

	* [r6070] src/sccp_actions.c, src/sccp_protocol.h: Enhancement:
	  Extended MiscellaneousCommandMessage. Added Logging Output for
	  MiscellaneousCommandMessage. Replaced unknowns in
	  OpenReceiveChannel with lel_audioLevelAdjustment + latentCapsInfo

	* [r6069] src/sccp_device.c, src/sccp_protocol.h:
	  Enhancement/Cleanup: SetRingerMessage:unknown -> lel_ringDuration
	  / StartMediaTransmission:unknowns->latenCapsInfo /
	  StopToneMessage:unknown1 -> lel_tone

	* [r6068] src/sccp_protocol.h: Fix: OpenReceiveAck Message, the
	  unknown fields where a misinterpretation of the IPV6 field length

	* [r6067] src/chan_sccp.c, src/sccp_actions.c, src/sccp_devstate.c,
	  src/sccp_featureButton.c, src/sccp_hint.c, src/sccp_protocol.c,
	  src/sccp_protocol.h: Enhancements:
	  - Use Index instead of Instance where appropriate (i.e.
	  FeatureStat Messages)
	  - Synchronize FeatureStat and FeatureStatDynamic FieldNames
	  - Integrate DialedNumberMessage (v3 and v18)
	  - Renamed DialedPhoneBook -> SubscriptionStat
	  - Renamed CallListStateUpdate -> NotificationMessage
	  - Filled out Unknown fields, with their appropriate names,
	  clarifying their use

2015-05-09  ddegroot

	* [r6066] src/sccp_actions.c: Add FastPicture Update -> queue
	  control VIDUPDATE

2015-05-09  marcelloceschia

	* [r6065] src/sccp_config_entries.hh: add video mode button to
	  connected

	* [r6064] src/sccp_channel.c: set default video mode to auto

2015-05-09  ddegroot

	* [r6063] src/sccp_config.c, src/sccp_config_entries.hh: Cleanup:
	  Add vidmode to softkeysets

	* [r6062] src/sccp_config_entries.hh: Fix: Add vidmode to
	  softkeysets

2015-05-08  marcelloceschia

	* [r6061] src/sccp_device.c: save and parse lineInstance for last
	  dialed number

	* [r6060] src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast111.c: fix compile issue asterisk < 12

	* [r6059] src/chan_sccp.h, src/config.h.in,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c,
	  src/sccp_actions.c, src/sccp_appfunctions.c, src/sccp_cli.c,
	  src/sccp_device.c, src/sccp_device.h, src/sccp_pbx.c,
	  src/sccp_softkeys.c: save the line instance for redial

2015-05-05  ddegroot

	* [r6058] src/sccp_conference.c: Fix: conference

2015-05-04  marcelloceschia

	* [r6057] src/sccp_config_entries.hh: set the endcall softkey to
	  the same position across all softkeysets

2015-05-03  ddegroot

	* [r6056] src/sccp_config_entries.hh: Fix: removed experimental
	  flag around nat

2015-05-01  ddegroot

	* [r6055] src/sccp_device.c, src/sccp_enum.c, src/sccp_enum.h,
	  src/sccp_enum.in: Enh: Added SPA524SG. Requested by Marco Paland.

2015-04-29  ddegroot

	* [r6054] src/sccp_config_entries.hh: Fix: Re-added 'dial' softkey
	  to 'digitsfoll'. Reported by Nikola Ciprich.

2015-04-26  ddegroot

	* [r6053] .travis.yml: Fix .travis.yml if/then/else statement (#7)
	  (Include libblocksruntime)

	* [r6052] .travis.yml: Fix .travis.yml if/then/else statement (#6)
	  (Include libblocksruntime

	* [r6051] ChangeLog, Makefile.in, NEWS: Update ChangeLog / News
	  file

	* [r6050] tools/bootstrap.sh: Fix: bootstrap.sh should rerun
	  configure if config.status is already there

	* [r6049] aclocal.m4, autoconf/check_raii.m4[ADD],
	  autoconf/extra.m4, configure, configure.ac,
	  contrib/gen_sccpconf/Makefile.in, doc/Makefile.in,
	  src/Makefile.in, src/config.h.in: Enh: move RAII check to it's
	  own file

	* [r6048] .travis.yml: Fix .travis.yml if/then/else statement (#5)

	* [r6047] .travis.yml: Fix .travis.yml if/then/else statement (#4)

	* [r6046] .travis.yml: Fix .travis.yml if/then/else statement (#3)

	* [r6045] .travis.yml: Fix .travis.yml if/then/else statement (#2)

	* [r6044] .travis.yml: Fix .travis.yml if/then/else statement

	* [r6043] .travis.yml: Travis: Added ppa with asterisk-13 on trusty

	* [r6042] .version, ChangeLog, NEWS, configure, debian/changelog,
	  src/Makefile.am, src/Makefile.in, src/config.h.in: Release
	  V4.2.0_RC3

	* [r6041] configure, configure.ac, src/config.h.in,
	  src/pbx_impl/ast/include_asterisk_autoconfig.h[ADD]: Enhancement:
	  Replace the old method to remove PACKAGE variable, which where
	  already defined in asterisk/autoconfig.h

	* [r6040] src/pbx_impl/ast/ast113.c, src/sccp_conference.c,
	  src/sccp_conference.h, src/sccp_features.c: Fix: hung ast13
	  channel after conference. Still a channel->cdr issue left, to be
	  done

2015-04-24  ddegroot

	* [r6039] src/sccp_config.c: Fix: Remove double check

2015-04-24  marcelloceschia

	* [r6038] src/sccp_mwi.c: fixes mwi line indication; siplify the
	  mwilight handling

2015-04-24  ddegroot

	* [r6037] src/sccp_device.c: Enh: Added DEVICETYPE_ANALOG_GATEWAY
	  for VG224(30027) device

	* [r6036] src/sccp_config.c: Fix: handling setvar has been filed
	  incorrectly. For exmaple with 'my value', which would cause a
	  segfault.

2015-04-24  marcelloceschia

	* [r6035] src/sccp_mwi.c, src/sccp_mwi.h: no need to expose
	  sccp_mailbox_subscriber_list, it a private data structure; check
	  mwi line state in sccp_mwi_setMWILineStatus and not the mwi light
	  (instance 0)

2015-04-24  ddegroot

	* [r6034] src/sccp_mwi.h: fix: (sccp_mwi.h) one more asterisk
	  13/stasis issue

2015-04-24  marcelloceschia

	* [r6033] src/sccp_mwi.h: fix asterisk 13 compile issue

2015-04-23  ddegroot

	* [r6032] src/sccp_mwi.c: fix mwi: small reversion

	* [r6031] src/sccp_cli.c, src/sccp_mwi.c: fix mwi:
	  Handle MWI with multiple lines correctly (reported by Nicolas
	  Gosselin / bug report #248)
	  Switch of MIW light during a incoming or outgoing call, when
	  d->wmioncall=off
	  Cleanup suprious STASIS debug messages, which where not required
	  enh cli:
	  Added correct display of d->mwilight (is a bitfield), to sccp
	  show device
	  Added display of mwioncall to sccp show device

	* [r6030] src/sccp_mwi.c: Fix: remove experimental status from mwi
	  + asterisk-13

2015-04-21  ddegroot

	* [r6029] src/sccp_protocol.h: Fix: StationMaxXMLAlarmMessage
	  (Increase the size to prevent 'discarding bytes' warning).
	  Reported by Cody Miller-Kelly

2015-04-20  marcelloceschia

	* [r6028] src/sccp_device.c: fixes overriding speeddial definition
	  reported by Sander Smeenk

2015-04-19  ddegroot

	* [r6026] Makefile.in, autoconf/asterisk.m4, configure,
	  contrib/gen_sccpconf/Makefile.in, doc/Makefile.in,
	  src/Makefile.in, src/chan_sccp.c, src/config.h.in,
	  src/pbx_impl/ast/ast.h, src/sccp_utils.c, src/sccp_utils.h: Added
	  the possibily to add asterisk tests. Added example test for the
	  sccp_append_ha.

	* [r6025] src/pbx_impl/ast/ast104.h[DEL], src/sccp_hint.c: Added:
	  Set topic for stasis_subscribe to hint->hint_dialplan
	  (Experimental)
	  Fix: Spelling of hint-shadow comment.
	  Cleanup: remove unused ast104.h file

	* [r6024] src/Makefile.am, src/Makefile.in, src/chan_sccp.c,
	  src/pbx_impl/ast/ast.h, src/sccp_adv_features.c[DEL],
	  src/sccp_adv_features.h[DEL]: Cleanup: Remove some ancient files
	  which never get used

2015-04-19  marcelloceschia

	* [r6023] src/sccp_hint.c: detailed comment for label background
	  hack

2015-04-19  ddegroot

	* [r6022] src/chan_sccp.h, src/pbx_impl/ast/ast.c,
	  src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c,
	  src/pbx_impl/pbx_impl.h, src/sccp_appfunctions.c,
	  src/sccp_channel.c, src/sccp_features.c: Fix: channels being left
	  behind after transfer (pickup etc) on asterisk-12 and asterisk-13
	  - Fix: Replace CS_AST_HAS_CHANNEL_BRIDGE_PEER with
	  PBX(get_bridged_channel)
	  - Fix: add pbx_channel_unref after use of
	  PBX(get_bridged_channel)
	  - Fix: ast_format_cap and ast_format refs with asterisk-13
	  
	  Reported by Niklas Larsson (and others)

2015-04-18  marcelloceschia

	* [r6021] src/sccp_hint.c: fixes font background issue with dynamic
	  speeddials

	* [r6020] src/sccp_actions.c: fixes button position issue

2015-04-15  ddegroot

	* [r6019] src/chan_sccp.c: Fix: SpeedDialStatDynamicMessage does
	  not belong here

2015-04-14  ddegroot

	* [r6018] src/sccp_actions.c: Fix: d->softkeyDefinition set to
	  unknown set, fallback to 'default'

2015-04-13  ddegroot

	* [r6017] src/sccp_cli.c, src/sccp_protocol.h: Fix:
	  SpeedDialDynamic message had the wrong fields assigned to them.
	  Updated message test in sccp_cli.c. Added possible explantation
	  of the 0x15 that's being send when using LineStatDynamic (Further
	  testing required).

2015-04-11  ddegroot

	* [r6016] src/sccp_cli.c: Fix: cli / ifdef issue (fixes #258)

	* [r6015] src/chan_sccp.h: fixes comparison between 'boolean_t' and
	  'enum sccp_nat' (fixes #256)

	* [r6014] src/pbx_impl/ast/ast.h: Fixes include of non-existent
	  channel_pvt.h

	* [r6013] src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/ast112.c,
	  src/pbx_impl/ast/ast113.c: Cleanup moved code

	* [r6012] src/sccp_channel.c: Fix: transfer callinfo overwriting
	  the connected_line information

	* [r6011] src/sccp_actions.c, src/sccp_channel.c, src/sccp_cli.c,
	  src/sccp_protocol.c, src/sccp_rtp.c, src/sccp_utils.c:
	  Enhancement: Removed experimental status of AUTO_NAT and
	  sccp_copy_string

	* [r6010] src/sccp_socket.c: Fix: Socket Keepalive / Keepalive
	  Interval and Keepalive Max Probe Count new default. Tested by
	  John Bittner.

	* [r6009] src/sccp_cli.c: Fix: SCCPShowDevice

2015-04-10  ddegroot

	* [r6008] src/sccp_cli.c: Fix: Renamed the AMI sccpshowdevice
	  subtables to a more consistent form

2015-04-09  ddegroot

	* [r6007] src/pbx_impl/ast/ast113.c: Use ast_bridge_depart on the
	  remaining bridge-chan after masquerading the conf->participant
	  side out of the bridge. Insted of the using ast_bridge_destroy
	  directly as we did before. This leads FRACK on newer versions of
	  ast13. Using the bridge_depart method should be backward
	  compatible

	* [r6006] src/sccp_conference.c: Fix: conference when working with
	  newer versions of asterisk-13 / asterisk-trunk

2015-04-09  marcelloceschia

	* [r6005] src/sccp_actions.c: first fix of Still problems with
	  button layout

2015-04-08  ddegroot

	* [r6004] README.md: Add the sf download button to the github page

	* [r6003] src/pbx_impl/ast/ast106.h, src/pbx_impl/ast/ast108.h,
	  src/pbx_impl/ast/ast110.h, src/pbx_impl/ast/ast111.h,
	  src/pbx_impl/ast/ast112.h, src/pbx_impl/ast/ast113.h: Fix: Two
	  empty lines after AMI list response instead of one. Reported by
	  Jim Dossey.

2015-04-07  ddegroot

	* [r6002] src/pbx_impl/ast/ast106.h, src/pbx_impl/ast/ast108.h,
	  src/pbx_impl/ast/ast110.h, src/pbx_impl/ast/ast111.h,
	  src/pbx_impl/ast/ast112.h, src/pbx_impl/ast/ast113.h,
	  src/sccp_cli.c, src/sccp_cli.h, src/sccp_cli_table.h,
	  src/sccp_conference.c, src/sccp_conference.h, src/sccp_hint.c,
	  src/sccp_hint.h, src/sccp_mwi.c, src/sccp_mwi.h: Fix: ami
	  astman_send_ack or astman_send_listack. Enh: Return number of
	  Tables in ami footer. Fix:SCCPShowGlobals returns a response
	  instead of a list.

2015-04-05  ddegroot

	* [r6001] src/sccp_cli.c: Fix: SCCPShowSoftkeySets ->
	  SCCPShowSoftKeySets

	* [r6000] src/sccp_hint.c, src/sccp_mwi.c: Fix: Make AMI output
	  comforming to the same style

2015-04-04  ddegroot

	* [r5999] src/sccp_cli.c: Fix: SCCPShowDevice AMI message for
	  'Allow ringin notification'

	* [r5998] src/sccp_cli.c, src/sccp_cli_table.h,
	  src/sccp_conference.c, src/sccp_hint.c, src/sccp_mwi.c:
	  Enhancement: Remove spaces from AMI Key Output (AMI-API). Trim
	  spaces from front and end of AMI Value Output

	* [r5997] src/sccp_cli.c: Enhancement: CLI_AMI Output: Updated
	  Device to DeviceName and Line to LineName

2015-04-03  ddegroot

	* [r5996] src/sccp_cli.c: Fix: extra line after SCCPShowDevice
	  SCCPShowLine before throwing the TableEntries. Also reported by
	  Jim Dosey.

	* [r5995] src/pbx_impl/ast/ast106.h, src/pbx_impl/ast/ast108.h,
	  src/pbx_impl/ast/ast110.h, src/pbx_impl/ast/ast111.h,
	  src/pbx_impl/ast/ast112.h, src/pbx_impl/ast/ast113.h,
	  src/pbx_impl/ast/define.h: Enhancement: Trim and CamelCase AMI
	  output. The key values should not contain spaces or any non-ascii
	  character. Enhancement: When returning a list of events in reply
	  to an AMI Action, we should only ack the list not the message
	  response as well.

	* [r5994] src/sccp_cli.c, src/sccp_cli_table.h: Fix: CLI_AMI
	  Output. Enhancement: Prepend CLI_AMI Event Entries with 'SCCP' so
	  they can be filtered (for) more easily.

	* [r5993] src/sccp_config.c: Enhancement: Reduce output from
	  SCCPConfigMetaData by only displaying Flags when applicable

2015-04-02  ddegroot

	* [r5992] src/Makefile.am, src/Makefile.in, src/config.h.in: Fix:
	  Only update sccp_enum files if we have a compatible awk version,
	  otherwise use pregenerated files from repos (1).

2015-04-01  ddegroot

	* [r5991] Makefile.in, autoconf/extra.m4, conf/sccp.conf.annotated,
	  configure, contrib/gen_sccpconf/Makefile.in, doc/Makefile.in,
	  src/Makefile.am, src/Makefile.in, src/config.h.in: Fix: Only
	  update sccp_enum files if we have a compatible awk version,
	  otherwise use pregenerated files from repos.

	* [r5990] src/sccp_cli.c: Fix: ActionId in CLI_AMI results (1)

	* [r5989] src/sccp_cli.c, src/sccp_cli_table.h: Fix: ActionId in
	  CLI_AMI results

	* [r5988] src/sccp_config.c, src/sccp_config_entries.hh: Fix:
	  SCCPConfigMetaData JSON output

2015-03-31  ddegroot

	* [r5987] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c: Fix:
	  pointer-bool-conversion / Enhancement: Set
	  ast_rtp_instance_dtmf_mode_set when running in skinny_dtmf mode

	* [r5986] conf/sccp.conf.annotated, src/config.h.in,
	  src/sccp_actions.c, src/sccp_config.c, src/sccp_config.h,
	  src/sccp_config_entries.hh, src/sccp_enum.c, src/sccp_enum.h,
	  src/sccp_enum.in, src/sccp_protocol.h: Enhancement: Made
	  statically defined softkeyset 'default' dynamic instead, so that
	  it will also show up in 'sccp cli show softkeysets' /
	  'SCCPShowSoftkeySets'. (Requested by Dave Burgess.)

2015-03-29  ddegroot

	* [r5985] src/sccp_features.c: (Temp)Fix: pickup on 7940/7960 type
	  phones, forcing the callplane to be visible. Something seems to
	  be suppressing the callplane along the way. (Reported by Eric
	  Ojacastro)

2015-03-28  ddegroot

	* [r5984] autoconf/asterisk.m4, autoconf/extra.m4, configure,
	  doc/Makefile.in, src/Makefile.in: Fix: compiling using clang
	  against clang compiled version of asterisk

2015-03-26  ddegroot

	* [r5983] src/sccp_enum.c, src/sccp_enum.h,
	  tools/gen_sccp_enum.awk: Enhancement: Enum's using bitfield
	  should not use a sparsely filled string map. instead we can use
	  the bitindex to lookup the value directly.

	* [r5982] src/sccp_actions.c: Fix: removed early break from line
	  'default' option handling from sccp_handle_line_number.

2015-03-25  ddegroot

	* [r5981] src/sccp_socket.c: Enhancement: Reduce the size of the
	  stripped chan_sccp.so binary by about half (2.2 Mb -> 1.2 Mb).
	  (Part 2)

	* [r5980] ChangeLog, autoconf/extra.m4, configure, src/chan_sccp.c,
	  src/sccp_protocol.h, src/sccp_utils.c: Enhancement: Reduce the
	  size of the stripped chan_sccp.so binary by about half (2.2 Mb ->
	  1.2 Mb)

2015-03-18  ddegroot

	* [r5979] src/pbx_impl/ast/ast112_announce.c,
	  src/sccp_management.c, src/sccp_mwi.c, src/sccp_protocol.c: Fix:
	  number of small/tiny fixes. Reported by Leonid Korokh

2015-03-16  ddegroot

	* [r5978] autoconf/extra.m4, configure, src/Makefile.am: Fix: Match
	  gcc/clang when multiple versions are installed, ie detect 'gcc-5'
	  instead of only 'gcc'

2015-03-15  ddegroot

	* [r5977] .travis.yml: Fix: revert travis change

	* [r5976] configure, configure.ac, src/Makefile.am,
	  src/Makefile.in: Fix: revert subdir-objects change to
	  configure.ac which is not compatible with older version of
	  automake, need to find another solution later

	* [r5975] src/sccp_channel.c, src/sccp_hint.c: Fix: Compile against
	  asterisk-1.6.2

	* [r5974] contrib/gen_sccpconf/gen_sccpconf.c,
	  contrib/gen_sccpconf/gen_sccpconf.h: Fix: gen_sccpconf

	* [r5973] .travis.yml: Trying to fix travis with configure subdirs

	* [r5972] Makefile.in, configure.ac, src/Makefile.am,
	  src/Makefile.in, src/config.h.in: Fix: configure subdir-objects

	* [r5971] Makefile.am, Makefile.in, autoconf/libtool.m4,
	  autoconf/ltmain.sh, configure, src/Makefile.am, src/Makefile.in,
	  src/config.h.in: Update: autoreconf -fi

	* [r5970] src/Makefile.am, src/Makefile.in, src/sccp_enum.h: Fix:
	  Makefile.am to update revision.h every 60 minutes, to make sure
	  latest svn/git revision is represented in chan_sccp.so

	* [r5969] src/sccp_enum.c, src/sccp_enum.h, src/sccp_pbx.c,
	  tools/gen_sccp_enum.awk: Fix: sccp_enum.c to use SENTINEL as last
	  value. Fix: Sentinel to calculated bitfield value instead of
	  incr+1, otherwise it would match a whole range of values.

	* [r5968] src/pbx_impl/ast/ast113.c, src/sccp_enum.c,
	  src/sccp_enum.h, src/sccp_enum.in, tools/gen_sccp_enum.awk:
	  Enhancement: Allow #ifdef / #endif in sccp_enum.in

2015-03-14  ddegroot

	* [r5967] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c: Fix: is
	  left from hold

	* [r5966] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c,
	  src/sccp_channel.c: Enhancment: Signal Transfer Success/Failure.
	  Update indication2str

	* [r5965] src/pbx_impl/ast/ast.h, src/sccp_dllists.h,
	  src/sccp_pbx.c: Fix asterisk-18 compilation. Added padding for
	  better dlinkedlist lignment

	* [r5964] src/chan_sccp.h, src/pbx_impl/ast/ast.h,
	  src/sccp_actions.c, src/sccp_appfunctions.c, src/sccp_channel.c,
	  src/sccp_cli.c, src/sccp_config.c, src/sccp_enum.c,
	  src/sccp_enum.h, src/sccp_enum.in, src/sccp_features.c,
	  src/sccp_indicate.c, src/sccp_pbx.c, src/sccp_rtp.h,
	  src/sccp_softkeys.c: Enhancement: Move several typedef enums to
	  sccp_enum.in

2015-03-12  ddegroot

	* [r5963] conf/sccp.conf, conf/sccp.conf.annotated,
	  src/chan_sccp.h, src/sccp_cli.c, src/sccp_config.c,
	  src/sccp_config_entries.hh, src/sccp_softkeys.c: Fix: dnd always
	  cycling through off/busy/silent. Reported by Steve Hanselman.
	  (setting device->dnd=off maybe a little bit counter intuitive,
	  but don't want to make any big changes at this moment).

	* [r5962] conf/postgres.sql: Enhancement: extend size of
	  disallow/allow in progress sql sample, to allow for multiple
	  codecs

2015-03-02  ddegroot

	* [r5961] conf/tftp/SEP0000000000.cnf.xml_797x_template,
	  conf/tftp/SEP0000000000.cnf.xml_annotated,
	  conf/tftp/SEP0000000000.cnf.xml_ipv6_template: Fix: phoneServices
	  Voicemail to connect to Messages Button

2015-02-26  ddegroot

	* [r5960] src/sccp_pbx.c: Fix: channel_answer regression on older
	  devices. Reported by Rob WIlson.

	* [r5959] src/sccp_actions.c: Fix: using the right instance number
	  when dialing a speeddial. Reported by Rob Wilson.

2015-02-25  ddegroot

	* [r5958] src/sccp_line.c, src/sccp_line.h, src/sccp_pbx.c,
	  src/sccp_protocol.h, src/sccp_utils.c, src/sccp_utils.h:
	  Enhancement: Refined the codec combination and reduction,
	  currently used by sccp_pbx_channel_allocate. Should possibly also
	  be used in sccp_channel_setDevice aswell. But might actually be
	  better if we would move audio preferences to be line based
	  instead of device based, that would make shared line easier as
	  well (combine/reduce codecs at linedevice_attach event).

	* [r5957] src/sccp_channel.c, src/sccp_line.c, src/sccp_line.h,
	  src/sccp_pbx.c, src/sccp_utils.c, src/sccp_utils.h: Enhancement:
	  Refined the codec reduction (sccp_utils_reduceCodecSet /
	  sccp_line_copyMinimumCodecSetFromLineToChannel), used by
	  sccp_pbx_channel_allocate. Should possibly also be used in
	  sccp_channel_setDevice.

2015-02-24  ddegroot

	* [r5956] src/sccp_actions.c: Enhancement: Updated buttontemplate
	  parser to show debug results

	* [r5955] src/sccp_cli.c: Enhancement: show buttonconfig->index
	  instead of the buttonconfig->instance which might be confusing,
	  added instance as a seperate column.

	* [r5954] src/sccp_config.c: Enhancement: remove unnecessary lines

	* [r5953] src/sccp_pbx.c: Enhancement: copy device capabilities to
	  channel when allocating a new device (combine codecs when dealing
	  with shared line)

	* [r5952] src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c:
	  Fix: sccp_asterisk112_getSkinnyFormatSingle

2015-02-23  ddegroot

	* [r5951] conf/database_updates/migrate_to_mysql-v5.sql,
	  conf/database_updates/update_mysql_v4.sql,
	  conf/database_updates/update_mysql_v5.sql,
	  conf/database_updates/update_postgresql.sql, conf/mysql-v4.sql,
	  conf/mysql-v5.sql, conf/postgres.sql, conf/sqlite.sql,
	  conf/sqlite3.sql: Fix: database sample files for dnd field.
	  Reported by Rob.

2015-02-21  ddegroot

	* [r5950] src/sccp_actions.c, src/sccp_config.c: Enhancement:
	  Removed experimental status from softkey:uriaction (2)

	* [r5949] src/sccp_actions.c, src/sccp_device.c: Fix:
	  immediatedialing keyset change from offhook to digitsfoll at
	  first digit. Reported/Patched by Pavel.

	* [r5948] src/sccp_line.c: Fix: cfwdAll feature button toggle.
	  Reported by Marco.

	* [r5947] ChangeLog, src/chan_sccp.h, src/sccp_config.c,
	  src/sccp_config_entries.hh, src/sccp_protocol.h,
	  src/sccp_softkeys.c, src/sccp_softkeys.h: Enhancement: Removed
	  experimental status from softkey:uriaction

	* [r5946] src/sccp_socket.c: Fix: Check for TCP_THIN before using
	  it in setsockopt. Reported by Pavel

	* [r5945] src/pbx_impl/ast/ast.h: Removed: Used function
	  sccp_strndup

2015-02-20  ddegroot

	* [r5944] src/sccp_management.c: Enhancement: Because
	  managerHookHelper gets called repeatedly by asterisk, it is wise
	  to move the memset into the loop, after category has been
	  checked.

	* [r5943] src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/ast112.c,
	  src/pbx_impl/ast/ast113.c, src/sccp_actions.c,
	  src/sccp_channel.c, src/sccp_device.c, src/sccp_features.c,
	  src/sccp_hint.c, src/sccp_line.c, src/sccp_pbx.c,
	  src/sccp_protocol.c, src/sccp_refcount.c, src/sccp_utils.c: Fix:
	  address of array 'XXX' will always evaluate to 'true'
	  [-Wpointer-bool-conversion]

	* [r5942] src/pbx_impl/ast/ast.h: Fix: Prevent compiler warning
	  about static/non-static

	* [r5941] src/Makefile.in: Fix: automake Makefile.in

	* [r5940] ChangeLog, src/Makefile.am: Fix: Makefile.am for make
	  release

2015-02-18  ddegroot

	* [r5939] src/pbx_impl/ast/define.h, src/sccp_device.c: Fix:
	  compile against asterisk-1.8 (missing ast_alloca, replace by
	  gcc/clang buildin function)

	* [r5938] ChangeLog, src/Makefile.am, src/Makefile.in: Update:
	  Makefile.am to allow for make release

	* [r5937] src/sccp_hint.c: Fix: sccp show hint subscription display
	  when device is offline. enum lookup error for iconstate.

	* [r5936] ChangeLog, NEWS, autoconf/extra.m4, configure,
	  contrib/phone_screenshot/phone_screenshot,
	  contrib/phone_screenshot/scr2img, src/chan_sccp.h,
	  src/config.h.in, src/sccp_actions.c, src/sccp_device.c,
	  src/sccp_device.h, src/sccp_protocol.h, src/sccp_utils.c,
	  src/sccp_utils.h: Enhancement: Support for UTF-8 (new devices)
	  und ISO8859-1 (old devices) allowing accented characters in
	  buttonlabels (in Latin1 format only) on older phones. You need to
	  make sure the sccp.conf file is stored in UTF-8 format. Requested
	  by Oliver Jaksch.

	* [r5935] conf/sccp.conf, conf/sccp.conf.annotated,
	  conf/sccp.conf.freepbx, conf/sccp_hardware.conf.freepbx,
	  conf/sccp_templated.conf: Enhancement: Support for UTF-8 (new
	  devices) und ISO8859-1 (old devices) allowing accented characters
	  in buttonlabels (in Latin1 format only) on older phones. You need
	  to make sure the sccp.conf file is stored in UTF-8 format.
	  Requested by Oliver Jaksch.

	* [r5934] src/sccp_hint.c: Fix: sccp_hint_notifyPBX

2015-02-17  ddegroot

	* [r5933] src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast.h,
	  src/sccp_pbx.c: Fix: sporadic indication of invalid number during
	  pbx_pbx_start caused by AUTOLOOP check

2015-02-15  ddegroot

	* [r5932] src/sccp_protocol.c, src/sccp_protocol.h: Fix: regression
	  in locale handling. Reported by Oliver Jaksch.

2015-02-13  ddegroot

	* [r5931] src/sccp_hint.c: Fix: sccp_hint.c (partial revert)

2015-02-12  ddegroot

	* [r5930] doc/Makefile.in, src/Makefile.am, src/Makefile.in: Fix:
	  Makefile.am dependency

	* [r5929] contrib/gen_sccpconf/Makefile.am,
	  contrib/gen_sccpconf/Makefile.in,
	  contrib/gen_sccpconf/gen_sccpconf.c,
	  contrib/gen_sccpconf/gen_sccpconf.h: Fix: gen_sccpconf

	* [r5928] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c: Fix: compile against ast106-ast110
	  extranous ']'

	* [r5927] doc/Makefile.in, src/Makefile.am, src/Makefile.in:
	  Travis: Still having difficulty with make file

	* [r5926] doc/Makefile.in, src/Makefile.am, src/Makefile.in: Fix:
	  Update makefiles

	* [r5925] src/Makefile.am, src/pbx_impl/ast/ast106.c,
	  src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/ast112.c,
	  src/pbx_impl/ast/ast113.c, src/sccp_pbx.c: Fix: prevent segfault
	  when calling setNativeFormats with a non existent c->owner

	* [r5924] src/sccp_hint.c: Fix: finding hint when hint is
	  configured as 'exten => 143,hint,SCCP/143,CustomPresence:143' for
	  example on elastix 2.5. Also references #250

	* [r5923] src/sccp_enum.c, src/sccp_enum.h, src/sccp_enum.in:
	  Enhancement: Added SVN revision header to sccp_enum.[c|h]. Added
	  header to sccp_enum.in file.

	* [r5922] tools/gen_sccp_enum.awk: Enhancement: Add SVN revision
	  header to sccp_enum.[c|h]

	* [r5921] tools/gen_sccp_enum.awk: Fix: make gen_sccp_enum.awk work
	  with older awk versions

	* [r5920] doc/Makefile.in, src/Makefile.am, src/Makefile.in: Fix:
	  src/Makefile.am for gen_enum

	* [r5919] src/Makefile.am, src/Makefile.in, src/chan_sccp.c,
	  src/chan_sccp.h, src/chan_sccp_enums.hh[DEL], src/common.h,
	  src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c,
	  src/sccp_actions.c, src/sccp_appfunctions.c, src/sccp_cli.c,
	  src/sccp_conference.c, src/sccp_config.c,
	  src/sccp_config_entries.hh, src/sccp_enum.c[ADD],
	  src/sccp_enum.h[ADD], src/sccp_enum.in[ADD],
	  src/sccp_enum_macro.h[DEL], src/sccp_event.c, src/sccp_event.h,
	  src/sccp_event_enums.hh[DEL], src/sccp_hint.c, src/sccp_pbx.c,
	  src/sccp_protocol.c, src/sccp_protocol.h,
	  src/sccp_protocol_enums.hh[DEL], tools/gen_sccp_enum.awk[ADD]:
	  Enhancement: Replace sccp_enum_macro.h with a more maintainable
	  awk script. Fixes nasty chan_sccp.so bloated size from 20Mb back
	  to 3Mb.

	* [r5918] autoconf/extra.m4, configure: Fix: Checking gcc for -Og
	  support, before using it.

2015-02-11  ddegroot

	* [r5917] autoconf/extra.m4, configure: Fix: Revert -O9 change,
	  because gcc 4.1 can't handle it :-(.

	* [r5916] src/sccp_hint.c, src/sccp_mwi.c: Fix: Reduce
	  warning/error log levels

	* [r5915] src/sccp_socket.c: Fix: Remove SO_ERROR Success(0)
	  Warning

2015-02-09  ddegroot

	* [r5914] src/sccp_enum_macro.h, src/sccp_features.c: Fix: prevent
	  segfault during grouppickup when channel could not be
	  found/created. Reported by Cody Miller

2015-02-08  ddegroot

	* [r5913] configure: Enhancement: Reduce size of chan_sccp.so
	  module by 50% by setting -Og when compiled with gcc. (mainly
	  cause by multiple inclusion of identical const arrays (side
	  effect of sccp_enum_macro)). clang automatically merges these
	  constants already.

	* [r5912] autoconf/extra.m4, src/sccp_enum_macro.h: Enhancement:
	  Reduce size of chan_sccp.so module by 50% by setting -Og when
	  compiled with gcc. (mainly cause by multiple inclusion of
	  identical const arrays (side effect of sccp_enum_macro)). clang
	  automatically merges these constants already.

2015-02-08  marcelloceschia

	* [r5911] src/chan_sccp.c, src/sccp_protocol.h, src/sccp_socket.c,
	  src/sccp_socket.h: Merge pull request #254 from dkgroot/master
	  
	  Socket Handling Enhancements / TCP Keepalive Handling

2015-02-08  ddegroot

	* [r5910] src/Makefile.in: Cleanup: Remove debug messages from
	  Makefile.in

2015-02-05  ddegroot

	* [r5909] src/Makefile.in, src/pbx_impl/ast/ast113.c: Fix: compile
	  error attended_transfer : ast13.

2015-02-04  ddegroot

	* [r5908] src/chan_sccp.c, src/sccp_config_entries.hh,
	  src/sccp_protocol.c, src/sccp_protocol.h: Cleanup: removed some
	  hardcoded defaults in favor of using default value from
	  sccp_config_entries.hh.

	* [r5907] src/pbx_impl/ast/ast.c: Fix: Correct connected/redirected
	  asterisk-11.

	* [r5906] src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c: Fix: Correct connected/redirected
	  asterisk-18 and asterisk-10.

	* [r5905] src/pbx_impl/ast/ast108.c: Fix: Free duplicated strings
	  when updateing connected/redirected asterisk-18 callinfo.

	* [r5904] src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast106.c,
	  src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/ast112.c,
	  src/pbx_impl/ast/ast113.c, src/sccp_channel.c: Fix: transfer
	  masquarade return value handling. Use goto exit during transfer
	  completion to make sure transfered_channel_release happens. Free
	  duplicated strings when updateing connected/redirected asterisk
	  callinfo.

2015-02-03  ddegroot

	* [r5903] ChangeLog, autoconf/asterisk.m4, autoconf/extra.m4,
	  configure, configure.ac, src/sccp_pbx.c: Fix: ast_do_pickup
	  against asterisk-1.8 and below

	* [r5902] src/sccp_hint.c: Fix: devstate eid with asterisk-12

	* [r5901] Makefile.in, autoconf/asterisk.m4, configure,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c,
	  src/sccp_features.c, src/sccp_pbx.c: Fix: Pickup when using
	  asterisk-12/13 (Asterisk API Change). Reported by Viktu Pons.

	* [r5900] src/sccp_features.c, src/sccp_pbx.c: Fix: directed
	  pickup. Issue reported by Viktu Pons Colomer.

	* [r5899] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c: Fix: Add
	  return after debug output

	* [r5898] src/sccp_actions.c, src/sccp_features.c: Fix: check if
	  sccp_channel_newcall created a new channel before commencing

	* [r5897] .travis.yml: Enhancement: Remove lucid from travis
	  compile, uses the same asterisk-1.8 as precise

	* [r5896] src/sccp_cli.c: Fix: correct sccp reload file to allow
	  for absolute and relative path's (References #248 (Reported by
	  Jean-Francois Proulx)).

	* [r5895] src/sccp_config.c, src/sccp_device.c, src/sccp_line.c:
	  Fix: button change detection during sccp reload (Fixes #248
	  (Reported by Jean-Francois Proulx)). Fix: stringptr corruption
	  after sccp reload, for example d->backgroundImage (Fixes #241).

2015-01-29  ddegroot

	* [r5894] tools/versioncheck: Fix: git branch detection

2015-01-27  ddegroot

	* [r5893] .travis.yml: Remarked out vivid build because asterisk
	  and asterisk-dev can't currently be found. Try it back later

	* [r5892] src/pbx_impl/ast/ast111.c, src/sccp_hint.c: Enhancement:
	  At least compile --distribute-devstate nicely against
	  asterisk-13. Only sending the devstate change at the moment,
	  without the extra CEL information (alas). Added a possible sample
	  of how we could potentially add this extra information using an
	  ast_channel_blob (yuck).

	* [r5891] src/pbx_impl/ast/ast.c: Fix: Segfault during
	  CHANNEL(rtpqos). Reported by Cody

	* [r5890] src/sccp_cli.c: Enhancement: CLI:Remove line from device.
	  (Provided by jeenux)

2015-01-26  marcelloceschia

	* [r5889] src/chan_sccp.h, src/chan_sccp_enums.hh,
	  src/pbx_impl/ast/ast.c, src/sccp_channel.c, src/sccp_channel.h:
	  add video mode for channel

2015-01-25  ddegroot

	* [r5888] src/sccp_actions.c: Fix: updated commented code handling
	  miscCommand. Still seems to require further implementation
	  though.

	* [r5887] src/sccp_actions.c: Fix: handling miscCommand with
	  missing passthruid

	* [r5886] src/sccp_utils.c: Fix: Added comment

	* [r5885] src/sccp_config.c, src/sccp_device.c, src/sccp_hint.c,
	  src/sccp_protocol_enums.hh, src/sccp_utils.c: Enhancement: Added
	  potential support for SPA Addons / SideCar. (Requested by Mark
	  Casey)

2015-01-24  ddegroot

	* [r5884] src/sccp_hint.c: Fix: channelName -> lineName change

	* [r5883] src/sccp_hint.c: Fix: Renamed channelName to lineName,
	  Added channelState to DEVICE_STATE_CHANGE as IE_CEL_EXTRA to make
	  the reason for the update more apparent. Check if hint has been
	  found before sending notification to Subscribers.

	* [r5882] src/sccp_hint.c: Fix: Prevent devicestate /
	  devicestatechange events from being sent/arriving multiple times
	  per line change event

	* [r5881] src/sccp_protocol.c: Fix: Function Comment Headers

	* [r5880] src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast106.c,
	  src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/ast112.c,
	  src/pbx_impl/ast/ast113.c: Enhancement: Prevent any action
	  (including timeout) on incoming AST_CONTROL_INCOMPLEMENT
	  indication when running in earlyrtp immediate mode. Patch
	  supplied by Pavel

	* [r5879] src/sccp_protocol.c, src/sccp_protocol.h: Enhancement:
	  Renamed som of the unknown fields in the RegisterAckMessage.
	  Added debug logging to track down the date/time issues reported
	  by John Bittner

	* [r5878] src/sccp_hint.c: Source: revert indentation for
	  pbx_event_new to make it readable

	* [r5877] src/pbx_impl/ast/ast.h: Fix: asterisk/event.h include
	  based on new configure script

	* [r5876] ChangeLog, autoconf/asterisk.m4, autoconf/extra.m4,
	  configure, contrib/gen_sccpconf/Makefile.in, doc/Makefile.in,
	  doc/doxygen.cfg, src/Makefile.in, src/config.h.in: Enhancement:
	  Remove a number of old/unused checks from the configure script to
	  reduce build time slightly

2015-01-22  ddegroot

	* [r5875] src/pbx_impl/ast/define.h, src/sccp_lock.h,
	  src/sccp_refcount.c: Cleanup: Move lock debugging to define.h.
	  Remove unnecessary obj check in refcount debug.

	* [r5874] src/sccp_device.c: Fix: Make cleardisplayprinotify only
	  remove the message with the right priority

2015-01-21  ddegroot

	* [r5873] src/chan_sccp.c, src/chan_sccp.h, src/sccp_socket.c:
	  Enhancement/Cleanup: reload code in regards to socket session
	  accept and cleanup

	* [r5872] src/sccp_channel.c, src/sccp_socket.c: Fix: pointer
	  derefence before NULL pointer check

	* [r5871] src/sccp_channel.c, src/sccp_cli.c, src/sccp_pbx.c: Fix:
	  Replaced three instances of strncpy (two without the -1 as size
	  correction) with preferred sccp_copy_string function.

	* [r5870] src/chan_sccp.c: Fix: hanging
	  SCCP_RWLIST_UNLOCK(&GLOB(lines)) which was not locked beforehand

	* [r5869] src/sccp_socket.c: Fix: making sure
	  sccp_socket_cleanup_timed_out does not run during reload

	* [r5868] src/sccp_softkeys.c: Fix: SCCP_RWLIST_WRLOCK which should
	  have been SCCP_RWLIST_UNLOCK

	* [r5867] src/sccp_cli.c: Fix: releasing 'global lock'/'reload in
	  progress' when accidentaly mistyping sccp reload (2)

	* [r5866] src/sccp_cli.c: Fix: releasing 'global lock'/'reload in
	  progress' when accidentaly mistyping sccp reload

2015-01-20  ddegroot

	* [r5865] src/sccp_appfunctions.c: Allow setting priority notify
	  messages using SCCPSetMessage(<text>[, timeout][, priority])
	  
	  Setting a priority notify message with a higher priority
	  overrules lower priority messages, lower one will not be shown
	  until higher one is removed.
	  
	  Example:
	  macro sccp_set_message() {
	  Noop(SCCPSetMessage);
	  SCCPSetMessage(); // clear standard status prompt
	  SCCPSetMessage(,0,1); // clear priority 1 notify message
	  SCCPSetMessage(,0,2); // clear priority 2 notify message
	  SCCPSetMessage(Incoming 1 prio1,0,1); // set priority 1 notify
	  SCCPSetMessage(Incoming 2 prio2,0,2); // set priority 2 notify
	  SCCPSetMessage(Incoming 3 prio1,0,1); // set priotity 1 notify
	  (has no effect until priority 2 is cleared
	  };

	* [r5864] src/sccp_device.c, src/sccp_device.h: Fix:
	  cleardisplayprinotify

	* [r5863] ChangeLog, autoconf/extra.m4, configure, src/config.h.in:
	  Revert: -Og optimization which not all gcc compilers seem to like
	  either

2015-01-19  ddegroot

	* [r5862] ChangeLog, autoconf/compile[ADD], doc/Makefile.in,
	  src/config.h.in: Fix: Adding autoconf/compile required for make
	  release by automake

	* [r5861] src/sccp_appfunctions.c: Fix: buffer issue because of
	  using len instead of buf_len

	* [r5860] src/sccp_config.c, src/sccp_softkeys.c: Fix: reloading
	  softkeysets. Issue reported by Pavel.

	* [r5859] ChangeLog, autoconf/extra.m4, configure: Enhancement:
	  Wenn using gcc and --enable-optimization set -Og instead of -O2
	  which will enable all optimizations without sacrificing the
	  ability to have enxtended gdb debug capbility. This optimization
	  level is not supported in clang.

2015-01-18  marcelloceschia

	* [r5858] src/sccp_pbx.c: fixes compile issue

	* [r5857] src/sccp_pbx.c: fixes compile issue

	* [r5856] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c,
	  src/sccp_pbx.c: move sccp_device_setLastNumberDialed before
	  SCCP_CHANNELSTATE_PROCEED

	* [r5855] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c,
	  src/sccp_pbx.c: fixes redial button in immediate mode, patch
	  provided by Pavel Troller

2015-01-17  marcelloceschia

	* [r5854] src/sccp_actions.c, src/sccp_device.c, src/sccp_pbx.c:
	  applying patch from Pavel Troller that fixes callinfo for
	  immediate dialing

2015-01-16  marcelloceschia

	* [r5853] src/sccp_channel.c: fixes compile issue

	* [r5852] src/sccp_channel.c, src/sccp_features.c,
	  src/sccp_indicate.c: remove PBX(set_callstate) (c,
	  AST_STATE_OFFHOOK) from sccp_indicate and move it to the right
	  places

	* [r5851] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c,
	  src/sccp_indicate.c: remove PBX(set_callstate) (c,
	  AST_STATE_RING) from sccp_indicate and move it to the right
	  places

	* [r5850] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c,
	  src/sccp_indicate.c: remove PBX(set_callstate) (c,
	  AST_STATE_BUSY) from sccp_indicate and move it to the right
	  places

	* [r5849] src/sccp_indicate.c: remove PBX(set_callstate) (c,
	  AST_STATE_RINGING) from sccp_indicate and move it to the right
	  places

	* [r5848] src/sccp_features.c, src/sccp_indicate.c: remove
	  PBX(set_callstate) (c, AST_STATE_RINGING) from sccp_indicate and
	  move it to the right places

	* [r5847] src/sccp_actions.c, src/sccp_channel.c,
	  src/sccp_indicate.c: reapply patch: A small patchset to fix small
	  bugs in immediate mode (patch1+patch2), provided by Pavel Troller

	* [r5846] src/sccp_actions.c, src/sccp_channel.c,
	  src/sccp_indicate.c: revert my change for patch A small patchset
	  to fix small bugs in immediate mode (patch1+patch2), provided by
	  Pavel Troller

2015-01-15  marcelloceschia

	* [r5843] src/sccp_actions.c: A small patchset to fix small bugs in
	  immediate mode (patch2), provided by Pavel Troller

	* [r5842] src/sccp_actions.c: A small patchset to fix small bugs in
	  immediate mode (patch2), provided by Pavel Troller

	* [r5841] src/sccp_channel.c, src/sccp_indicate.c: A small patchset
	  to fix small bugs in immediate mode (patch1), provided by Pavel
	  Troller

2015-01-15  ddegroot

	* [r5839] .: Edit property svn:ignore

2015-01-14  ddegroot

	* [r5838] ChangeLog, debian/compat: Fix: COMPAT level for debian
	  packages

	* [r5837] debian/changelog: Enhancement: Added launchpad/ppa
	  repository for Ubuntu Users. See:
	  https://launchpad.net/~chan-sccp-b for details

	* [r5836] .travis.yml: Add vivid and lucid repositories to travis
	  CI script

	* [r5835] ChangeLog, src/chan_sccp.c, src/chan_sccp.h,
	  src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast.h,
	  src/pbx_impl/ast/ast104.h, src/pbx_impl/ast/ast106.c,
	  src/pbx_impl/ast/ast106.h, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast108.h, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast110.h, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast111.h, src/pbx_impl/ast/ast112.c,
	  src/pbx_impl/ast/ast112.h, src/pbx_impl/ast/ast112_announce.c,
	  src/pbx_impl/ast/ast112_announce.h, src/pbx_impl/ast/ast113.c,
	  src/pbx_impl/ast/ast113.h, src/pbx_impl/ast/define.h,
	  src/pbx_impl/pbx_impl.c, src/pbx_impl/pbx_impl.h,
	  src/sccp_actions.c, src/sccp_adv_features.c,
	  src/sccp_appfunctions.c, src/sccp_channel.c, src/sccp_cli.c,
	  src/sccp_conference.c, src/sccp_config.c, src/sccp_device.c,
	  src/sccp_devstate.c, src/sccp_event.c, src/sccp_featureButton.c,
	  src/sccp_features.c, src/sccp_hint.c, src/sccp_indicate.c,
	  src/sccp_line.c, src/sccp_management.c, src/sccp_mwi.c,
	  src/sccp_pbx.c, src/sccp_protocol.c, src/sccp_protocol.h,
	  src/sccp_refcount.c, src/sccp_rtp.c, src/sccp_socket.c,
	  src/sccp_softkeys.c, src/sccp_threadpool.c, src/sccp_utils.c:
	  Cleanup: Replace commented code blocks. Re-indent sources

	* [r5834] .travis.yml: Update travis.yml

2015-01-12  ddegroot

	* [r5832] src/chan_sccp_enums.hh: Cleanup: Shorten displayed nat
	  string / Remove CS_Expirmental block because of indentation
	  difference.

	* [r5831] conf/database_updates/migrate_to_mysql-v5.sql,
	  conf/sccp.conf.annotated, conf/sccp_hardware.conf.freepbx:
	  Fix/Update: config examples

	* [r5830] src/pbx_impl/ast/ast106.c: Experimental Enhancement: Same
	  as previous revision but for ast106.c

	* [r5829] ChangeLog, conf/database_updates/migrate_to_mysql-v5.sql,
	  conf/database_updates/update_mysql_v4.sql,
	  conf/database_updates/update_mysql_v5.sql, conf/mysql-v4.sql,
	  conf/mysql-v5.sql, conf/postgres.sql, conf/sccp.conf.annotated,
	  conf/sccp_hardware.conf.freepbx, conf/sqlite.sql,
	  conf/sqlite3.sql, src/chan_sccp.h, src/chan_sccp_enums.hh,
	  src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/ast112.c,
	  src/pbx_impl/ast/ast113.c, src/sccp_actions.c,
	  src/sccp_channel.c, src/sccp_cli.c, src/sccp_config_entries.hh,
	  src/sccp_rtp.c: Experimental Enhancement: Change nat parameter to
	  enum (auto/off/on) to allow for more control during directrtp
	  bridging. New Default value is "auto".
	  Requires:
	  ./configure --enable-experimental-mode
	  change in realtime db: ALTER TABLE sccpdevice CHANGE COLUMN nat
	  VARCHAR(4) DEFAULT 'auto'
	  
	  This change makes it possible to use directrtp in remote natted
	  locations, by setting directrtp=on and device permit/deny to
	  include both the remote phone ip range (between which directrtp
	  should occur) and the natted source ip-address.
	  Example
	  [SEP00123445566]
	  directrtp=on ; force directrtp attempt
	  nat=off ; force non-natted negotiation
	  deny=0.0.0.0/0.0.0.0
	  permit=192.168.1.0/24 ; remote phone ip-address range
	  permit=21.22.23.222/32 ; natted remote address

2015-01-11  ddegroot

	* [r5828] src/sccp_actions.c: Fix: Debug message about auto nat

	* [r5827] src/pbx_impl/ast/define.h, src/sccp_appfunctions.c:
	  Enhancement: Allow the use of dialplan HASH() function combined
	  with SCCPDEVICE(), SCCPLINE() and SCCPCHANNEL() to query multiple
	  parameters with only one function call (Required to fix dialplan
	  macro readability for Cody Miller-Kelly).
	  Note: Original single parameter queries are still supported as
	  before.
	  
	  Diaplan Example:
	  Set(HASH(_SCCP_DEVICE)=${SCCPDEVICE(current,id,description,ip,button_config,codecs,codec[2])});
	  Noop(Keys: ${HASHKEYS(SCCP_DEVICE)});
	  Noop(Id: ${HASH(SCCP_DEVICE,id)});
	  Noop(Desc: ${HASH(SCCP_DEVICE,description)});
	  Noop(Ip: ${HASH(SCCP_DEVICE,ip)});
	  Noop(button_config: ${HASH(SCCP_DEVICE,button_config)});
	  Noop(codecs: ${HASH(SCCP_DEVICE,codecs)});
	  Noop(codec[2]: ${HASH(SCCP_DEVICE,codec[2])});

	* [r5826] src/pbx_impl/ast/ast.c, src/sccp_appfunctions.c:
	  Enhancement: Added rtp quality statistics, i.e. 'rtpqos' to
	  CHANNEL(), SCCPDEVICE() and SCCPCHANNEL() as per request from
	  Cody Miller-Kelly

2015-01-11  marcelloceschia

	* [r5825] src/pbx_impl/ast/ast113.c: fix missing ,

	* [r5824] src/sccp_pbx.c: use dialed number interface

	* [r5823] src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/ast112.c,
	  src/pbx_impl/ast/ast113.c: implement interface for dialed number
	  for asterisk 11,12,13

	* [r5822] src/pbx_impl/pbx_impl.h: add interface for dialed number

2015-01-11  ddegroot

	* [r5821] src/sccp_utils.c: Fix: Remove the 7940 from the addon
	  warning message. (Reported by hhornung).

2015-01-10  ddegroot

	* [r5820] src/sccp_refcount.c: Fix: fillfactor check

	* [r5819] src/sccp_refcount.c: Fix: Added warning about fillfactor
	  to 'sccp show refcount'

	* [r5818] src/sccp_utils.c: Fix: Added warning when specifying
	  addons for 794x phones during device registration

	* [r5817] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c,
	  src/sccp_pbx.c: Fix: Changing CallerID in CDR becasuse of
	  CallerId(ANI) Issue reported by Pavel Troller.

2015-01-03  ddegroot

	* [r5816] conf/sccp.conf, conf/sccp_hardware.conf.freepbx,
	  conf/sccp_templated.conf: Fix config examples: show 7914 attached
	  to 7960 instead of (non-working) 7940. (Requested by Matt
	  Darnell)

2015-01-02  ddegroot

	* [r5815] src/sccp_actions.c: Fix: debug message

	* [r5814] ChangeLog, tools/versioncheck: Include revision number
	  based on .revision when compiling from TGZ

2014-12-23  marcelloceschia

	* [r5813] src/sccp_actions.c: fixes wrong digit @ instead of + on a
	  6945 device dialing off hook; reported by Ксения Юрьевна Блащук

2014-12-13  marcelloceschia

	* [r5812] src/sccp_pbx.c: display inbound callerid number on prompt
	  when device has an active channel

	* [r5811] src/sccp_channel.c: fixes BLINDTRANSFER variable issue,
	  reported by Nikola

2014-12-12  marcelloceschia

	* [r5810] src/sccp_indicate.c: revert FLASH prompt when ringermode
	  is set

2014-11-27  ddegroot

	* [r5809] src/sccp_softkeys.c: Fix: Compile warning when compiling
	  without conference

2014-11-27  marcelloceschia

	* [r5808] src/sccp_cli.c: apply patch to fix segfault on cli
	  commond 'sccp set channel <channe> hold' (without 6th argument).
	  Patch provied by Max Nesterov. Thank you Max

2014-11-26  ddegroot

	* [r5807] src/pbx_impl/ast/ast.c: Fix: Remove second autoloop check
	  during pbx_start.

2014-11-23  ddegroot

	* [r5806] src/sccp_softkeys.c: Fix: DirTrsfr. Reported by Alexander
	  Lopez.

2014-11-20  ddegroot

	* [r5805] conf/tftp/SEP0000000000.cnf.xml_797x_template,
	  conf/tftp/SEP0000000000.cnf.xml_annotated,
	  conf/tftp/SEP0000000000.cnf.xml_ipv6_template: Fix: Added warning
	  about use of videoCapability in SEP files, when video is not
	  actually available. Warning can be removed once the issue in
	  source is found.

	* [r5804] src/sccp_actions.c, src/sccp_channel.c,
	  src/sccp_channel.h, src/sccp_cli.c, src/sccp_features.c,
	  src/sccp_management.c, src/sccp_softkeys.c: Enhancement: Added
	  possiblity to define a uniqueId during sccp_channel_newcall for
	  asterisk > 12. Used in AMI: SCCPStartCall to specify the uniqueid
	  of the channel to be created. Follow up on the Fix to allow
	  Originate to specify the uniqueId on channels to be created.
	  Issue Reported and Patch verified by Niklas Larssson.

	* [r5803] src/sccp_device.c: Fix: softkeyset debug message

	* [r5802] src/sccp_actions.c: Fix: skinny_stimulusMap_cb
	  indentation

2014-11-19  ddegroot

	* [r5801] src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c:
	  Enhancement: Support uniqueId/ChannelId during Originate in
	  >asterisk-12. Requested by Niklas Larsson.

2014-11-14  ddegroot

	* [r5800] src/sccp_channel.c: Fix: Added mutex_destroy
	  channel->scheduler.lock

	* [r5799] src/sccp_actions.c, src/sccp_rtp.c: Enhancement: Use
	  sccp_channel_updateMediaTransmission instead of
	  sccp_channel_startMediaTransmission to make sure
	  mediatransmission is stopped before starting again (if already
	  started)

	* [r5798] src/sccp_device.c, src/sccp_socket.c: Enhancement: moved
	  packet debug output to one function

2014-11-09  ddegroot

	* [r5797] src/chan_sccp.c: Fix: sccp_channel_answer does not answer
	  because device was already assigned during sccp_requestChannel
	  (reversion). Issue Reported by Riten Jaiswal.

2014-11-07  ddegroot

	* [r5796] src/pbx_impl/ast/ast111.c: Enhancement: Deal with video
	  codec requesting the same way as with requested audio codecs (2)

	* [r5795] src/pbx_impl/ast/ast111.c: Enhancement: Deal with video
	  codec requesting the same way as with requested audio codecs

	* [r5794] src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/ast112.c,
	  src/pbx_impl/ast/ast113.c: Fix: Only set wideband codec during
	  channel_request when using SharedLine and not audiocapabilities
	  have been set

	* [r5793] src/chan_sccp.c: Assign device to newly created channel
	  when dealing with a non shared line, which prevent NONE codec
	  issue

	* [r5792] src/sccp_actions.c: Enhancement: prevent refcount issue
	  during HOLD/RESUME when using line button

	* [r5791] src/sccp_actions.c: Fix: refcount issue during
	  HOLD/RESUME when using line button

2014-11-05  ddegroot

	* [r5790] src/chan_sccp.c, src/chan_sccp.h, src/common.h,
	  src/sccp_actions.c, src/sccp_actions.h, src/sccp_adv_features.c,
	  src/sccp_adv_features.h, src/sccp_appfunctions.c,
	  src/sccp_appfunctions.h, src/sccp_channel.c, src/sccp_channel.h,
	  src/sccp_cli.c, src/sccp_cli.h, src/sccp_cli_table.h,
	  src/sccp_conference.c, src/sccp_conference.h, src/sccp_config.c,
	  src/sccp_config.h, src/sccp_device.c, src/sccp_device.h,
	  src/sccp_devstate.c, src/sccp_devstate.h, src/sccp_dllists.h,
	  src/sccp_event.c, src/sccp_event.h, src/sccp_featureButton.c,
	  src/sccp_featureButton.h, src/sccp_features.c,
	  src/sccp_features.h, src/sccp_hint.c, src/sccp_hint.h,
	  src/sccp_indicate.c, src/sccp_indicate.h, src/sccp_labels.h,
	  src/sccp_line.c, src/sccp_line.h, src/sccp_lock.h,
	  src/sccp_management.c, src/sccp_management.h, src/sccp_mwi.c,
	  src/sccp_mwi.h, src/sccp_pbx.c, src/sccp_pbx.h,
	  src/sccp_protocol.c, src/sccp_protocol.h, src/sccp_refcount.c,
	  src/sccp_refcount.h, src/sccp_rtp.c, src/sccp_rtp.h,
	  src/sccp_socket.c, src/sccp_socket.h, src/sccp_softkeys.c,
	  src/sccp_softkeys.h, src/sccp_threadpool.c,
	  src/sccp_threadpool.h, src/sccp_utils.c, src/sccp_utils.h:
	  Reformat sources

	* [r5789] ChangeLog, src/chan_sccp.c, src/chan_sccp.h,
	  src/chan_sccp_enums.hh, src/common.h, src/pbx_impl/ast/ast.c,
	  src/pbx_impl/ast/ast.h, src/pbx_impl/ast/ast104.h,
	  src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast106.h,
	  src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast108.h,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast110.h,
	  src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/ast111.h,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast112.h,
	  src/pbx_impl/ast/ast112_announce.c,
	  src/pbx_impl/ast/ast112_announce.h, src/pbx_impl/ast/ast113.c,
	  src/pbx_impl/ast/ast113.h, src/pbx_impl/ast/define.h,
	  src/pbx_impl/pbx_impl.c, src/pbx_impl/pbx_impl.h,
	  src/sccp_actions.h, src/sccp_adv_features.c,
	  src/sccp_adv_features.h, src/sccp_appfunctions.c,
	  src/sccp_appfunctions.h, src/sccp_channel.c, src/sccp_channel.h,
	  src/sccp_cli.c, src/sccp_cli.h, src/sccp_cli_table.h,
	  src/sccp_conference.h, src/sccp_config.c, src/sccp_config.h,
	  src/sccp_config_entries.hh, src/sccp_device.c, src/sccp_device.h,
	  src/sccp_devstate.c, src/sccp_devstate.h, src/sccp_dllists.h,
	  src/sccp_enum_macro.h, src/sccp_event.c, src/sccp_event.h,
	  src/sccp_event_enums.hh, src/sccp_featureButton.c,
	  src/sccp_featureButton.h, src/sccp_features.c,
	  src/sccp_features.h, src/sccp_hint.c, src/sccp_hint.h,
	  src/sccp_indicate.c, src/sccp_indicate.h, src/sccp_labels.h,
	  src/sccp_line.c, src/sccp_line.h, src/sccp_lock.h,
	  src/sccp_management.c, src/sccp_management.h, src/sccp_mwi.c,
	  src/sccp_mwi.h, src/sccp_pbx.c, src/sccp_pbx.h,
	  src/sccp_protocol.c, src/sccp_protocol_enums.hh,
	  src/sccp_refcount.c, src/sccp_refcount.h, src/sccp_rtp.c,
	  src/sccp_rtp.h, src/sccp_socket.c, src/sccp_socket.h,
	  src/sccp_softkeys.c, src/sccp_softkeys.h, src/sccp_threadpool.c,
	  src/sccp_threadpool.h, src/sccp_utils.c, src/sccp_utils.h:
	  Enhancement: Added kate source format line to all files. Fix:
	  gcc-4.9.2 compilation issue because of file end

2014-11-04  ddegroot

	* [r5788] src/sccp_mwi.h: Fix: Ast-13 compile issue. Reported by
	  Niklas Larsson.

2014-11-01  marcelloceschia

	* [r5787] autoconf/asterisk.m4, autoconf/extra.m4, configure,
	  src/config.h.in, src/pbx_impl/ast/define.h, src/sccp_mwi.c,
	  src/sccp_mwi.h: stasis patch by Matt Hoskins, requires
	  experiamental mode

2014-10-26  ddegroot

	* [r5786] src/sccp_config.c, src/sccp_event.c, src/sccp_pbx.c,
	  src/sccp_refcount.c, src/sccp_softkeys.c, src/sccp_threadpool.c:
	  Enhancement: replace free/ast_free with sccp_free and realloc
	  with sccp_realloc (consistency)

	* [r5785] src/sccp_event.c, src/sccp_refcount.c,
	  src/sccp_softkeys.c, src/sccp_threadpool.c, src/sccp_utils.c:
	  Enhancement: use sccp_malloc/sccp_calloc everywhere so that all
	  allocation show up in 'memory show summary'. Fix: Memory Leak in
	  sccp_softkey

2014-10-26  marcelloceschia

	* [r5784] src/sccp_socket.c: debug send messages when
	  DEBUGCAT_MESSAGE

2014-10-25  ddegroot

	* [r5783] src/sccp_softkeys.c: Fix: sccp_sk_post_reload to fixup
	  devices and softkeys (only required for experimental mode and
	  because of device before softkey parsing order

	* [r5782] src/sccp_softkeys.c: Fix: apptID -> appID

	* [r5781] src/sccp_softkeys.c: Fix: cleanup some of the doxygen
	  remarks

	* [r5780] conf/sccp.conf.annotated, src/chan_sccp.h,
	  src/sccp_actions.c, src/sccp_cli.c, src/sccp_config.c,
	  src/sccp_config_entries.hh, src/sccp_protocol.c,
	  src/sccp_protocol.h, src/sccp_softkeys.c, src/sccp_softkeys.h,
	  src/sccp_utils.c, src/sccp_utils.h: Enhancement: Added
	  'uriaction' parameter to softkeyset, which makes it possible to
	  intercept a softkey press and handled it using a custom
	  implementation by calling a url instead (experimental feature).
	  Custom Feature Requested by Cody Miller-Kelly (Vertiro)

2014-10-24  marcelloceschia

	* [r5779] src/sccp_indicate.c: fixes #228 (in and out of band
	  signaling during ringout)

2014-10-24  ddegroot

	* [r5778] src/sccp_actions.c, src/sccp_cli.c, src/sccp_softkeys.c,
	  src/sccp_softkeys.h: Enhancement: Reduce the softkey class
	  exposure

2014-10-23  ddegroot

	* [r5777] src/sccp_utils.c, src/sccp_utils.h: Enhancement: Added
	  labelstr2int lookup function

2014-10-19  ddegroot

	* [r5776] src/sccp_conference.c, src/sccp_pbx.c: Enhancement: Check
	  if conference->bridge was created succesfully during
	  conference_create or return NULL, and cancel conference. Issue
	  reported by Asela Fernando

	* [r5775] src/sccp_refcount.c: Fix: refcount array length should be
	  prime number.

	* [r5774] src/sccp_conference.c: Enhancement: Check if
	  conference->bridge exists before trying to join it. Issue
	  reported by Asela Fernando

2014-10-14  ddegroot

	* [r5773] conf/sccp.conf.annotated: Doc: add useRedialMenu
	  requiredment for phoneServices entry

2014-10-13  ddegroot

	* [r5772] src/sccp_channel.c: Fix: segfault set_originalCalledParty
	  / set_originalCallingParty. Reported by Alena Juk.

2014-10-10  marcelloceschia

	* [r5771] src/pbx_impl/ast/ast113.c: references #237; remove debug
	  notice output

	* [r5770] src/pbx_impl/ast/ast113.c: fixes #237; asterisk
	  introduces a none codec that kills asterisk translation path
	  whereas there a valid codec after the none

2014-10-09  ddegroot

	* [r5769] src/sccp_indicate.c: Fix: remove duplicate information
	  from status bar when channel is ringing, no need to duplicate the
	  CallPlane information

	* [r5768] contrib/phone_screenshot/phone_screenshot: Fix:
	  phone_screenshot

	* [r5767] src/sccp_indicate.c: Enhancement: Show
	  originalCalledNumber if available during ringin in the status bar

2014-10-08  ddegroot

	* [r5766] src/pbx_impl/ast/ast113.c, src/sccp_utils.c: Fix: doxygen
	  issues

	* [r5765] src/sccp_actions.c, src/sccp_pbx.c: Enhancement: Change
	  Log Levels to reduce logging with 'core set verbose 2' to only
	  show the most important including notices/errors

	* [r5764] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c,
	  src/sccp_channel.c, src/sccp_features.c, src/sccp_pbx.c: Cleanup:
	  scheduled digittimeout. Enhancement: Reduce log level for
	  extension matcher

	* [r5763] src/sccp_actions.c, src/sccp_device.c, src/sccp_line.c,
	  src/sccp_pbx.c: Enhancement: Revised cfwdBusy handling (db
	  update, device status check etc).

	* [r5762] ChangeLog, INSTALL, Makefile.in, autoconf/extra.m4,
	  autoconf/missing, configure, contrib/gen_sccpconf/Makefile.in,
	  doc/Makefile.in, src/Makefile.in: Update: ChangeLog staring at
	  revision 5500

2014-10-06  ddegroot

	* [r5761] src/sccp_protocol.h, src/sccp_utils.c, src/sccp_utils.h:
	  Enhancement: LineStat, LineStatV2, cli test message linestat

	* [r5760] src/sccp_actions.c, src/sccp_device.c: Fix: memory
	  corruption of url string in sccp_device_setBackground

	* [r5759] src/chan_sccp.h, src/sccp_appfunctions.c, src/sccp_cli.c,
	  src/sccp_config_entries.hh: Fix: Reinstating imageversion, Added:
	  loadedimageversion (set during register if available). Required
	  to force minimal required firmware revision on old devices
	  without cnf.xml file.

	* [r5758] src/sccp_pbx.c: Fix: one single line instance we should
	  be informing asterisk when the channel is going to forwarded,
	  when this channel is called. That way the 'i' option can be used
	  in app_queue for example. Also provided a shared line variant
	  which needs further testing

	* [r5757] src/sccp_device.c: Fix: Prevent long callforward
	  extensions from overflowing the statusprompt line

	* [r5756] src/pbx_impl/pbx_impl.h: Fix: renamed
	  setChannelCallForward parameter

	* [r5755] src/sccp_conference.c: Fix: Show new ConfList Icons for
	  phones with protocolversion 15 instead of 17. Reported by Cody
	  Miller-Kelly

2014-10-04  ddegroot

	* [r5754] contrib/convert_conf_to_sql.pl[ADD]: Added sccp.conf->sql
	  converter created by Dave Burgess to the contrib directory

2014-09-30  ddegroot

	* [r5753] src/sccp_softkeys.c: Fix: sccp_sk_answer replace barrier
	  with locked pbx_channel_ref and unref after sccp_channel_answer.
	  Clean: old remarks

2014-09-30  marcelloceschia

	* [r5752] src/sccp_utils.c: always close string with \0 when
	  copying strings between src and dst; closes #236

2014-09-26  ddegroot

	* [r5751] src/sccp_actions.c, src/sccp_channel.c,
	  src/sccp_protocol.c, src/sccp_protocol.h: Cleanup:
	  sccp_actions.c. Enhancement: Moved ConnectionStatReq to
	  sccp_protocol.c. Fixed: ConnectionStatRes processing for V22
	  messages.

	* [r5750] ChangeLog, src/sccp_cli.c: Fix: compiling with
	  --disable-realtime. Reported by Steve Hanselman

	* [r5749] ChangeLog, autoconf/asterisk.m4, configure,
	  src/config.h.in, src/sccp_cli.c, src/sccp_utils.c,
	  src/sccp_utils.h: Enhancement: Replacement for the
	  sccp_copy_string function. Added cli test function for callinfo.

	* [r5748] src/sccp_protocol.c: Fix: Add asterisk/unaligned.h to
	  sccp_protocol.c. Reported by Jay Glenn.

2014-09-23  ddegroot

	* [r5747] src/sccp_features.c: Fix: Conferencing selected calls.
	  Reported by David George.

2014-09-20  ddegroot

	* [r5746] src/sccp_refcount.c: Fix: refcount constructor debug
	  logging

	* [r5745] contrib/refcounter.py[ADD], src/sccp_refcount.c:
	  Enhancement: Switched to new asterisk refcount debugging method.
	  Used static declaration for ref_count_debug file and only open
	  and close it once per module load/unload cycle. Copied their
	  refcounter.py script to contrib directory.

	* [r5744] ChangeLog, aclocal.m4, autoconf/asterisk.m4, configure:
	  Fix: Added an extra check size <> 0 in sccp_copy_string

2014-09-19  ddegroot

	* [r5743] src/sccp_actions.c: Fix: buffer overflow in
	  sccp_handle_ConnectionStatistics when QualityStatsSize==0.
	  (Reported by Sharan Harkisoon)

2014-09-18  marcelloceschia

	* [r5742] src/sccp_protocol.h: fixes #234

2014-09-15  ddegroot

	* [r5741] src/sccp_protocol.h: Fix: Conference on 7960, reversion
	  of previous change (to please clang static analysis). (Patch
	  submitted by Sharan Harkisoon)

2014-09-10  ddegroot

	* [r5740] src/sccp_channel.c: Enhancement: Reduced WARNING to
	  sccp_log(DEBUGCAT_CHANNEL) in the channel_find functions.
	  (Reported by Sander Smeenk).

	* [r5739] src/sccp_device.c: Fix: Exclude setSoftkeyState when
	  KEYMODE_EMPTY is invoked

2014-09-09  ddegroot

	* [r5736] src/config.h.in, src/sccp_actions.c: Fix: Add
	  DEVICESTATE_OFFHOOK to sccp_handle_offhook. (Fix for sf:#239)

2014-09-08  ddegroot

	* [r5735] .version, ChangeLog, Makefile.in, NEWS, README,
	  autoconf/config.guess, autoconf/config.sub, autoconf/depcomp,
	  autoconf/install-sh, autoconf/missing, debian/changelog,
	  src/Makefile.in, src/config.h.in: Release: Chan_SCCP-4.2.0_RC2

2014-09-07  ddegroot

	* [r5734] src/sccp_actions.c, src/sccp_hint.c: Fix: Initialize
	  values

2014-09-06  ddegroot

	* [r5733] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c,
	  src/sccp_channel.c, src/sccp_pbx.c, src/sccp_refcount.h: Fix:
	  digittimeout / scheduled hangup issues reported when in immediate
	  mode using newly implemented sched_*_ref functions, correcting an
	  error in the asterisk AST_SCHED_DEL macro. (Reported by Pavel
	  Troller)

	* [r5732] src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast113.c:
	  Fix: old-style field designator extension

	* [r5731] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c: Fix:
	  CS_AST_CONTROL_INCOMPLETE handling in regards to digittimeout

	* [r5730] src/chan_sccp.c, src/chan_sccp.h, src/sccp_mwi.c:
	  Enhancement: Remove sccp_sched_del / sccp_sched_add functions in
	  favor of the PBX() versions

	* [r5729] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c,
	  src/pbx_impl/pbx_impl.h: Enhancement: Added
	  sched_add_ref/sched_del_ref/sched_replace_ref wrapper functions

2014-09-05  ddegroot

	* [r5728] conf/tftp/SEP0000000000.cnf.xml_797x_template: Enable
	  phoneservices in 797x template

2014-09-04  ddegroot

	* [r5727] src/chan_sccp.h, src/chan_sccp_enums.hh,
	  src/sccp_channel.c, src/sccp_hint.c, src/sccp_indicate.c,
	  src/sccp_protocol_enums.hh: Fix: Transfer to sharedline(default).
	  Fix: Channel on hold for transfer remote announcement causing
	  trouble to answer on sharedline device. (Reported by Antonio /
	  Ian / Martin)

2014-09-03  ddegroot

	* [r5726] src/chan_sccp.h, src/sccp_actions.c, src/sccp_channel.c,
	  src/sccp_pbx.c: Fix: digittimeout / scheduled_hangup / refcount

	* [r5725] src/sccp_channel.c, src/sccp_refcount.c: Fix
	  scheduled_hangup / scheduled_digit refcount.

2014-09-02  ddegroot

	* [r5724] src/chan_sccp_enums.hh, src/pbx_impl/ast/ast106.c,
	  src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/ast112.c,
	  src/pbx_impl/ast/ast113.c, src/sccp_hint.c, src/sccp_indicate.c:
	  Removed CHANNELSTATE_HELD_FOR_TRANSPORT

2014-09-01  ddegroot

	* [r5723] src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c:
	  Fix: compile error for asterisk-1.8 / asterisk-10. (Reported by
	  Hhornung)

	* [r5722] src/sccp_channel.c, src/sccp_channel.h: Enhancement:
	  Changed sccp_chanenl_sched_hangup_by_callid to static
	  _sccp_chanenl_sched_hangup

	* [r5721] src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c:
	  Fix: compile error for asterisk-1.8 / asterisk-10. (Reported by
	  Hhornung)

	* [r5720] src/sccp_channel.c: Revised set OriginalCalledParty /
	  OriginalCallingParty

	* [r5719] src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/ast112.c,
	  src/pbx_impl/ast/ast113.c: Fix: Allow calledparty/callingparty to
	  be overwritten using an empty string during connectedline update.
	  (Issue & Adapted Patch by Antonio).

	* [r5718] src/sccp_channel.c: Enhancement: Synchronized
	  setCalled/setCalling/setOriginalCalled/setOriginalCalling party
	  funcions.

	* [r5717] src/sccp_features.c: Fix: Transfer using 6921
	  (Reported/Patched by Antonio)

2014-08-31  ddegroot

	* [r5716] src/pbx_impl/ast/ast.c, src/sccp_appfunctions.c:
	  Enhancement: Implement a way to set OriginalCallingParty and
	  OrginalCalledParty from the dialplan. Revised supplied p1 patch
	  in favor of implementing the same functionality via CHANNEL()
	  instead. Deprecated the SCCPSetCalledParty function in the
	  process. (Reported and Patch (p1) provided by Nikolay Vasilev)

	* [r5715] src/sccp_utils.c: Enhancement: Store callforward
	  information into astdb once by device/line and once by
	  line/device. (Reported and Patch (p2_v2) provided by Nikolay
	  Vasilev)

	* [r5714] src/chan_sccp.h, src/pbx_impl/ast/ast111.c,
	  src/sccp_actions.c, src/sccp_channel.c, src/sccp_channel.h,
	  src/sccp_features.c, src/sccp_indicate.c, src/sccp_pbx.c,
	  src/sccp_softkeys.c: Fix: scheduled hangup (references #220,
	  references #221, references #223, references #224)

2014-08-30  ddegroot

	* [r5713] src/sccp_device.c: Fix: Remove const from device when
	  running without atomic functions

2014-08-30  marcelloceschia

	* [r5712] conf/tftp/XMLDefault504G.cnf.xml[ADD]:
	  XMLDefault504G.cnf.xml

2014-08-30  ddegroot

	* [r5711] src/sccp_device.c: Fix: memset call_statistics during
	  device creation

	* [r5710] src/chan_sccp.h, src/sccp_actions.c, src/sccp_cli.c:
	  Remove call_stats->type which is not required and seems to
	  conflict with pthreads

	* [r5709] src/sccp_socket.c: Fix: Downplay getnameinfo error in
	  sccp_socket_stringify (We are trying to report and error, and
	  should not generate extra ones if the incoming data is wrong).
	  Use them instead of tmp__addr.ss to report connection issues in
	  sccp_socket_getOurAddressfor. (Reported by Jordan Cook)

2014-08-29  ddegroot

	* [r5708] src/pbx_impl/ast/ast106.c: Fix compilation against
	  asterisk-1.6

2014-08-23  ddegroot

	* [r5707] src/sccp_hint.c: Enhancement: Localize the creation and
	  use of tmpChannel (only where needed)

	* [r5706] README.md: Fix: README.md documentation links

2014-08-22  ddegroot

	* [r5705] ChangeLog: Test: svn commit hook

	* [r5704] ChangeLog: Test: svn commit hook

	* [r5703] INSTALL: Test: svn commit hook

	* [r5702] ChangeLog: Test: svn commit hook

	* [r5701] .travis.yml: Fix: .travis.yml replace sude with sudo

2014-08-21  ddegroot

	* [r5700] .travis.yml: Enhancement: Test to see if travis can use
	  ubuntu trusty sources for asterisk-11 (permission fix)

	* [r5699] .travis.yml: Enhancement: Test to see if travis can use
	  ubuntu trusty sources for asterisk-11

	* [r5698] .travis.yml: Fix: rather use ddegroot instead.

2014-08-21  marcelloceschia

	* [r5697] .travis.yml: add notifications

2014-08-21  ddegroot

	* [r5696] README.md: Update: README.md

	* [r5695] .travis.yml: Fix: Make travis compile against asterisk-11
	  (3) :-((

	* [r5694] .travis.yml: Fix: Make travis compile against asterisk-11
	  (2) :-(

	* [r5693] .travis.yml: Fix: Make travis compile against asterisk-11
	  (1)

	* [r5692] README.md: Fix: README.md

	* [r5691] .travis.yml: Fix: Make travis compile against asterisk-11

	* [r5690] Makefile.am, Makefile.in: Fix: Add test to Makefile for
	  travis.yml

	* [r5689] README.md: Fix: README.md

2014-08-21  marcelloceschia

	* [r5688] README.md: test

2014-08-21  ddegroot

	* [r5687] src/sccp_labels.h: Doc: Added some comments to labels

	* [r5686] src/pbx_impl/ast/ast.c: Fix: hangup after conference
	  should be queue, but no ast_pbx_pbx was ever started, because we
	  were running our own conference thread.

	* [r5685] src/sccp_conference.c: Fix: conferenceId difference
	  between moderator and poarticipant

2014-08-20  ddegroot

	* [r5684] README, README.md[ADD]: Added travis compilation status
	  link

	* [r5683] README: Added travis compilation status link

	* [r5682] .travis.yml[ADD]: Added travis yml file

	* [r5681] src/sccp_cli.c: Enhancement: Added 'sccp show hint
	  lineStates' cli/ami function. Added 'sccp show hint
	  subscriptions' cli/ami function. Extension: Added test message to
	  display screenshot of all supported labels by a particular device
	  (part of label research).

	* [r5680] src/sccp_hint.c, src/sccp_hint.h: Enhancement: Added
	  'sccp show hint lineStates' cli/ami function. Added 'sccp show
	  hint subscriptions' cli/ami function. Extension: Added test
	  message to display screenshot of all supported labels by a
	  particular device (part of label research).

	* [r5679] contrib/gen_sccpconf/gen_sccpconf.c,
	  contrib/gen_sccpconf/gen_sccpconf.h: Fix: gen_sccpconf adaptation
	  to new sccp_config_entries.hh format.

2014-08-19  ddegroot

	* [r5678] src/pbx_impl/ast/ast113.h: Fix: asterisk-13 + conference

2014-08-19  marcelloceschia

	* [r5677] src/pbx_impl/ast/ast113.c: fix asterisk 13 compiling with
	  video and conference

2014-08-19  ddegroot

	* [r5676] src/sccp_channel.c, src/sccp_device.c: Fix: Prevent
	  Indicate Ringing from cleaning out the called party name if
	  already set correctly. Adapt sccp_channel_set_calledparty to make
	  it possible to distinquish between leaving the name alone or
	  cleaning it out. (Reported/Tested by Nikolay Vasilev)

	* [r5675] src/sccp_channel.c, src/sccp_device.c: Revert
	  sccp_channel.c sccp_device.c from previous commit (accidentally
	  checked in)

	* [r5674] src/pbx_impl/ast/ast113.c, src/pbx_impl/ast/ast113.h,
	  src/sccp_channel.c, src/sccp_device.c: Fix: ast-13 compilation
	  with conference. Fix: const/non-const compile warning

	* [r5673] src/pbx_impl/ast/ast112.h: Fix: file header

2014-08-19  marcelloceschia

	* [r5672] src/pbx_impl/ast/ast113.c, src/pbx_impl/ast/ast113.h:
	  starting with asterisk 13 compatibility

2014-08-19  ddegroot

	* [r5671] src/sccp_device.c: Fix: Rework indicate dialing so that
	  Placed Calls information is updated correctly. SendCallState has
	  to happen after sendDialedNumber & sendCallInfo. Split the
	  function in two helper parts to reduce the number of earlyrtp
	  checks. sccp_device_indicate_dialing should be removed completely
	  later on. (Issue reported by Steve Storts)

2014-08-18  ddegroot

	* [r5670] Makefile.in, autoconf/asterisk.m4, autoconf/extra.m4,
	  configure, contrib/gen_sccpconf/Makefile.in, doc/Makefile.in,
	  src/Makefile.am, src/Makefile.in, src/pbx_impl/ast/ast.h,
	  src/pbx_impl/ast/ast113.h: Fix: Update configure.ac/makefile.am
	  to recognise asterisk-trunk (asterisk-13). Compilation against
	  asterisk-13 currently broken, needs fixing/more work. references
	  #226.

	* [r5669] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c,
	  src/sccp_hint.c, src/sccp_indicate.c: Fix: Spelling mistake

	* [r5668] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c,
	  src/sccp_hint.c, src/sccp_indicate.c: Enhancement: Adapt to added
	  SCCP_CHANNELSTATE_HELP_FOR_TRANSFER

	* [r5667] src/chan_sccp_enums.hh, src/sccp_channel.c: Enhancement:
	  Added SCCP_CHANNELSTATE_HELD_FOR_TRANSFER (references #211)

2014-08-16  ddegroot

	* [r5666] src/sccp_device.c, src/sccp_socket.c: Fix: compile
	  warning because of unused variable

	* [r5665] src/sccp_features.c: Fix: Compile Error. References #219
	  / Bug Report: 237 / HHornung

2014-08-16  marcelloceschia

	* [r5664] src/sccp_features.c: references #219

	* [r5663] src/sccp_indicate.c: closes #217 (Shared Line & Caller ID
	  )

2014-08-13  ddegroot

	* [r5662] src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c:
	  Enhancement: Set lastRedirectReason = 4 when call is being
	  transfer -> Will show more detailed information in ReceiveCalls
	  (Original Caller and Transferer records). (Supported in
	  Information Gathering and Analyses by Philippe Teissier.).
	  Callplane does not show the improvement that we hoped for though,
	  which is a shame.

	* [r5661] src/sccp_device.c, src/sccp_socket.c: Fix: Make
	  sccp_session_removeDevice return the device that was removed from
	  the session, so that we can use it for some other action. Use
	  sccp_session_removeDevice during crossoversession handling (Which
	  includes locking the session during the procedure.). (Minor Issue
	  reported by Pavel).

2014-08-11  ddegroot

	* [r5660] src/sccp_labels.h: Doc: Updated some comments to labels,
	  to clarify their current/future use

	* [r5659] src/chan_sccp.h, src/sccp_labels.h: Doc: Added some
	  comments to labels, to clarify their current/future use

	* [r5658] src/sccp_conference.c: Fix: conference regression.
	  (Reported by Alena Juk)

	* [r5657] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c: Fix: hangup
	  when called without a non-existing sccp channel would unref the
	  channel before setting channel tech to NULL, causing a segfault
	  in ast_channel_destructor while free-ing channel tech. (Reported
	  by Dave Burgess)

2014-08-10  ddegroot

	* [r5656] aclocal.m4, autoconf/acinclude.m4, autoconf/extra.m4,
	  configure, tools/versioncheck: Enhancement: Change default
	  configure values for optization and debug when running inside
	  versioncontrolled directory. Values remain the same when using a
	  TGZ file.

	* [r5655] src/pbx_impl/ast/ast.c: Fix: Make digits[] const
	  (sendDigit)

	* [r5654] src/pbx_impl/ast/ast.c: Fix: Remove undefined behaviour
	  (sendDigit)

	* [r5653] src/sccp_utils.c: Debug: Add debug output for addons
	  using fauly d->config_type='7914' config parameter

	* [r5652] ChangeLog, src/sccp_actions.c, src/sccp_channel.c,
	  src/sccp_socket.c: Doc: Update/Fix Doxygen

	* [r5650] src/sccp_config.c: Fix: also deal with the bad config
	  example 'button = line, empty', that was accidentally
	  distributed.

	* [r5649] ChangeLog, conf/sccp.conf,
	  conf/sccp_hardware.conf.freepbx: Doc: Fix empty button examples

	* [r5648] src/sccp_socket.c: Debug: Reduce debug level of session
	  without a device attached output.

	* [r5647] src/sccp_config.c: Fix: Handle buttons with a type but
	  without any options as an empty button (Reworked). (Issue
	  reported by Dave Burgess)

	* [r5646] src/sccp_config.c: Fix: Revert revision 5644. (Issue
	  reported by Pavel)

2014-08-09  ddegroot

	* [r5645] src/sccp_channel.c: Fix: Check
	  d->lineButtons.instance[instance] before dereferencing any of
	  it's components. (Issue reported by Dave Burgess)

	* [r5644] src/sccp_config.c: Fix: Handle buttons with a type but
	  without any options as an empty button. (Issue reported by Dave
	  Burgess)

	* [r5643] src/chan_sccp.c, src/sccp_actions.c, src/sccp_socket.c,
	  src/sccp_socket.h: Enhancement: concentrate crossover session
	  handling in one function, Fix: crossover session device cleanup.
	  (Issue reported by Ian McAlees)

2014-08-08  ddegroot

	* [r5642] contrib/llvm-scan-build: Update: llvm-scan-build script
	  to include more checks

	* [r5641] src/sccp_actions.c, src/sccp_appfunctions.c,
	  src/sccp_config.c, src/sccp_device.c, src/sccp_socket.c,
	  src/sccp_utils.c: Fix: invalid use of sizeof refering to a
	  pointer instead of the actual size

	* [r5640] src/pbx_impl/ast/ast.c: Fix: senddigit->senddigits
	  leading to out of bounds access

	* [r5639] src/chan_sccp.h, src/sccp_cli.c: Fix: invalid use of
	  sizeof refering to a pointer instead of the actual size

	* [r5638] src/pbx_impl/ast/ast.c: Fix: senddigit->senddigits
	  leading to out of bounds access

	* [r5637] src/sccp_actions.c, src/sccp_protocol.c,
	  src/sccp_protocol.h, src/sccp_utils.c: Fix: memcpy out of bounds

	* [r5636] contrib/convert_runningconf_to_sql.sh[DEL],
	  contrib/gen_sccpconf/Makefile.in: Removal of
	  convert_runningconf_to_sql.sh

	* [r5635] src/sccp_actions.c, src/sccp_hint.c: Fix:
	  channelstate/callstate mixup

	* [r5634] src/chan_sccp.h, src/chan_sccp_enums.hh,
	  src/sccp_channel.c, src/sccp_channel.h, src/sccp_device.c,
	  src/sccp_device.h, src/sccp_hint.c, src/sccp_indicate.c,
	  src/sccp_indicate.h: Enhancement: Introduction of Groupable
	  ChannelStates (RB: 60)

2014-08-07  ddegroot

	* [r5633] src/sccp_devstate.c: Fix: Should use the retained version
	  of device, when walking throught he table, to prevent null
	  pointer dereference

	* [r5632] src/sccp_conference.c: Fix: Prevent potential
	  null-pointer dereferences

	* [r5631] src/sccp_hint.c: Fix: Should use the retained version of
	  device, when walking throught he table, to prevent null pointer
	  dereference

	* [r5630] src/sccp_actions.c: Fix: Existence of device is not
	  quaranteed at this moment

	* [r5629] src/sccp_line.c: Fix: Prevent dereference of NULL Pointer
	  when reading SCCP_LIST_GETSIZE

	* [r5628] src/config.h.in, src/sccp_actions.c, src/sccp_cli.c,
	  src/sccp_device.c, src/sccp_indicate.c: Fix: Dial Prompt /
	  Overlap Dialing Issue (Reported/Tested by Dan Huynh (normal
	  mode), Patched/Tested by Pavel Troller (immediate mode))

2014-08-06  ddegroot

	* [r5627] contrib/convert_runningconf_to_sql.sh[ADD]: Enhancement:
	  Created simple bash script to parse a running config to sql
	  output (Might need heavy modification by the user depending on
	  table format)

2014-08-05  ddegroot

	* [r5626] INSTALL, Makefile.in, aclocal.m4, autoconf/acinclude.m4,
	  autoconf/config.guess, autoconf/config.sub, autoconf/depcomp,
	  autoconf/install-sh, autoconf/missing, configure,
	  doc/Makefile.in, src/Makefile.in: Enhancement: Overwrite
	  pkg-config asterisk.pc settings when using --with-asterisk in
	  configure.

2014-08-04  ddegroot

	* [r5625] src/sccp_features.c: Prevention: Preventative fix for
	  memory leak when using getPickupExtension, in remarked out code.

	* [r5624] src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast106.c,
	  src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast111.c: Fix: gpickup via pickup extension (ie:
	  *8). (Reported by Ian)

2014-07-31  ddegroot

	* [r5623] src/sccp_actions.c: Enhancement: Added debug output when
	  redial is called without a lastnumber stored

	* [r5622] src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast111.c: Backport: no codecs when receiving
	  update_rtp_peer lead to segfault. (Reported and Tested by
	  Vladimir Karpov).

2014-07-30  ddegroot

	* [r5621] src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c:
	  Fix: update_rtp_peer called with 0 codecs when using >
	  asterisk-12. (Reported by Vladimir Karpov)

	* [r5620] src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/ast112.c,
	  src/pbx_impl/ast/ast113.c: Fix: debug message about hangup_cause
	  being set

	* [r5619] conf/sccp.conf.annotated, src/sccp_config_entries.hh:
	  Fix: Updated externip config comment. Regenerated
	  sccp.conf.annotated sample file.

	* [r5618] src/sccp_device.c: Fix: Add pushbackground to 796N
	  phones. (Reported by John Brithner)

	* [r5617] src/sccp_cli.c, src/sccp_config_entries.hh,
	  src/sccp_socket.c: Fix: setting default externip to 0.0.0.0, to
	  make the ipaddress parser happy. Reenabled showing externip in
	  cli:'sccp show globals'. Use anyaddress check in
	  sccp_socket_getExternalAddr() to see if default value has been
	  replaced by an actual address. (Re-Reported by Pavel)

	* [r5616] src/sccp_channel.c, src/sccp_config_entries.hh,
	  src/sccp_socket.c: Fix: if externip is not set fallback to
	  ipaddress of incoming interface. Remove deprecation from externip
	  parameter. This will restore previous behaviour but still provide
	  NAT behaviour needed for PBX on sepeperate host behind natted
	  firewall. (Reported by Dan / Pavel / Ian)

2014-07-28  ddegroot

	* [r5615] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast112.c,
	  src/pbx_impl/ast/ast113.c: Enhancement: add asterisk indication
	  translations

	* [r5614] src/sccp_config_entries.hh: Fix: Changed localnet default
	  to 'internal'

	* [r5613] src/sccp_device.c: Fix: compile failure (related to 69XX
	  commit)

	* [r5612] src/sccp_actions.c: Enhancement: Fix SoftKeySetRes
	  message, filling the SoftKeyInfoIndex correctly

	* [r5611] src/sccp_protocol.h: Fix: sync default offhookfeat
	  keymode with offhook keymode settings

	* [r5610] src/sccp_device.c, src/sccp_features.c: Support
	  transfer/callforward on 69XX phones, by using different keymodes.
	  Reported by Antonio

2014-07-27  ddegroot

	* [r5609] src/pbx_impl/ast/ast111.c, src/sccp_actions.c: Fix:
	  sccp_handle_keypadbutton when in CHANNELSTATE_DIALING or when
	  pbx_run is running we should to force overlap dialing from that
	  moment on. (Reported by Dan / Checked/Tested by Pavel).

2014-07-25  ddegroot

	* [r5608] conf/sccp.conf.annotated, src/sccp_actions.c,
	  src/sccp_channel.c, src/sccp_channel.h,
	  src/sccp_config_entries.hh: Enhancement: Transfer_on_hangup has
	  been changed to only be activated by onhook event. The endcall
	  softkey will cancel the transfer and revert to the original
	  caller. (Requested by Antonio)

2014-07-24  ddegroot

	* [r5607] src/sccp_actions.c, src/sccp_channel.c, src/sccp_rtp.c,
	  src/sccp_socket.c, src/sccp_socket.h: Fix: NAT issue after IPv6
	  implementation, Fixes long standing nat issue since revision 5063
	  (Reported by Dan Huynh).

	* [r5606] src/sccp_device.c, src/sccp_protocol.h: Fix:
	  KEYMODE_OFFHOOKFEAT when KEYMODE_OFFHOOK is requested during
	  Transfer on protocolversion 22 phones (Which should include
	  69XX). Not sure if this should be specific for 69XX phones or if
	  protoversion 22 phones in general need this keymode. (Reported by
	  Antonio).

2014-07-22  ddegroot

	* [r5605] src/sccp_threadpool.c: Fix thread_t pointer (debug
	  information) for x86 by forcing to void pointer (generic)

	* [r5604] conf/sccp.conf: Fix: sccp.conf example by removing some
	  of the deprecated / obsolete values

	* [r5603] src/sccp_threadpool.c: Fix: make compatible with system
	  where pthread_t is a pointer which cannot be downgraded to
	  unsigned int.

2014-07-19  ddegroot

	* [r5602] src/sccp_protocol.c, src/sccp_protocol.h: Enhancement:
	  OpenReceiveChannel V3 message, to include remote source
	  ip-address and port

2014-07-16  ddegroot

	* [r5601] src/sccp_actions.c, src/sccp_protocol.c: Fix: enbloc
	  dialing on 7936 using protocolversion 4 (Cleaning out
	  lineInstance correctly) (Reported by Ivan Isenko).

	* [r5600] src/sccp_protocol.c: Added Enbloc dialing to SPCP
	  protocol (Reported by Ivan Isenko).

